<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
    <meta name="baidu-site-verification" content="codeva-LpejxCGddy" />
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="dns-prefetch" href="https://clear-liquid.github.io">
    <title>
      
        React | 
            时间胶囊
    </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
          <meta name="description" content="React">
<meta property="og:type" content="article">
<meta property="og:title" content="React">
<meta property="og:url" content="https://clear-liquid.github.io/React/index.html">
<meta property="og:site_name" content="时间胶囊">
<meta property="og:description" content="React">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://clear-liquid.github.io/React/6JCTWHzQ5vCgtp7SBMrvzw.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/qrsGxg00swjEffJ9mZ7f6A.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/Q5vwPzyDApdF0qwwVBVcVg.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/CIqpwKvZ7aheiVG3kJD2Ag.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/3-YqJtc6_B8wRAg1NX-wOw.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/_5FIjoAQSPZq3ADskCKWuw.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/qPKqlsQI9m98T2IWtgREnA.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/1611196030416.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221205013950522.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/iXhbgWkTc6OEp7YhrqZT3w">
<meta property="og:image" content="https://clear-liquid.github.io/React/dYDuV1hKrgeWmuCQvzO0JA.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/ROGIG3tYrZ49vgMb2GFADA.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/UrsIlyWilqycNXiS6XQfKg.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/c5r7PQA9yIGRsor8oQbh5Q.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221130175348994.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221211181615403.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/m_UjIk1HoT-NduGhTXeHRg.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221212163556839.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221213113209674.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221213131342346.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221213105028232.png">
<meta property="og:image" content="file:////tmp/wps-mc/ksohtml/wpsgDIqi9.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221213220712071-16709404333269.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221213231857457.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221214102230446.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221214102927220.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221213211607931-16709373691677.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lGQ29va2ll,size_16,color_FFFFFF,t_70.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221213213455075.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221214123041727.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221214123026819.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221214132342755.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/NkFbZibfdpVoNKU1iK-Fxw.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/7pxBiZJhYGbZU-OppYWfeA.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/OTQgZxw00HHo2OneZw3Tug.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221214172651124.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221214172423631.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221214180130269.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20221214202137067-167102050147717.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20230102202917907.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20230103170542389.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20230103205556847.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20230103205615031.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210426200101386.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210426205239706.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210426205432605.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210426205857626.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210426205920921.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70-167283404774096.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210426210219122.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210426194115910.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210426194416920.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/2021042620203772.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/2021042620203772-16728139919965.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210430170644386.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210430170550221.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/2021042621501548.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210426215307718.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70-167282234982417.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70-167282232396214.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210430181231175-167283181554073.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210430181349166.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282373422224.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282374531127.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282375447030.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282376926933.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282377777636.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282380022639.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282380979842.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282385271648.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282394959659.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282389994754.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282388892751-167282392057857.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282407960462.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282409293865.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282410200668.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210628152524770.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70-167283194572777.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70-167283195637880.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70-167283197491583.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20230105101515621-16728849185611.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20230105101750488-16728850719353.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/20210430210545873.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20230106110239646-16729741614052.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/aceec9d1ca114dfb8cdd2ce7c428db1etplv-k3u1fbpfcp-zoom-in-crop-mark4536000.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20230106210228090.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/react-redux%E6%A8%A1%E5%9E%8B%E5%9B%BE.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/7a06e9f12651425fab6f62f0041372c1.png">
<meta property="og:image" content="https://clear-liquid.github.io/media/mc/F/%E7%AC%94%E8%AE%B0/%E7%AC%94%E8%AE%B0/React.assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAeuatouS6juiHs-WWhA==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAeuatouS6juiHs-WWhA==,size_20,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/image-20230109112313099.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/f86f98dd6ff7d01b.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA54uX5Ymp6ZuG5Zui,size_20,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/04c25983de3340679bbb7ae2d2dafdf0.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA54uX5Ymp6ZuG5Zui,size_20,color_FFFFFF,t_70,g_se,x_16-16732662034247.png">
<meta property="og:image" content="https://clear-liquid.github.io/React/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA54uX5Ymp6ZuG5Zui,size_20,color_FFFFFF,t_70,g_se,x_16-167326632034410.png">
<meta property="article:published_time" content="2023-02-16T14:41:52.000Z">
<meta property="article:modified_time" content="2023-02-17T14:19:27.208Z">
<meta property="article:author" content="沐澈">
<meta property="article:tag" content="框架">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://clear-liquid.github.io/React/6JCTWHzQ5vCgtp7SBMrvzw.png">
            
              <link rel="alternative" href="/atom.xml" title="时间胶囊"
                type="application/atom+xml">
              
                
                  <link rel="icon" href="/favicon.ico">
                  
                    
                      <link rel="apple-touch-icon" href="/apple-touch-icon-180x180.png">
                      
                        <link rel="stylesheet" type="text/css" href="/./main.a5fda8.css">
<link rel="stylesheet" href="http://at.alicdn.com/t/c/font_3875704_g9okdxt20pm.css">
<style>
  .icon-yuque {
    font-family: "iconfont" !important;
    font-size: 16px;
    font-style: normal;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
</style>
                          <style type="text/css">
                            #container.show {
                              background: linear-gradient(200deg,#a0cfe4,#e8c37e);
                            }
                          </style>
                          

                            

                              
                                
                                  <script src="/lib/clickLove.js"></script>
                                  
                                    


                                      

<link rel="stylesheet" href="/assets/css/APlayer.min.css" class="aplayer-style-marker">
<script src="/assets/js/APlayer.min.js" class="aplayer-script-marker"></script>
<script src="/assets/js/Meting.min.js" class="meting-script-marker"></script>
</head>

<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
	
		
			<div class="overlay"
				style="background: linear-gradient(to top, #d299c2 0%, #fef9d7 100%);background: url('/img/biubiubiu.gif') no-repeat ;">
			</div>
			<div class="intrude-less">
				<header id="header" class="inner">
					<a href="/" class="profilepic">
						<img src="/img/head.jpg" class="js-avatar">
					</a>
					<hgroup>
						<h1 class="header-author"><a href="/">
								沐澈
							</a></h1>
					</hgroup>
					

							<nav class="header-menu">
								<ul>
									
										<li><a href="/" target="_blank"
													>主页</a></li>
										
										<li><a href="/categories" target="_blank"
													>分类</a></li>
										
										<li><a href="https://zhousiwei.gitee.io/ibooks/" target="_blank"
													>技术笔记</a></li>
										
										<li><a href="/tags/%E9%9A%8F%E7%AC%94/" target="_blank"
													>随笔</a></li>
										
								</ul>
							</nav>
							<nav class="header-smart-menu">
								
									
										<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">
											所有文章
										</a>
										
											
									
										<a q-on="click: openSlider(e, 'friends')" href="javascript:void(0)">
											友链
										</a>
										
											
							</nav>
							<nav class="header-nav">
								<div class="social">
									
										
											<a class="github" href="https://github.com/clear-liquid"
												title="GitHub"
												target="_blank">
												<i class="icon-github "></i>
											</a>
											
												
										
											<a class="gitee" href="https://gitee.com/mu-ce"
												title="码云"
												target="_blank">
												<i class="icon-gitee "></i>
											</a>
											
												
										
											<a class="yuque" href="https://www.yuque.com/dashboard"
												title="subNav.title.yuque"
												target="_blank">
												<i class="icon-yuque "></i>
											</a>
											
												
										
											<a class="weixin" href="/img/weixin_.png"
												title="微信"
												target="_blank">
												<i class="icon-weixin "></i>
											</a>
											
												
										
											<a class="mail" href="mailto:2374044812@qq.com"
												title="邮件联系"
												target="_blank">
												<i class="icon-mail "></i>
											</a>
											
												
								</div>
								
									
										

																

																						
																							
																								<div id="aplayer-hjnObCgk"
																									class="aplayer aplayer-tag-marker meting-tag-marker"
																									data-id="8172878910"
																									data-server="netease"
																									data-type="playlist"
																									data-loop="none"
																									data-order="random" data-lrctype="0"
																									data-listfolded="true"
																									data-fixed="true"
																									data-autoplay="false"
																									data-volume="0.4"
																									data-mutex="true"
																									data-listmaxheight="300px"
																									data-preload="none"
																									data-theme="">
																								</div>
																								
																									

							</nav>
				</header>
			</div>
    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
      
      <a class="forkMe" style="position:absolute;z-index:999;top:0;right:0.5em;" 
        href="https://github.com/JoeyBling/hexo-theme-yilia-plus" target="_blank">
        <img src="/img/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
      
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: linear-gradient(to top, #d299c2 0%, #fef9d7 100%)"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<a href="/">
					<img src="/img/head.jpg" class="js-avatar">
				</a>
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author">沐澈</h1>
			</hgroup>
			
			
			
				
			
				
			
				
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						
						<a class="github" target="_blank" 
							href="https://github.com/clear-liquid" title="GitHub"><i class="icon-github"></i></a>
						
					
						
						<a class="gitee" target="_blank" 
							href="https://gitee.com/mu-ce" title="码云"><i class="icon-gitee"></i></a>
						
					
						
						<a class="yuque" target="_blank" 
							href="https://www.yuque.com/dashboard" title="subNav.title.yuque"><i class="icon-yuque"></i></a>
						
					
						
						<a class="weixin" target="_blank" 
							href="/img/weixin_.png" title="微信"><i class="icon-weixin"></i></a>
						
					
						
						<a class="mail" target="_blank" 
							href="mailto:2374044812@qq.com" title="邮件联系"><i class="icon-mail"></i></a>
						
					
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 70%">
				
				
					<li style="width: 25%"><a href="/">主页</a></li>
		        
					<li style="width: 25%"><a href="/categories">分类</a></li>
		        
					<li style="width: 25%"><a target="_blank" rel="noopener" href="https://zhousiwei.gitee.io/ibooks/">技术笔记</a></li>
		        
					<li style="width: 25%"><a href="/tags/%E9%9A%8F%E7%AC%94/">随笔</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1"
              class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            <article id="post-React" class="article article-type-post " itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
  
  
    <h1 class="article-title" itemprop="name">
      React
    </h1>
  


  
  
        
        <span id="busuanzi_container_page_pv" style='display:none' class="archive-article-date">
              <i class="icon-smile icon"></i> 阅读数：<span id="busuanzi_value_page_pv"></span>次
        </span>

<a href="/React/" class="archive-article-date">
        <time datetime="2023-02-16T14:41:52.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2023-02-16</time>
</a>

  
  
    
<div style="margin-top:10px;">
  <span class="post-time">
    <span class="post-meta-item-icon">
      <!-- fonts.scss -->
      <!-- 百度字体平台:http://fontstore.baidu.com/static/editor/index.html -->
      <i class="icon-statistics"></i>
      <span class="post-meta-item-text"> 字数统计:</span>
      <span class="post-count">35.5k字</span>
    </span>
  </span>

  <span class="post-time">
    &nbsp; | &nbsp;
    <span class="post-meta-item-icon">
      <i class="icon-book icon"></i>
      <span class="post-meta-item-text"> 阅读时长≈</span>
      <span class="post-count">167分</span>
    </span>
  </span>
</div>


  
  </header>
  
  <div class="article-entry" itemprop="articleBody">
    
    <h1 id="React"><a href="#React" class="headerlink" title="React"></a>React</h1><span id="more"></span>


<p><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/">中文官网</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/xzlaptt/React">参考笔记1</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/linjunc/react-study">参考笔记2</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/linjunc/react-study">参考笔记3</a></p>
<h2 id="React简介"><a href="#React简介" class="headerlink" title="React简介"></a>React简介</h2><p><strong>react是什么？</strong></p>
<p>React用于构建用户界面的JS库。是一个将数据渲染为HTML视图的开源JS库。</p>
<p><img src="/React/6JCTWHzQ5vCgtp7SBMrvzw.png" alt="img"></p>
<p><img src="/React/qrsGxg00swjEffJ9mZ7f6A.png" alt="img"></p>
<p><strong>为什么学？</strong></p>
<p>1.原生JS操作DOM繁琐，效率低</p>
<p>2.使用JS直接操作DOM,浏览器会进行大量的重绘重排</p>
<p>3.原生JS没有组件化编码方案，代码复用低</p>
<p>React的特点</p>
<p><img src="/React/Q5vwPzyDApdF0qwwVBVcVg.png" alt="img"></p>
<p><img src="/React/CIqpwKvZ7aheiVG3kJD2Ag.png" alt="img"></p>
<p><img src="/React/3-YqJtc6_B8wRAg1NX-wOw.png" alt="img"></p>
<p><img src="/React/_5FIjoAQSPZq3ADskCKWuw.png" alt="img"></p>
<p><img src="/React/qPKqlsQI9m98T2IWtgREnA.png" alt="img"></p>
<blockquote>
<p>在学习之前最好看一下关于npm的知识：下面是我在网上看见的一个写的还不错的npm的文章</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_25502269/article/details/79346545">npm</a></p>
</blockquote>
<h2 id="React入门"><a href="#React入门" class="headerlink" title="React入门"></a>React入门</h2><h3 id="React-基础案例"><a href="#React-基础案例" class="headerlink" title="React 基础案例"></a>React 基础案例</h3><p>1.先倒入三个包：</p>
<p>【先引入react.development.js，后引入react-dom.development.js】</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">react.<span class="property">development</span>.<span class="property">js</span> &lt;!-- 核心库 --&gt;</span><br><span class="line">react-dom.<span class="property">development</span>.<span class="property">js</span> &lt;!-- 扩展库 --&gt;</span><br><span class="line">babel.<span class="property">min</span>.<span class="property">js</span>  &lt;!-- 引入babel，用于将jsx转为js --&gt;</span><br></pre></td></tr></table></figure>

<p>2.创建一个容器</p>
<p>3.创建虚拟DOM，渲染到容器中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 准备好容器 --&gt;</span><br><span class="line">    &lt;div id=&quot;test&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;!-- 引入依赖 ,引入的时候，必须就按照这个步骤--&gt;</span><br><span class="line">&lt;script src=&quot;../js/react.development.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;../js/react-dom.development.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=&quot;../js/babel.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--这里使用了babel用来解析jsx语法--&gt;</span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">        // 1.创建虚拟DOM</span><br><span class="line">        const VDOM = &lt;h1&gt;Hello&lt;/h1&gt;  //这个地方使用的是JSX语法，不需要加&quot;&quot;</span><br><span class="line">        // 2.渲染，如果有多个渲染同一个容器，后面的会将前面的覆盖掉</span><br><span class="line">        ReactDOM.render(VDOM,document.getElementById(&quot;test&quot;));        </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>这样，就会在页面中的这个div容器上添加这个h1。</p>
<p><img src="/React/1611196030416.png" alt="漂染结果"></p>
<h3 id="两种创建虚拟DOM的方式"><a href="#两种创建虚拟DOM的方式" class="headerlink" title="两种创建虚拟DOM的方式"></a>两种创建虚拟DOM的方式</h3><p><strong>1.使用JSX创建虚拟DOM</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">VDOM</span> = (</span><br><span class="line">    <span class="comment">//可以不加括号，加括号只是看起来像是一个整体</span></span><br><span class="line">           <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span> = <span class="string">&#123;MyId.toLocaleUpperCase()&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">               <span class="tag">&lt;<span class="name">span</span> <span class="attr">className</span> = <span class="string">&quot;sss&quot;</span> <span class="attr">style</span> = <span class="string">&#123;&#123;fontSize:</span>&#x27;<span class="attr">50px</span>&#x27;&#125;&#125;&gt;</span>sss<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">           <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">       )</span><br></pre></td></tr></table></figure>

<p>这个在上面的案例中已经表现了，下面看另外一种创建虚拟DOM的方式</p>
<p><strong>2.使用JS创建虚拟DOM</strong></p>
<p>这种写法不行，第三个参数为标签体内容</p>
<p><img src="/React/image-20221205013950522.png" alt="image-20221205013950522"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line"><span class="comment">//1.创建虚拟DOM =&gt; React.createElement</span></span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">VDOM</span> = <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;h1&#x27;</span>, &#123;<span class="attr">id</span>: <span class="string">&#x27;title&#x27;</span>&#125;, <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;span&#x27;</span>, &#123;&#125;, <span class="string">&#x27;Hello,React&#x27;</span>))</span><br><span class="line"><span class="comment">//2.渲染虚拟DOM到页面</span></span><br><span class="line">    <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="variable constant_">VDOM</span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>))</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>使用JS和JSX都可以创建虚拟DOM，但是可以看出来JS创建虚拟DOM比比较繁琴，尤其是标签如果很多的情况下，所以还是比较推荐使用JSX。</p>
<h3 id="真实-x2F-虚拟DOM比较"><a href="#真实-x2F-虚拟DOM比较" class="headerlink" title="真实&#x2F;虚拟DOM比较"></a><strong>真实&#x2F;虚拟DOM比较</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;3_虚拟DOM与真实DOM&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!-- 准备好一个“容器” --&gt;</span><br><span class="line">&lt;div id=&quot;test&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;demo&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 引入react核心库 --&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;/* 此处一定要写babel */</span><br><span class="line">//1.创建虚拟DOM</span><br><span class="line">const VDOM = (  /* 此处一定不要写引号，因为不是字符串 */</span><br><span class="line">    &lt;h1 id=&quot;title&quot;&gt;</span><br><span class="line">		&lt;span&gt;Hello,React&lt;/span&gt;</span><br><span class="line">	&lt;/h1&gt;</span><br><span class="line">)</span><br><span class="line">//2.渲染虚拟DOM到页面</span><br><span class="line">ReactDOM.render(VDOM, document.getElementById(&#x27;test&#x27;))</span><br><span class="line"></span><br><span class="line">const TDOM = document.getElementById(&#x27;demo&#x27;)</span><br><span class="line">console.log(&#x27;虚拟DOM&#x27;, VDOM);</span><br><span class="line">console.log(&#x27;真实DOM&#x27;, TDOM);</span><br><span class="line">debugger;</span><br><span class="line">// console.log(typeof VDOM);</span><br><span class="line">// console.log(VDOM instanceof Object);</span><br><span class="line">/*</span><br><span class="line">    关于虚拟DOM：</span><br><span class="line">       1.本质是Object类型的对象（一般对象）</span><br><span class="line">       2.虚拟DOM比较“轻”，真实DOM比较“重”，因为虚拟DOM是React内部在用，无需真实DOM上那么多的属性。</span><br><span class="line">       3.虚拟DOM最终会被React转化为真实DOM，呈现在页面上。</span><br><span class="line"> */</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="JSX基础语言法"><a href="#JSX基础语言法" class="headerlink" title="JSX基础语言法"></a>JSX基础语言法</h3><p><img src="/React/iXhbgWkTc6OEp7YhrqZT3w" alt="img"></p>
<p>1.定义虚拟DOM，不能使用引号，（加引号会识别成字符串，不能解析标签）</p>
<p>2.标签中混入JS表达式的时候使用{}</p>
<p>3.样式的类名指定不要使用class ，使用className</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span>.内联式要使用双大花括号包&#123;&#123;&#125;&#125;（即在标签内写）（注意加引号，不加引号读的是变量）</span><br><span class="line">style = &#123;&#123;fontSize:<span class="string">&#x27;50px&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>



<p>5.不能有多个根标签，只能有一个根标签</p>
<p>6.标签必须关闭合</p>
<p>7.标签首字母</p>
<p>​		（1）若以<strong>小写字母开头</strong>，则将改标签转化为html中同名元素，<strong>若html中无该对应的同名元素，则报错</strong></p>
<p>​		（2）若以大写字母开头，react就去渲染对应的组件，若组件没有定义，则报错</p>
<blockquote>
<p>关于JS表达式和JS语句：</p>
<p>JS表示达式：返回一个值，可以放在任何一个需要值的地方a a+b demo(a) arr.map() function text(){}</p>
<p>JS语句：if(){} for(){} while (){} swith(){} 不会返回一个值</p>
</blockquote>
<p>实例如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .sss&#123;</span><br><span class="line">            color: red;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 准备好容器 --&gt;</span><br><span class="line">    &lt;div id=&quot;test&quot;&gt;</span><br><span class="line">        </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;!-- 引入依赖 ,引入的时候，必须就按照这个步骤--&gt;</span><br><span class="line">&lt;script src=&quot;../js/react.development.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;../js/react-dom.development.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!--这里使用了js来创建虚拟DOM--&gt;</span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">        const MyId = &quot;title&quot;;</span><br><span class="line">        const MyData = &quot;Cyk&quot;;</span><br><span class="line">        // 1.创建虚拟DOM</span><br><span class="line">        const VDOM = (</span><br><span class="line">            &lt;h1 id = &#123;MyId.toLocaleUpperCase()&#125;&gt;</span><br><span class="line">                &lt;span className = &quot;sss&quot; style = &#123;&#123;fontSize:&#x27;50px&#x27;&#125;&#125;&gt;sss&lt;/span&gt;</span><br><span class="line">            &lt;/h1&gt;</span><br><span class="line">        )</span><br><span class="line">        // 2.渲染，如果有多个渲染同一个容器，后面的会将前面的覆盖掉</span><br><span class="line">        ReactDOM.render(VDOM,document.getElementById(&quot;test&quot;));</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="jsx语法练习"><a href="#jsx语法练习" class="headerlink" title="jsx语法练习"></a><strong>jsx语法练习</strong></h3><p>注释写法</p>
<blockquote>
<p>使用花括号将内容转化为js代码在使用js的注释方法</p>
</blockquote>
<blockquote>
<p><strong>react默认会遍历数组,但是对象不能遍历报错如下</strong></p>
</blockquote>
<p><img src="/React/dYDuV1hKrgeWmuCQvzO0JA.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;root&quot;&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;!-- 核心库 --&gt;</span><br><span class="line">  &lt;script src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;!-- 扩展库 --&gt;</span><br><span class="line">  &lt;script src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;!-- 引入babel，用于将jsx转为js --&gt;</span><br><span class="line">  &lt;script src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    // 数组类型默认可以遍历</span><br><span class="line">    let data = [&#x27;vue&#x27;, &#x27;react&#x27;, &#x27;angular&#x27;];</span><br><span class="line">    // 但对象默认不能遍历</span><br><span class="line">    let obj = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    let VDOM = (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;前端&lt;/h1&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &#123;</span><br><span class="line">            data.map((item, index, array) =&gt; &#123;//return 返回处理后的值</span><br><span class="line">              // </span><br><span class="line">              // return &lt;li key=&#123;index&#125;&gt;&#123;item&#125;&lt;/li&gt;</span><br><span class="line">              // 下列均不行</span><br><span class="line">              // return &lt;li&gt;item&lt;/li&gt;</span><br><span class="line">              return &lt;li key=&#123;index&#125;&gt;&#123;item&#125;&lt;/li&gt;;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">          &#123;</span><br><span class="line">            data.forEach((item, index, array) =&gt; &#123;</span><br><span class="line">              array[index] = &lt;li key=&#123;index&#125;&gt;&#123;item&#125;&lt;/li&gt;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">          &#123;</span><br><span class="line">            data</span><br><span class="line">          &#125;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    ReactDOM.render(VDOM, document.getElementById(&#x27;root&#x27;));</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<p><strong>表达式vs语句</strong></p>
<p>可以写表达式不能写js语句</p>
<p><img src="/React/ROGIG3tYrZ49vgMb2GFADA.png" alt="img"></p>
<p><strong>唯一key</strong></p>
<p><img src="/React/UrsIlyWilqycNXiS6XQfKg.png" alt="img"></p>
<h3 id="模块组件化理解"><a href="#模块组件化理解" class="headerlink" title="模块组件化理解"></a><strong>模块组件化理解</strong></h3><p><img src="/React/c5r7PQA9yIGRsor8oQbh5Q.png" alt="img"></p>
<p><img src="/React/image-20221130175348994.png" alt="image-20221130175348994"></p>
<h2 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h2><h3 id="创建函数式组件"><a href="#创建函数式组件" class="headerlink" title="创建函数式组件"></a><strong>创建函数式组件</strong></h3><p>适用于简单组件的构建,同时方法名称首字母必须大写,区分普通html标签</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//错误写法</span></span><br><span class="line">    <span class="comment">//创建函数式组件</span></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">demo</span>(<span class="params"></span>)&#123;</span><br><span class="line">     <span class="keyword">let</span> <span class="title class_">Vdemo</span> =(</span><br><span class="line">       <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">     );</span><br><span class="line">     <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>适用于简单组件的定义<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 渲染组件到页面上</span></span><br><span class="line">   <span class="comment">// 函数不能作为react的节点去使用</span></span><br><span class="line"></span><br><span class="line">   <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(demo,<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br></pre></td></tr></table></figure>

<blockquote>
<p>函数不能作为react的节点去使用</p>
</blockquote>
<p><img src="/React/image-20221211181615403.png" alt="image-20221211181615403"></p>
<blockquote>
<p>正确写法</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">  	//创建函数式组件</span><br><span class="line"> 	// 函数名和组件名要对应上</span><br><span class="line">// this为undefined，因为bable会自动开启严格模式</span><br><span class="line">function Demo()&#123;</span><br><span class="line">     return (</span><br><span class="line">         // 可以嵌套</span><br><span class="line">       &lt;div&gt;</span><br><span class="line">         &lt;h1&gt;适用于简单组件的定义&lt;/h1&gt;</span><br><span class="line">       &lt;/div&gt;</span><br><span class="line">     )</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   // 渲染组件到页面上</span><br><span class="line">   // react会去调用函数</span><br><span class="line">   ReactDOM.render(&lt;Demo/&gt;,document.getElementById(&#x27;root&#x27;));</span><br></pre></td></tr></table></figure>

<blockquote>
<p>1.React解析组件标签，找到了MyComponent组件。<br>2.发现组件是使用函数定义的，随后调用该函数，</p>
<p>3、将返回的虚拟DOM转为真实DOM，随后呈现在页面中。</p>
</blockquote>
<h3 id="创建类式组件"><a href="#创建类式组件" class="headerlink" title="创建类式组件"></a>创建类式组件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/babel&quot;</span>&gt;</span><br><span class="line">    <span class="comment">// 创建一个类组件，必须继承React.Component类</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Mycomponent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">      <span class="comment">// 必须有render并且有返回值</span></span><br><span class="line">      <span class="comment">//render()放在Mycomponent的原型对象上，供Mycomponent实例对象使用的</span></span><br><span class="line">      <span class="comment">//render中的this是谁？—— MyComponent的实例对象 &lt;=&gt; MyComponent组件实例对象。</span></span><br><span class="line">      <span class="comment">//2.发现组件是使用类定义的，**随后new出来该类的实例，并通过该实例调用到原型上的render方法。**</span></span><br><span class="line">      <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">          <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>类定义组件，适用于复杂组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// React自动创建了实例对象</span></span><br><span class="line">    <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Mycomponent</span>/&gt;</span></span>,<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>1.React解析组件标签，找到了MyComponent组件。</p>
<p>2.发现组件是使用类定义的，<strong>随后new出来该类的实例，并通过该实例调用到原型上的render方法。</strong></p>
<p>3.将render返回的虚拟DOM转为真实DOM，随后呈现在页面中。</p>
</blockquote>
<h2 id="组件实例的三大属性"><a href="#组件实例的三大属性" class="headerlink" title="组件实例的三大属性"></a>组件实例的三大属性</h2><h3 id="状态state"><a href="#状态state" class="headerlink" title="状态state"></a>状态state</h3><blockquote>
<p>如果组件有状态(state)的则为复杂组件</p>
<p>如果没有状态则为简单组件</p>
</blockquote>
<blockquote>
<p>状态state中定义数据</p>
<p>组件实例对象上的</p>
</blockquote>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">title</span>&gt;</span>state<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- 准备好一个“容器” --&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- 引入react核心库 --&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//1.创建组件</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">class</span> <span class="title class_">Weather</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//构造器调用几次？ ———— 1次</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;constructor&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="comment">// 必须调用</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          	<span class="variable language_">super</span>(props)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="comment">//初始化状态</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="property">state</span> = &#123;<span class="attr">isHot</span>: <span class="literal">false</span>, <span class="attr">wind</span>: <span class="string">&#x27;微风&#x27;</span>&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="comment">//解决changeWeather中this指向问题，方法一使用bind方法</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="property">changeWeather</span> = <span class="variable language_">this</span>.<span class="property">changeWeather</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">		<span class="comment">//render调用几次？ ———— 1+n次 1是初始化的那次 n是状态更新的次数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">render</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;render&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="comment">//读取状态</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">const</span> &#123;isHot, wind&#125; = <span class="variable language_">this</span>.<span class="property">state</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span>(</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeWeather&#125;</span>&gt;</span>今天天气很&#123;isHot ? &#x27;炎热&#x27; : &#x27;凉爽&#x27;&#125;，&#123;wind&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            )</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="comment">//changeWeather调用几次？ ———— 点几次调几次</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">changeWeather</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="comment">//changeWeather放在哪里？ ———— Weather的原型对象上，供实例使用</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">//由于changeWeather是作为onClick的回调，所以不是通过实例调用的，是直接调用</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">//类中的方法默认开启了局部的严格模式，所以changeWeather中的this为undefined</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;changeWeather&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="comment">//获取原来的isHot值</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">const</span> isHot = <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">isHot</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">//严重注意：状态必须通过setState进行更新,且更新是一种合并，不是替换。</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">// 只是将setState中的对象于state中数据进行合并</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">isHot</span>: !isHot&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="comment">//严重注意：状态(state)不可直接更改，下面这行就是直接更改！！！</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">//this.state.isHot = !isHot //这是错误的写法</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//2.渲染组件到页面</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Weather</span>/&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>))</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br></pre></td></tr></table></figure>

<h4 id="简写形式"><a href="#简写形式" class="headerlink" title="简写形式"></a>简写形式</h4><blockquote>
<p>类中可以直接写赋值语句，并且该变量最后会添加到实例对象上</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	b =<span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="title function_">A</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); &#123;<span class="attr">b</span>:<span class="number">10</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>故简写形式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Mycomponent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">      <span class="comment">// 初始化数据需要接受外部数据时必须写constructor</span></span><br><span class="line">      state = &#123;<span class="attr">str</span>:<span class="literal">false</span>&#125;</span><br><span class="line">    <span class="comment">// 函数写成箭头函数解决this指向问题</span></span><br><span class="line">      demo = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> str;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(&#123; <span class="string">&quot;this.state.str&quot;</span>: !<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">str</span> &#125;);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">str</span>:!<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">str</span>&#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">          <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;this.demo&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span> &gt;</span>今天天气很&#123;this.state.str ? &#x27;炎热&#x27; : &#x27;凉爽&#x27;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>



<h4 id="注意项"><a href="#注意项" class="headerlink" title="注意项"></a>注意项</h4><blockquote>
<p>react中的标签事件于原生的不一样格式由oncick&#x3D;&gt;onClick(大写)</p>
<p>并且值不能是字符串必须是函数</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 onClick=&#123;demo&#125;&gt;&lt;/h1&gt;</span><br></pre></td></tr></table></figure>

<p>但要注意react{}的使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这里是将函数的返回值给了onClick</span><br><span class="line">而且事件绑定无效</span><br><span class="line">&lt;h1 onClick=&#123;<span class="title function_">demo</span>()&#125;&gt;&lt;/h1&gt;</span><br></pre></td></tr></table></figure>

<p>render 中的this为什么为组件实例对象而不是更其他类方法一样是undefined的</p>
<blockquote>
<p>1.React解析组件标签，找到了MyComponent组件。</p>
<p>2.发现组件是使用类定义的，<strong>随后new出来该类的实例，并通过该实例调用到原型上的render方法。</strong></p>
<p>3.将render返回的虚拟DOM转为真实DOM，随后呈现在页面中。</p>
</blockquote>
<h4 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h4><p>事件绑定</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;button id=<span class="string">&quot;btn1&quot;</span>&gt;按钮<span class="number">1</span>&lt;/button&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn2&quot;</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="comment">// 标签内绑定事件在事件被触发时执行引号内的js代码</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;demo()&quot;</span>&gt;</span>按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> btn1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn1&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">btn1.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title function_">alert</span>(<span class="string">&#x27;按钮1被点击了&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> btn2 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn2&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">btn2.<span class="property">onclick</span> = <span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title function_">alert</span>(<span class="string">&#x27;按钮2被点击了&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">function</span> <span class="title function_">demo</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title function_">alert</span>(<span class="string">&#x27;按钮3被点击了&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>类中this指向问题</p>
<blockquote>
<p><strong>类中方法this指向<br>防止this指向丢失才使用的赋值语句+箭头函数来实现</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">&gt;demo=<span class="function">()=&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>


</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"><span class="title function_">constructor</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">study</span>(<span class="params"></span>) &#123;</span><br><span class="line">			<span class="comment">//study方法放在了哪里？——类的原型对象上，供实例使用</span></span><br><span class="line">            <span class="comment">//通过Person实例调用study时，study中的this就是Person实例</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;tom&#x27;</span>, <span class="number">18</span>)</span><br><span class="line">	p1.<span class="title function_">study</span>() <span class="comment">//通过实例调用study方法</span></span><br><span class="line">    <span class="keyword">const</span> x = p1.<span class="property">study</span></span><br><span class="line">    <span class="title function_">x</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">demo01</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;this&#x27;</span>, <span class="variable language_">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">demo02</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="comment">// &#x27;use strict&#x27;</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;this&#x27;</span>, <span class="variable language_">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line"><span class="title function_">demo01</span>()</span><br><span class="line"><span class="title function_">demo02</span>()</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/React/m_UjIk1HoT-NduGhTXeHRg.png" alt="img"></p>
<p><strong>解决类中this指向</strong></p>
<p>构造器中的this一定是类的实例对象,原型方法也一定是给实例调用的,实例调用方法那么方法中的this就是实例,类中方法都开启了局部严格模式所以this都是undefine</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//解决changeWeather中this指向问题,其实就是改变this指向</span></span><br><span class="line"><span class="comment">// bind是改变函数中的this并返回一个新的函数</span></span><br><span class="line"> <span class="variable language_">this</span>.<span class="property">changeWeather</span> = <span class="variable language_">this</span>.<span class="property">changeWeather</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/React/image-20221212163556839.png" alt="image-20221212163556839"></p>
<h3 id="prop"><a href="#prop" class="headerlink" title="prop"></a>prop</h3><h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><blockquote>
<p>给组件传递数据,并将数据存放在组件实例对象的props属性上</p>
<p>可以通过this.props访问到</p>
</blockquote>
<blockquote>
<p>props是只读的</p>
<p>修改会报错</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">class Mycomponent extends React.Component &#123;</span><br><span class="line">      render() &#123;</span><br><span class="line">		let &#123;name,sex,age&#125; = this.props;</span><br><span class="line">        return (</span><br><span class="line">          &lt;div &gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">              &lt;li&gt;姓名：&#123;name&#125;&lt;/li&gt;</span><br><span class="line">              &lt;li&gt;年龄：&#123;age&#125;&lt;/li&gt;</span><br><span class="line">              &lt;li&gt;性别：&#123;sex&#125;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    var VDOM = (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;Mycomponent name=&#x27;tom&#x27; sex=&#x27;女&#x27; age=&quot;18&quot; /&gt;</span><br><span class="line">        &lt;Mycomponent name=&#x27;tom2&#x27; sex=&#x27;男&#x27; age=&quot;18&quot; /&gt;</span><br><span class="line">        &lt;Mycomponent name=&#x27;tom3&#x27; sex=&#x27;女&#x27; age=&#x27;17&#x27; /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">    // React自动创建了实例对象</span><br><span class="line">    ReactDOM.render(VDOM, document.getElementById(&#x27;root&#x27;));</span><br></pre></td></tr></table></figure>

<h4 id="简写形式-1"><a href="#简写形式-1" class="headerlink" title="简写形式"></a>简写形式</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个类组件，必须继承React.Component类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mycomponent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="comment">// 必须有render并且有返回值</span></span><br><span class="line">  <span class="comment">//render在Mycomponent的原型对象上，供Mycomponent实例对象使用的</span></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> &#123; name, age, sex &#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span>&gt;</span>姓名：&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span>&gt;</span>年龄：&#123;age&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span>&gt;</span>性别：&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span>,</span><br><span class="line">    <span class="attr">sex</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 制定限制</span></span><br><span class="line"><span class="comment">// Mycomponent.propTypes = &#123;</span></span><br><span class="line"><span class="comment">//   // 16版本使用PropTypes属性必须引入prop-type依赖文件</span></span><br><span class="line"><span class="comment">//   // string 限制类型 isRequired 必须填写项</span></span><br><span class="line"><span class="comment">//   name:PropTypes.string.isRequired,</span></span><br><span class="line"><span class="comment">//   sex:PropTypes.string,</span></span><br><span class="line"><span class="comment">//   age: PropTypes.string,</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">//限制默认值</span></span><br><span class="line"><span class="comment">// Mycomponent.defaultProps = &#123;</span></span><br><span class="line"><span class="comment">//   set: &#x27;男&#x27;,</span></span><br><span class="line"><span class="comment">//   age: 18</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable constant_">VDOM</span> = (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Mycomponent</span> <span class="attr">sex</span>=<span class="string">&#x27;男&#x27;</span> <span class="attr">age</span>=<span class="string">&#123;18&#125;</span> /&gt;</span></span></span><br><span class="line">)</span><br><span class="line"><span class="comment">// React自动创建了实例对象</span></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="variable constant_">VDOM</span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br></pre></td></tr></table></figure>





<h4 id="展开运算符在react的特殊情况"><a href="#展开运算符在react的特殊情况" class="headerlink" title="展开运算符在react的特殊情况"></a>展开运算符在react的特殊情况</h4><blockquote>
<p>原生js中直接写 …p不加花括号为错误的</p>
<p>let  p &#x3D; {name&#x3D;’asd’};</p>
<p>…p （错误的写法）{…p}是对的</p>
<p>在babel加react时可以直接使用…p，但也只是在组件标签中写有用</p>
<p><strong>其他地方写不会报错但无效</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">  class Mycomponent extends React.Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">let &#123;name,sex,age&#125; = this.props;</span><br><span class="line">      return (</span><br><span class="line">        &lt;div &gt;</span><br><span class="line">          &lt;ul&gt;</span><br><span class="line">	  &lt;li&gt;姓名：&#123;name&#125;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;年龄：&#123;age&#125;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;性别：&#123;sex&#125;&lt;/li&gt;</span><br><span class="line">          &lt;/ul&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  let p = &#123;name:&#x27;tom&#x27;,sex:&#x27;女&#x27;,age:20&#125;;</span><br><span class="line">  console.log(...p); // 无效</span><br><span class="line">  // 下面写在组件标签中的有效</span><br><span class="line">  // 前提是引入了racte和babel</span><br><span class="line">  var VDOM = (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Mycomponent &#123;...p&#125; /&gt;  </span><br><span class="line">      &lt;Mycomponent name=&#x27;tom2&#x27; sex=&#x27;男&#x27; age=&quot;18&quot; /&gt;</span><br><span class="line">      &lt;Mycomponent name=&#x27;tom3&#x27; sex=&#x27;女&#x27; age=&#x27;17&#x27; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">  // React自动创建了实例对象</span><br><span class="line">  ReactDOM.render(VDOM, document.getElementById(&#x27;root&#x27;));</span><br></pre></td></tr></table></figure>



<h4 id="对props进行限制"><a href="#对props进行限制" class="headerlink" title="对props进行限制"></a>对props进行限制</h4><p>使用propTypes制定规则</p>
<p>vue写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">props</span>:&#123;</span><br><span class="line">	<span class="attr">name</span>:&#123;</span><br><span class="line">	<span class="attr">type</span>:<span class="title class_">String</span>, <span class="comment">//类型</span></span><br><span class="line">	<span class="attr">required</span>:<span class="literal">true</span>, <span class="comment">//必要性</span></span><br><span class="line">	<span class="attr">default</span>:<span class="string">&#x27;老王&#x27;</span> <span class="comment">//默认值</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>react写法</p>
<p>15.5即以前版本写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">类名.<span class="property">propTypes</span> =&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="title class_">React</span>.<span class="property">PropTypes</span>.<span class="property">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>16版本弃用了PropTypes属性写法</p>
<p>需要引入prop-types依赖包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;!-- 核心库 --&gt;</span><br><span class="line">  &lt;script src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;!-- 扩展库 --&gt;</span><br><span class="line">  &lt;script src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;!-- 引入babel，用于将jsx转为js --&gt;</span><br><span class="line">  &lt;script src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script src=&quot;../js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line"></span><br><span class="line">    // 创建一个类组件，必须继承React.Component类</span><br><span class="line">    class Mycomponent extends React.Component &#123;</span><br><span class="line">      // 必须有render并且有返回值</span><br><span class="line">      //render在Mycomponent的原型对象上，供Mycomponent实例对象使用的</span><br><span class="line">      render() &#123;</span><br><span class="line">        let &#123;name,age,sex&#125; = this.props;</span><br><span class="line">        return (</span><br><span class="line">          &lt;div &gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">              &lt;li&gt;姓名：&#123;name&#125;&lt;/li&gt;</span><br><span class="line">              &lt;li&gt;年龄：&#123;age&#125;&lt;/li&gt;</span><br><span class="line">              &lt;li&gt;性别：&#123;sex&#125;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    // 制定限制</span><br><span class="line">    Mycomponent.propTypes = &#123;</span><br><span class="line">      // 16版本使用PropTypes属性必须引入prop-type依赖文件</span><br><span class="line">      // string 限制类型 isRequired 必须填写项</span><br><span class="line">      name:PropTypes.string.isRequired,</span><br><span class="line">      sex:PropTypes.string,</span><br><span class="line">      age: PropTypes.string,</span><br><span class="line">    &#125;</span><br><span class="line">    //限制默认值</span><br><span class="line">    Mycomponent.defaultProps = &#123;</span><br><span class="line">      set:&#x27;男&#x27;,</span><br><span class="line">      age:18</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // React自动创建了实例对象</span><br><span class="line">    ReactDOM.render(&lt;Mycomponent name=&#x27;tom&#x27; sex=&#x27;男&#x27; age=&quot;18&quot; /&gt;, </span><br><span class="line">    document.getElementById(&#x27;root&#x27;));</span><br><span class="line">    </span><br><span class="line">    // 这种限制配置写法在下列渲染方式无效</span><br><span class="line">    var VDOM = (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Mycomponent name=&#123;12&#125; sex=&#x27;男&#x27; age=&quot;18&quot; /&gt;</span><br><span class="line"></span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">	ReactDOM.render(&lt;Mycomponent name=&#x27;tom&#x27; sex=&#x27;男&#x27; age=&quot;18&quot; /&gt;, </span><br><span class="line">    document.getElementById(&#x27;root&#x27;));</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>限制类型</p>
<p>string 、number、object 不与js的关键字String、Number、Object冲突</p>
<p>但function不能写与js中的冲突了</p>
<p>故在react中使用<code>func</code>代替</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">类名.<span class="property">propTypes</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>, <span class="comment">// 限定为字符串，并且必传</span></span><br><span class="line">    <span class="attr">sex</span>:<span class="title class_">PropTypes</span>.<span class="property">string</span>, <span class="comment">// 限定为字符串类型</span></span><br><span class="line">	<span class="attr">age</span>:<span class="title class_">PropTypes</span>.<span class="property">number</span>, <span class="comment">// 限定为数值类型</span></span><br><span class="line">    <span class="attr">speack</span>:<span class="title class_">PropTypes</span>.<span class="property">func</span> <span class="comment">// 限定为函数类型</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 限制默认项</span></span><br><span class="line">类名.<span class="property">defaultProps</span> = &#123;</span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类中的构造器与props"><a href="#类中的构造器与props" class="headerlink" title="类中的构造器与props"></a>类中的构造器与props</h4><blockquote>
<p>在 React 组件挂载之前，会调用它的构造函数。在为 React.Component 子类实现构造函数时，应在其他语句之前调用 <code>super(props)</code>。否则，<code>this.props</code> 在构造函数中可能会出现未定义的 bug。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;!-- 核心库 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;!-- 扩展库 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/prop-types.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">// 创建一个类组件，必须继承React.Component类</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">class</span> <span class="title class_">Mycomponent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 构造器</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 不给也行</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//构造器是否接收props，是否传递给super，取决于：是否希望在构造器中通过this访问props</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// 构造器接受后可以直接通过参数prop访问数据</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">super</span>(props);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">props</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// this.state = &#123;&#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 必须有render并且有返回值</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//render在Mycomponent的原型对象上，供Mycomponent实例对象使用的</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> &#123; name, age, sex &#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> (</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> &gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml">          <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>姓名：&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>年龄：&#123;age&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>性别：&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      )</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// static propTypes = &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//   name: PropTypes.string.isRequired,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//   age: PropTypes.number,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//   sex: PropTypes.string</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// &#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// static defaultProps = &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//   sex: &#x27;男&#x27;,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//   age: 18</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// &#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">// 制定限制</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">Mycomponent</span>.<span class="property">propTypes</span> = &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 16版本使用PropTypes属性必须引入prop-type依赖文件</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// string 限制类型 isRequired 必须填写项</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">name</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">sex</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">age</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//限制默认值</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">Mycomponent</span>.<span class="property">defaultProps</span> = &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">set</span>: <span class="string">&#x27;男&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">age</span>: <span class="number">18</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">let</span> <span class="variable constant_">VDOM</span> = (</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml">      <span class="tag">&lt;<span class="name">Mycomponent</span> <span class="attr">name</span>=<span class="string">&#x27;tom&#x27;</span> <span class="attr">sex</span>=<span class="string">&#x27;男&#x27;</span> <span class="attr">age</span>=<span class="string">&#123;18&#125;</span> /&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml">      <span class="tag">&lt;<span class="name">Mycomponent</span> <span class="attr">name</span>=<span class="string">&#x27;tom&#x27;</span> <span class="attr">sex</span>=<span class="string">&#x27;男&#x27;</span> <span class="attr">age</span>=<span class="string">&#123;18&#125;</span> /&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  )</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">// React自动创建了实例对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="variable constant_">VDOM</span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意</p>
<p><strong>避免将 props 的值复制给 state！这是一个常见的错误：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;constructor(props) &#123;</span><br><span class="line">&gt;super(props);</span><br><span class="line">&gt;// 不要这样做</span><br><span class="line">&gt;this.state = &#123; color: props.color &#125;;</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>

<p>如此做毫无必要（你可以直接使用 <code>this.props.color</code>），同时还产生了 bug（更新 prop 中的 <code>color</code> 时，并不会影响 state）。</p>
<p><strong>只有在你刻意忽略 prop 更新的情况下使用。</strong>此时，应将 prop 重命名为 <code>initialColor</code> 或 <code>defaultColor</code>。必要时，你可以<a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html#recommendation-fully-uncontrolled-component-with-a-key">修改它的 <code>key</code></a>，以强制“重置”其内部 state。</p>
<p>请参阅关于<a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html">避免派生状态的博文</a>，以了解出现 state 依赖 props 的情况该如何处理。</p>
</blockquote>
<h4 id="函数组件的props"><a href="#函数组件的props" class="headerlink" title="函数组件的props"></a>函数组件的props</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/babel&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">Mycomponent</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> &#123; name, age, sex &#125; = props</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;age&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 有效</span></span><br><span class="line">  <span class="title class_">Mycomponent</span>.<span class="property">propTypes</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">idRequired</span>,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(&lt; <span class="title class_">Mycomponent</span>  age=&#123;<span class="number">18</span>&#125; sex=<span class="string">&#x27;男&#x27;</span> /&gt;, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h3><blockquote>
<p>相当与id属性,与vue类似</p>
</blockquote>
<blockquote>
<p>官网解释</p>
<p>React 支持一个特殊的、可以附加到任何组件上的 <code>ref</code> 属性。此属性可以是一个由 <a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-api.html#reactcreateref"><code>React.createRef()</code> 函数</a>创建的对象、或者一个回调函数、或者一个字符串（遗留 API）。当 <code>ref</code> 属性是一个回调函数时，此函数会（根据元素的类型）接收底层 DOM 元素或 class 实例作为其参数。这能够让你直接访问 DOM 元素或组件实例。</p>
</blockquote>
<h4 id="字符串形式的ref（不推荐使用了不久后可能会被废弃）"><a href="#字符串形式的ref（不推荐使用了不久后可能会被废弃）" class="headerlink" title="字符串形式的ref（不推荐使用了不久后可能会被废弃）"></a>字符串形式的ref（不推荐使用了不久后可能会被废弃）</h4><blockquote>
<p><strong>过时 API：String 类型的 Refs</strong></p>
<p>如果你之前使用过 React，你可能了解过之前的 API 中的 string 类型的 ref 属性，例如 <code>&quot;textInput&quot;</code>。你可以通过 <code>this.refs.textInput</code> 来访问 DOM 节点。我们不建议使用它，因为 string 类型的 refs 存在 <a target="_blank" rel="noopener" href="https://github.com/facebook/react/pull/8333#issuecomment-271648615">一些问题</a>。它已过时并可能会在未来的版本被移除。</p>
</blockquote>
<blockquote>
<p>存在效率问题写多了后效率不高</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/babel&quot;</span>&gt;</span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">Preson</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span><br><span class="line">    hint = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">      <span class="comment">// console.log(this.refs.input1)</span></span><br><span class="line">      <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">refs</span>.<span class="property">input1</span>.<span class="property">value</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    hint1 = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// console.log(this.refs.input1)</span></span><br><span class="line">      <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">refs</span>.<span class="property">input2</span>.<span class="property">value</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">ref</span> = <span class="string">&#x27;input1&#x27;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.hint&#125;</span>&gt;</span>点击提示<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">ref</span>=<span class="string">&#x27;input2&#x27;</span> <span class="attr">onBlur</span>=<span class="string">&#123;this.hint1&#125;/</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Preson</span> /&gt;</span></span>,<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="回调函数形式的ref"><a href="#回调函数形式的ref" class="headerlink" title="回调函数形式的ref"></a>回调函数形式的ref</h4><blockquote>
<p>React 也支持另一种设置 refs 的方式，称为“回调 refs”。它能助你更精细地控制何时 refs 被设置和解除。</p>
<p>不同于传递 <code>createRef()</code> 创建的 <code>ref</code> 属性，你会传递一个函数。这个函数中接受 React <strong>组件实例或 HTML DOM 元素作为参数，</strong>以使它们能在其他地方被存储和访问。</p>
<p>下面的例子描述了一个通用的范例：使用 <code>ref</code> 回调函数，在实例的属性中存储对 DOM 节点的引用。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CustomTextInput</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">textInput</span> = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">setTextInputRef</span> = <span class="function"><span class="params">element</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">textInput</span> = element;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">focusTextInput</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 使用原生 DOM API 使 text 输入框获得焦点</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">textInput</span>) <span class="variable language_">this</span>.<span class="property">textInput</span>.<span class="title function_">focus</span>();</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 组件挂载后，让文本框自动获得焦点</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">focusTextInput</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 使用 `ref` 的回调函数将 text 输入框 DOM 节点的引用存储到 React</span></span><br><span class="line">    <span class="comment">// 实例上（比如 this.textInput）</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">input</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">ref</span>=<span class="string">&#123;this.setTextInputRef&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">input</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">type</span>=<span class="string">&quot;button&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">value</span>=<span class="string">&quot;Focus the text input&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">onClick</span>=<span class="string">&#123;this.focusTextInput&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>react自动调用了ref中的回调函数，并接收一个参数</p>
<p>参数为当前DOM元素或组件实例对象</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/babel&quot;</span>&gt;</span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">Preson</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span><br><span class="line">    hint = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">      <span class="comment">// console.log(this.refs.input1)</span></span><br><span class="line">      <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">input1</span>.<span class="property">value</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    hint1 = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// console.log(this.refs.input1)</span></span><br><span class="line">      <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">input2</span>.<span class="property">value</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">ref</span> = <span class="string">&#123;(c)</span>=&gt;</span>&#123;this.input1 = c&#125;&#125;/&gt;</span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.hint&#125;</span>&gt;</span>点击提示<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">ref</span>=<span class="string">&#123;(c)</span>=&gt;</span>&#123;this.input2 = c&#125;&#125; onBlur=&#123;this.hint1&#125;/&gt;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Preson</span> /&gt;</span></span>,<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br></pre></td></tr></table></figure>



<h4 id="ref-的回调函数定义成-class-的绑定函数的方式"><a href="#ref-的回调函数定义成-class-的绑定函数的方式" class="headerlink" title="ref 的回调函数定义成 class 的绑定函数的方式"></a>ref 的回调函数定义成 class 的绑定函数的方式</h4><blockquote>
<p>class函数写法只在初始化的时候执行一次，数据更新时不会执行</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Preson extends React.Component &#123;</span><br><span class="line">      state = &#123;</span><br><span class="line">        name:&quot;&quot;</span><br><span class="line">      &#125;</span><br><span class="line">      hint = () =&gt; &#123;</span><br><span class="line">        this.setState(&#123;name:&quot;preson&quot;&#125;);</span><br><span class="line">        alert(this.input1.value)</span><br><span class="line">      &#125;</span><br><span class="line">      refClass = (c)=&gt;&#123;</span><br><span class="line">        console.log(&quot;class函数写法&quot;,c)</span><br><span class="line">        this.input2 = c</span><br><span class="line">      &#125;</span><br><span class="line">      render() &#123;</span><br><span class="line">        return (</span><br><span class="line">          &lt;div&gt;</span><br><span class="line">            &#123;/* 内联函数写法 */ &#125;</span><br><span class="line">            &lt;input type=&quot;text&quot; ref=&#123;(c) =&gt; &#123; this.input1 = c; console.log(&quot;内联函数写法&quot;, c) &#125;&#125; /&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; ref=&#123;this.refClass&#125; /&gt;</span><br><span class="line">            &lt;button onClick=&#123;this.hint&#125;&gt;点击提示&lt;/button&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ReactDOM.render(&lt;Preson /&gt;, document.getElementById(&#x27;root&#x27;));</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/React/image-20221213113209674.png" alt="image-20221213113209674"></p>
<h4 id="createRef-形式的ref"><a href="#createRef-形式的ref" class="headerlink" title="createRef() 形式的ref"></a>createRef() 形式的ref</h4><blockquote>
<p>Refs 是使用 <code>React.createRef()</code> 创建的，并通过 <code>ref</code> 属性附加到 React 元素。在构造组件时，通常将 Refs 分配给实例属性，以便可以在整个组件中引用它们。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class MyComponent extends React.Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.myRef = React.createRef();</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return &lt;div ref=&#123;this.myRef&#125; /&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p> React.createRef调用后可以返回一个容器，该容器可以存储被ref所标识的节点,该容器是“专人专用”的只能存放一个ref标识的节点,容器名重名时后写的会代替前一个</p>
<p> 故一个节点要配置一个</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">  class Preson extends React.Component &#123;</span><br><span class="line">    input1 = React.createRef()</span><br><span class="line">    input2 = React.createRef()</span><br><span class="line">    showData = ()=&gt;&#123;</span><br><span class="line">      console.log(this.input1)</span><br><span class="line">        console.log(this.input1.current.value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">      return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">               &#123;// 这个会被下面使用同名的代替</span><br><span class="line">              &#125;</span><br><span class="line">          &lt;input type=&quot;text&quot; ref=&#123;this.input1&#125;/&gt;</span><br><span class="line">             </span><br><span class="line">              &lt;input type=&quot;text&quot; ref=&#123;this.input1&#125;/&gt;</span><br><span class="line">          &lt;input type=&quot;text&quot; ref=&#123;this.input2&#125; /&gt;</span><br><span class="line">          &lt;button onClick=&#123;this.showData&#125;&gt;打印ref数据&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ReactDOM.render(&lt;Preson /&gt;,document.getElementById(&quot;root&quot;));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/React/image-20221213131342346.png" alt="image-20221213131342346"></p>
<h4 id="注意项-1"><a href="#注意项-1" class="headerlink" title="注意项"></a>注意项</h4><blockquote>
<p><strong>关于回调 refs 的说明</strong></p>
<p>如果 <code>ref</code> 回调函数是以内联函数的方式定义的，在<strong>更新过程中它会被执行两次</strong>，第一次传入参数 <code>null</code>，然后第二次会传入参数 DOM 元素。这是<strong>因为在每次渲染时会创建一个<em>新的函数实例</em>，所以 React 清空旧的 ref 并且设置新的。</strong>通过将 <strong>ref 的回调函数定义成 class 的绑定函数的方式</strong>可以避免上述问题，但是大多数情况下它是无关紧要的。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/babel&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Preson</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">      state = &#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&quot;&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">      hint = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">         <span class="comment">// 更改state使页面重新渲染并调用render</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">name</span>:<span class="string">&quot;preson&quot;</span>&#125;);</span><br><span class="line">        <span class="comment">// console.log(this.refs.input1)</span></span><br><span class="line">        <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">input1</span>.<span class="property">value</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">          <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">ref</span>=<span class="string">&#123;(c)</span> =&gt;</span> &#123; this.input1 = c; console.log(&quot;@&quot;, c) &#125;&#125; /&gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.hint&#125;</span>&gt;</span>点击提示<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Preson</span> /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure>



<p><img src="/React/image-20221213105028232.png" alt="image-20221213105028232"></p>
<h2 id="react事件处理"><a href="#react事件处理" class="headerlink" title="react事件处理"></a>react事件处理</h2><blockquote>
<ul>
<li>React 事件的命名采用小驼峰式（camelCase），而不是纯小写。</li>
<li>使用 JSX 语法时你需要<strong>传入一个函数作为事件处理函数，而不是一个字符串。</strong></li>
</ul>
</blockquote>
<blockquote>
<p>(1).通过onXxx属性指定事件处理函数(注意大小写)</p>
<p>​     a.React使用的是自定义(合成)事件, 而不是使用的原生DOM事件 —————— 为了更好的兼容性</p>
<p>​     b.React中的事件是通过事件委托方式处理的(委托给组件最外层的元素) ————————为了的高效</p>
<p>(2).通过event.target得到发生事件的DOM元素对象 ——————————不要过度使用ref</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">//创建组件</span><br><span class="line">    class Demo extends React.Component &#123;</span><br><span class="line">/* </span><br><span class="line">   (1).通过onXxx属性指定事件处理函数(注意大小写)</span><br><span class="line">      a.React使用的是自定义(合成)事件, 而不是使用的原生DOM事件 —————— 为了更好的兼容性</span><br><span class="line">      b.React中的事件是通过事件委托方式处理的(委托给组件最外层的元素) ————————为了的高效</span><br><span class="line">   (2).通过event.target得到发生事件的DOM元素对象 ——————————不要过度使用ref</span><br><span class="line">         */</span><br><span class="line">        //创建ref容器</span><br><span class="line">    myRef = React.createRef()</span><br><span class="line">	myRef2 = React.createRef()</span><br><span class="line"></span><br><span class="line">//展示左侧输入框的数据</span><br><span class="line">    showData = (event) =&gt; &#123;</span><br><span class="line">		console.log(event.target);</span><br><span class="line">		alert(this.myRef.current.value);</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">//展示右侧输入框的数据</span><br><span class="line">    showData2 = (event) =&gt; &#123;</span><br><span class="line">		alert(event.target.value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">return (</span><br><span class="line">&lt;div&gt;</span><br><span class="line">	&lt;input ref=&#123;this.myRef&#125; type=&quot;text&quot; placeholder=&quot;点击按钮提示数据&quot;/&gt;&amp;nbsp;</span><br><span class="line">    &lt;button onClick=&#123;this.showData&#125;&gt;点我提示左侧的数据&lt;/button&gt;&amp;nbsp;</span><br><span class="line">    &lt;input onBlur=&#123;this.showData2&#125; type=&quot;text&quot; placeholder=&quot;失去焦点提示数据&quot;/&gt;&amp;nbsp;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">//渲染组件到页面</span><br><span class="line">    ReactDOM.render(&lt;Demo a=&quot;1&quot; b=&quot;2&quot;/&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="react收集表单数据"><a href="#react收集表单数据" class="headerlink" title="react收集表单数据"></a>react收集表单数据</h2><h3 id="受控组件"><a href="#受控组件" class="headerlink" title="受控组件"></a>受控组件</h3><blockquote>
<p>在 HTML 中，表单元素（如<code>&lt;input&gt;</code>、 <code>&lt;textarea&gt;</code> 和 <code>&lt;select&gt;</code>）通常自己维护 state，并根据用户输入进行更新。而在 React 中，可变状态（mutable state）通常保存在组件的 state 属性中，并且只能通过使用 <a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#setstate"><code>setState()</code></a>来更新。</p>
<p>我们可以把两者结合起来，使 React 的 state 成为“唯一数据源”。渲染表单的 React 组件还控制着用户输入过程中表单发生的操作。被 React 以这种方式控制取值的表单输入元素就叫做“受控组件”。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">	//创建组件</span><br><span class="line">    class Login extends React.Component &#123;</span><br><span class="line"></span><br><span class="line">		//初始化状态</span><br><span class="line">        state = &#123;</span><br><span class="line">			username: &#x27;&#x27;, //用户名</span><br><span class="line">            password: &#x27;&#x27; //密码</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//保存用户名到状态中</span><br><span class="line">        saveUsername = (event) =&gt; &#123;</span><br><span class="line">			this.setState(&#123;username: event.target.value&#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//保存密码到状态中</span><br><span class="line">        savePassword = (event) =&gt; &#123;</span><br><span class="line">			this.setState(&#123;password: event.target.value&#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//表单提交的回调</span><br><span class="line">        handleSubmit = (event) =&gt; &#123;</span><br><span class="line">            event.preventDefault() //阻止表单提交</span><br><span class="line">            const &#123;username, password&#125; = this.state</span><br><span class="line">            alert(`你输入的用户名是：$&#123;username&#125;,你输入的密码是：$&#123;password&#125;`)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">	render() &#123;</span><br><span class="line">		return (</span><br><span class="line">			&lt;form onSubmit=&#123;this.handleSubmit&#125;&gt;</span><br><span class="line">			用户名：&lt;input onChange=&#123;this.saveUsername&#125; type=&quot;text&quot; name=&quot;username&quot;/&gt;</span><br><span class="line">			密码：&lt;input onChange=&#123;this.savePassword&#125; type=&quot;password&quot; name=&quot;password&quot;/&gt;</span><br><span class="line">				&lt;button&gt;登录&lt;/button&gt;</span><br><span class="line">			&lt;/form&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">//渲染组件</span><br><span class="line">    ReactDOM.render(&lt;Login/&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<h3 id="非受控组件"><a href="#非受控组件" class="headerlink" title="非受控组件"></a>非受控组件</h3><blockquote>
<p>在大多数情况下，我们推荐使用 <a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/forms.html#controlled-components">受控组件</a> 来处理表单数据。在一个受控组件中，表单数据是由 React 组件来管理的。另一种替代方案是使用非受控组件，这时表单数据将交由 DOM 节点来处理。</p>
<p>要编写一个非受控组件，而不是为每个状态更新都编写数据处理函数，你可以 <a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/refs-and-the-dom.html">使用 ref</a> 来从 DOM 节点中获取表单数据。</p>
</blockquote>
<blockquote>
<p>　　<strong>非受控组件现用现取</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">//创建组件</span><br><span class="line">    class Login extends React.Component &#123;</span><br><span class="line">		handleSubmit = (event) =&gt; &#123;</span><br><span class="line">            event.preventDefault() //阻止表单提交</span><br><span class="line">            const &#123;username, password&#125; = this</span><br><span class="line">            // 现用现取</span><br><span class="line">            alert(`你输入的用户名是：$&#123;username.value&#125;,你输入的密码是：$&#123;password.value&#125;`)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		render() &#123;</span><br><span class="line">			return (</span><br><span class="line">				&lt;form onSubmit=&#123;this.handleSubmit&#125;&gt;</span><br><span class="line">					用户名：&lt;input ref=&#123;c =&gt; this.username = c&#125; type=&quot;text&quot; name=&quot;username&quot;/&gt;</span><br><span class="line">					密码：&lt;input ref=&#123;c =&gt; this.password = c&#125; type=&quot;password&quot; name=&quot;password&quot;/&gt;</span><br><span class="line">					&lt;button&gt;登录&lt;/button&gt;</span><br><span class="line">				&lt;/form&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">//渲染组件</span><br><span class="line">    ReactDOM.render(&lt;Login/&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="绑定事件并传参数"><a href="#绑定事件并传参数" class="headerlink" title="绑定事件并传参数"></a>绑定事件并传参数</h3><h4 id="函数的柯里化与非柯里化写法"><a href="#函数的柯里化与非柯里化写法" class="headerlink" title="函数的柯里化与非柯里化写法"></a>函数的柯里化与非柯里化写法</h4><blockquote>
<p>​               高阶函数：如果一个函数符合下面2个规范中的任何一个，那该函数就是高阶函数。</p>
<p>​                           1.若A函数，接收的参数是一个函数，那么A就可以称之为高阶函数。</p>
<p>​                           2.若A函数，调用的返回值依然是一个函数，那么A就可以称之为高阶函数。</p>
<p>​                           常见的高阶函数有：Promise、setTimeout、arr.map()等等</p>
<p>​           函数的柯里化：通过函数调用继续返回函数的方式，实现多次接收参数最后统一处理的函数编码形式。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">  class Preson extends React.Component &#123;</span><br><span class="line">    state = &#123;</span><br><span class="line">      username: &quot;&quot;,</span><br><span class="line">      password: &quot;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    // 柯里化写法</span><br><span class="line">    savFrom = (dataType) =&gt; &#123;</span><br><span class="line">      return (e) =&gt; &#123;</span><br><span class="line">        // this.state[dataType] = e.target.value;</span><br><span class="line">        // this.setState(this.state)</span><br><span class="line">        console.log(dataType);</span><br><span class="line">        this.setState(&#123; [dataType]: event.target.value &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // 非柯里化写法</span><br><span class="line">    gatherForm = (&#123; dataType, event &#125;) =&gt; &#123;</span><br><span class="line">      this.setState(&#123; [dataType]: event.target.value &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">      return (</span><br><span class="line">        &lt;form&gt;</span><br><span class="line">          用户名：&lt;input type=&quot;text&quot; onChange=&#123;this.savFrom(&quot;username&quot;)&#125; /&gt;</span><br><span class="line">          密  码：&lt;input type=&quot;password&quot; onChange=&#123;(event) =&gt; &#123; this.gatherForm(&#123; event, dataType: &quot;password&quot; &#125;) &#125;&#125; /&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ReactDOM.render(&lt;Preson /&gt;, document.getElementById(&quot;root&quot;))</span><br></pre></td></tr></table></figure>



<h2 id="生命周期钩子"><a href="#生命周期钩子" class="headerlink" title="生命周期钩子"></a>生命周期钩子</h2><blockquote>
<p><strong>效果</strong></p>
<p><strong>需求定义组件实现以下功能：</strong></p>
<p><strong>1.</strong> <strong>让指定的文本做显示</strong> <strong>&#x2F;</strong> <strong>隐藏的渐变动画</strong></p>
<p><strong>2.</strong> <strong>从完全可见，到彻底消失，耗时</strong> <strong>2S</strong></p>
<p><strong>3.</strong> <strong>点击“不活了”按钮从界面中卸载组件</strong></p>
<p><img src="file:////tmp/wps-mc/ksohtml/wpsgDIqi9.png" alt="img"></p>
</blockquote>
<p>硬写</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/babel&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Preson</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">      state = &#123;</span><br><span class="line">        <span class="attr">judge</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">opacity</span>: <span class="number">1</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// var v; </span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">judge</span>) &#123;</span><br><span class="line">          <span class="comment">// 这样写会发出警告</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">judge</span>: <span class="literal">false</span>&#125;);</span><br><span class="line">          <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> &#123; opacity &#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">            opacity = opacity &lt;= <span class="number">0</span> ? <span class="number">1</span> : opacity - <span class="number">0.1</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; opacity&#125;);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">hok</span>.<span class="property">style</span>.<span class="property">opacity</span> = opacity</span><br><span class="line">          &#125;, <span class="number">500</span>)</span><br><span class="line">          <span class="comment">// console.log(1)</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 	setTimeout(() =&gt; &#123;</span></span><br><span class="line">        <span class="comment">//   let &#123; opacity &#125; = this.state;</span></span><br><span class="line">        <span class="comment">//   opacity = opacity &lt;= 0 ? 1 : opacity - 0.1</span></span><br><span class="line">        <span class="comment">//   this.setState(&#123; opacity &#125;);</span></span><br><span class="line">        <span class="comment">//   this.hok.style.opacity = opacity</span></span><br><span class="line">        <span class="comment">//   console.log(1)</span></span><br><span class="line">        <span class="comment">// &#125;, 500)</span></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line"></span><br><span class="line">          <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">opacity:</span> &quot;<span class="attr">1</span>&quot; &#125;&#125; <span class="attr">ref</span>=<span class="string">&#123;(c)</span> =&gt;</span> &#123; this.hok = c &#125;&#125;&gt;react生命周期钩子!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Preson</span> /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>))</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="借助生函数钩子"><a href="#借助生函数钩子" class="headerlink" title="借助生函数钩子"></a>借助生函数钩子</h3><blockquote>
<p>卸载组件调用ReactDOM.unmuntComponentAtNode(document.getElementById(“”))</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Preson extends React.Component &#123;</span><br><span class="line">      state = &#123;</span><br><span class="line">        opacity: 1</span><br><span class="line">      &#125;</span><br><span class="line">      // 注意卸了组件后定时器任然存在没有被销毁，会报错</span><br><span class="line">      // 在卸载组件前一定要销毁定时器</span><br><span class="line">      terval = &quot;&quot;;</span><br><span class="line">      // 在组件挂载后（插入 DOM 树中）立即调用</span><br><span class="line">      componentDidMount() &#123;</span><br><span class="line">        console.log(this.terval)</span><br><span class="line">        console.log(this)</span><br><span class="line">        this.terval = setInterval(() =&gt; &#123;</span><br><span class="line">          let &#123; opacity &#125; = this.state;</span><br><span class="line">          opacity = opacity &lt;= 0 ? 1 : opacity - 0.25</span><br><span class="line">          this.setState(&#123; opacity &#125;);</span><br><span class="line">          this.hok.style.opacity = opacity</span><br><span class="line">        &#125;, 500)</span><br><span class="line">      &#125;</span><br><span class="line">      render() &#123;</span><br><span class="line"></span><br><span class="line">        return (</span><br><span class="line"></span><br><span class="line">          &lt;div&gt;</span><br><span class="line">            &lt;h1 style=&#123;&#123; opacity: &quot;1&quot; &#125;&#125; ref=&#123;(c) =&gt; &#123; this.hok = c &#125;&#125;&gt;react生命周期钩子!&lt;/h1&gt;</span><br><span class="line">            &lt;button onClick=&#123;() =&gt; &#123; ReactDOM.unmountComponentAtNode(document.getElementById(&quot;root&quot;)) &#125;&#125;&gt;销毁组件&lt;/button&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ReactDOM.render(&lt;Preson /&gt;, document.getElementById(&quot;root&quot;))</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="生命周期流程图（旧）"><a href="#生命周期流程图（旧）" class="headerlink" title="生命周期流程图（旧）"></a>生命周期流程图（旧）</h3><blockquote>
<ol>
<li><p>组件从创建到死亡它会经历一些特定的阶段。</p>
</li>
<li><p>React组件中包含一系列勾子函数(生命周期回调函数), 会在特定的时刻调用。</p>
</li>
<li><p>我们在定义组件时，会在特定的生命周期回调函数中，做特定的工作。</p>
</li>
</ol>
</blockquote>
<p> <img src="/React/image-20221213220712071-16709404333269.png" alt="image-20221213220712071"></p>
<p>更新</p>
<p><img src="/React/image-20221213231857457.png" alt="image-20221213231857457"></p>
<blockquote>
<p>生命周期的三个阶段（旧）</p>
<p><strong>由ReactDOM.render()触发—初次渲染</strong></p>
<ol>
<li><p>constructor()</p>
</li>
<li><p>componentWillMount()</p>
</li>
<li><p>render()</p>
</li>
<li><p>componentDidMount()</p>
</li>
</ol>
<p><strong>由组件内部this.setSate()或父组件重新render触发</strong></p>
<ol>
<li><p>shouldComponentUpdate()</p>
</li>
<li><p>componentWillUpdate()</p>
</li>
<li><p>render()</p>
</li>
<li><p>componentDidUpdate()</p>
</li>
</ol>
<p><strong>卸载组件由ReactDOM.unmountComponentAtNode()触发</strong></p>
<ol>
<li>componentWillUnmount()</li>
</ol>
</blockquote>
<blockquote>
<p>一、初始化阶段：</p>
<p><strong>由ReactDOM.render()触发—初次渲染</strong></p>
<ul>
<li>getDefaultProps:获取实例的默认属性 getInitialState:获取每个实例的初始化状态</li>
<li>componentWillMount：组件即将被挂载、渲染到页面上</li>
<li>render:组件在这里生成虚拟的DOM节点</li>
<li>componentDidMount:组件真正在被挂载之后[AJAX请求]</li>
</ul>
<p>二、更新阶段：</p>
<p>​	<strong>由组件内部this.setSate()或父组件重新render触发</strong></p>
<ul>
<li>componentWillReceiveProps:组件将要接收到props属性的时候调用(第一次传的不算)</li>
<li>shouldComponentUpdate:组件接受到新属性或者新状态的时候（可以返回false，接收数据后不更新，阻止render调用，后面的函数不会被继续执行了）</li>
<li>调用强制更新forceUpdate()绕过了阀门，不需要数据发生更新就可以</li>
<li>componentWillUpdate:组件即将更新不能修改属性和状态</li>
<li>render:组件重新描绘</li>
<li>componentDidUpdate:组件已经更新</li>
</ul>
<p>三、销毁阶段：</p>
<p><strong>卸载组件由ReactDOM.unmountComponentAtNode()触发</strong></p>
<ul>
<li>componentWillUnmount:组件即将销毁</li>
</ul>
</blockquote>
<blockquote>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line"></span><br><span class="line">    //创建组件</span><br><span class="line">    class Count extends React.Component &#123;</span><br><span class="line">		//构造器</span><br><span class="line">        constructor(props) &#123;</span><br><span class="line">			console.log(&#x27;Count---constructor&#x27;);</span><br><span class="line">			super(props)</span><br><span class="line">			//初始化状态</span><br><span class="line">            this.state = &#123;count: 0&#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//加1按钮的回调</span><br><span class="line">        add = () =&gt; &#123;</span><br><span class="line">			//获取原状态</span><br><span class="line">            const &#123;count&#125; = this.state</span><br><span class="line">            //更新状态</span><br><span class="line">            this.setState(&#123;count: count + 1&#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//卸载组件按钮的回调</span><br><span class="line">        death = () =&gt; &#123;</span><br><span class="line">			ReactDOM.unmountComponentAtNode(document.getElementById(&#x27;test&#x27;))</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//强制更新按钮的回调</span><br><span class="line">        force = () =&gt; &#123;</span><br><span class="line">            // 强制更新,绕过了阀门，不需要数据发生更新就可以</span><br><span class="line">			this.forceUpdate()</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//组件将要挂载的钩子</span><br><span class="line">        componentWillMount() &#123;</span><br><span class="line">			console.log(&#x27;Count---componentWillMount&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//组件挂载完毕的钩子</span><br><span class="line">        componentDidMount() &#123;</span><br><span class="line">			console.log(&#x27;Count---componentDidMount&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//组件将要卸载的钩子</span><br><span class="line">        componentWillUnmount() &#123;</span><br><span class="line">			console.log(&#x27;Count---componentWillUnmount&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//控制组件更新的“阀门”</span><br><span class="line">        shouldComponentUpdate() &#123;</span><br><span class="line">			console.log(&#x27;Count---shouldComponentUpdate&#x27;);</span><br><span class="line">			return true</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//组件将要更新的钩子</span><br><span class="line">        componentWillUpdate() &#123;</span><br><span class="line">			console.log(&#x27;Count---componentWillUpdate&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//组件更新完毕的钩子</span><br><span class="line">        componentDidUpdate() &#123;</span><br><span class="line">			console.log(&#x27;Count---componentDidUpdate&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		render() &#123;</span><br><span class="line">			console.log(&#x27;Count---render&#x27;);</span><br><span class="line">			const &#123;count&#125; = this.state</span><br><span class="line">            return (</span><br><span class="line">				&lt;div&gt;</span><br><span class="line">					&lt;h2&gt;当前求和为：&#123;count&#125;&lt;/h2&gt;</span><br><span class="line">					&lt;button onClick=&#123;this.add&#125;&gt;点我+1&lt;/button&gt;</span><br><span class="line">                    &lt;button onClick=&#123;this.death&#125;&gt;卸载组件&lt;/button&gt;</span><br><span class="line">					&lt;button onClick=&#123;this.force&#125;&gt;不更改任何状态中的数据，强制更新一下&lt;/button&gt;</span><br><span class="line">				&lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">//父组件A</span><br><span class="line">    class A extends React.Component &#123;</span><br><span class="line">		//初始化状态</span><br><span class="line">        state = &#123;carName: &#x27;奔驰&#x27;&#125;</span><br><span class="line">		// 更新数据</span><br><span class="line">		changeCar = () =&gt; &#123;</span><br><span class="line">			this.setState(&#123;carName: &#x27;奥拓&#x27;&#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		render() &#123;</span><br><span class="line">			return (</span><br><span class="line">				&lt;div&gt;</span><br><span class="line">					&lt;div&gt;我是A组件&lt;/div&gt;</span><br><span class="line">					&lt;button onClick=&#123;this.changeCar&#125;&gt;换车&lt;/button&gt;</span><br><span class="line">                    &#123;// 传递数据给子组件</span><br><span class="line">                    &#125;</span><br><span class="line">					&lt;B carName=&#123;this.state.carName&#125;/&gt;</span><br><span class="line">				&lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">            &#125;</span><br><span class="line">    	&#125;</span><br><span class="line"></span><br><span class="line">	//子组件B</span><br><span class="line">    class B extends React.Component &#123;</span><br><span class="line">		//组件将要接收新的props的钩子</span><br><span class="line">        componentWillReceiveProps(props) &#123;</span><br><span class="line">			console.log(&#x27;B---componentWillReceiveProps&#x27;, props);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//控制组件更新的“阀门”</span><br><span class="line">        shouldComponentUpdate() &#123;</span><br><span class="line">			console.log(&#x27;B---shouldComponentUpdate&#x27;);</span><br><span class="line">			return true</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//组件将要更新的钩子</span><br><span class="line">        componentWillUpdate() &#123;</span><br><span class="line">			console.log(&#x27;B---componentWillUpdate&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//组件更新完毕的钩子</span><br><span class="line">        componentDidUpdate() &#123;</span><br><span class="line">			console.log(&#x27;B---componentDidUpdate&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		render() &#123;</span><br><span class="line">			console.log(&#x27;B---render&#x27;);</span><br><span class="line">			return (</span><br><span class="line">				&lt;div&gt;我是B组件，接收到的车是:&#123;this.props.carName&#125;&lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	//渲染组件</span><br><span class="line">    ReactDOM.render(&lt;Count/&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">    ReactDOM.render(&lt;A /&gt;, document.getElementById(&#x27;test1&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<h3 id="生命周期流程图（新）"><a href="#生命周期流程图（新）" class="headerlink" title="生命周期流程图（新）"></a>生命周期流程图（新）</h3><blockquote>
<p>兼容了旧版本但将要的钩子是会发出警告</p>
<p><img src="/React/image-20221214102230446.png" alt="image-20221214102230446"></p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/blog/2018/03/27/update-on-async-rendering.html">官网解释</a></p>
<blockquote>
<p>每个组件都包含 “生命周期方法”，你可以重写这些方法，以便于在运行过程中特定的阶段执行这些方法。<strong>你可以使用此<a target="_blank" rel="noopener" href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/">生命周期图谱</a>作为速查表</strong>。在下述列表中，常用的生命周期方法会被加粗。其余生命周期函数的使用则相对罕见。</p>
<p>挂载</p>
<p>当组件实例被创建并插入 DOM 中时，其生命周期调用顺序如下：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#constructor"><strong><code>constructor()</code></strong></a></li>
<li><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromprops"><code>static getDerivedStateFromProps()</code></a></li>
<li><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#render"><strong><code>render()</code></strong></a></li>
<li><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#componentdidmount"><strong><code>componentDidMount()</code></strong></a></li>
</ul>
<blockquote>
<p>注意:</p>
<p>下述生命周期方法即将过时，在新代码中应该<a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/blog/2018/03/27/update-on-async-rendering.html">避免使用它们</a>：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#unsafe_componentwillmount"><code>UNSAFE_componentWillMount()</code></a></li>
</ul>
</blockquote>
<p>更新</p>
<p>当组件的 props 或 state 发生变化时会触发更新。组件更新的生命周期调用顺序如下：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromprops"><code>static getDerivedStateFromProps()</code></a></li>
<li><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#shouldcomponentupdate"><code>shouldComponentUpdate()</code></a></li>
<li><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#render"><strong><code>render()</code></strong></a></li>
<li><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#getsnapshotbeforeupdate"><code>getSnapshotBeforeUpdate()</code></a></li>
<li><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#componentdidupdate"><strong><code>componentDidUpdate()</code></strong></a></li>
</ul>
<blockquote>
<p>注意:</p>
<p>下述方法即将过时，在新代码中应该<a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/blog/2018/03/27/update-on-async-rendering.html">避免使用它们</a>：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#unsafe_componentwillupdate"><code>UNSAFE_componentWillUpdate()</code></a></li>
<li><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#unsafe_componentwillreceiveprops"><code>UNSAFE_componentWillReceiveProps()</code></a></li>
</ul>
</blockquote>
</blockquote>
<p>解决方法</p>
<blockquote>
<p>将下面的函数钩子名字改成UNSAFE_name</p>
<p><img src="/React/image-20221214102927220.png" alt="image-20221214102927220"></p>
<p>例如</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UNSAFE_componentDidMunt()&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>逐步迁移路径</p>
<p><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/blog/2016/02/19/new-versioning-scheme.html">React 遵循语义版本控制</a>，因此这种变化将是逐步的。我们目前的计划是：</p>
<ul>
<li><strong>16.3</strong>：为不安全的生命周期引入别名，<code>UNSAFE_componentWillMount</code>、<code>UNSAFE_componentWillReceiveProps</code> 和 <code>UNSAFE_componentWillUpdate</code>。（旧的生命周期名称和新的别名都可以在此版本中使用。）</li>
<li><strong>未来 16.x 版本</strong>：为 <code>componentWillMount</code>、<code>componentWillReceiveProps</code> 和 <code>componentWillUpdate</code> 启用废弃告警。（旧的生命周期名称和新的别名都将在这个版本中工作，但是旧的名称在开发模式下会产生一个警告。）</li>
<li><strong>17.0</strong>：删除 <code>componentWillMount</code>、<code>componentWillReceiveProps</code> 和 <code>componentWillUpdate</code>。（在此版本之后，只有新的 “UNSAFE_” 生命周期名称可以使用。）</li>
</ul>
<p><strong>注意，如果你是 React 应用程序开发人员，则无需对这些过时的方法执行任何操作。即将发布的 16.3 版本的主要目的是使开源项目维护人员能够在任何废弃警告之前更新他们的库。在未来的 16.x 版本发布之前，不会启用这些警告。</strong></p>
<p><img src="/React/image-20221213211607931-16709373691677.png" alt="image-20221213211607931"></p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lGQ29va2ll,size_16,color_FFFFFF,t_70.png" alt="新版生命周期图解"></p>
<p>尚硅谷</p>
<blockquote>
<p>生命周期的三个阶段（新）</p>
<p><strong>初始化阶段由ReactDOM.render()触发—初次渲染</strong></p>
<ol>
<li><p>constructor()</p>
</li>
<li><p>getDerivedStateFromProps</p>
</li>
<li><p>render()</p>
</li>
<li><p>componentDidMount()</p>
</li>
</ol>
<p><strong>由组件内部this.setSate()或父组件重新render触发或强制更新this.forceUpdate()</strong></p>
<ol>
<li><p>getDerivedStateFromProps</p>
</li>
<li><p>shouldComponentUpdate()决定是否更新的阀门返回true开，返回false关(默认返回true)</p>
</li>
<li><p>render()</p>
</li>
<li><p>getSnapshotBeforeUpdate</p>
</li>
<li><p>componentDidUpdate()</p>
</li>
</ol>
<p><strong>卸载组件 由ReactDOM.unmountComponentAtNode()触发</strong></p>
<ol>
<li>componentWillUnmount()</li>
</ol>
<p>	</p>
</blockquote>
<blockquote>
<ol>
<li>初始化阶段: 由ReactDOM.render()触发—初次渲染<br>1. constructor()<br>2. getDerivedStateFromProps<br>3. render()<br>4. componentDidMount() &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt; 常用<br><br>  一般在这个钩子中做一些初始化的事，例如：开启定时器、发送网络请求、订阅消息<ol start="2">
<li><p>更新阶段: 由组件内部this.setSate()或父组件重新render触发</p>
<ol>
<li>getDerivedStateFromProps</li>
<li>shouldComponentUpdate()</li>
<li>render()</li>
<li>getSnapshotBeforeUpdate</li>
<li>componentDidUpdate()</li>
</ol>
</li>
<li><p>卸载组件: 由ReactDOM.unmountComponentAtNode()触发</p>
<ol>
<li>componentWillUnmount()  &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt; 常用</li>
</ol>
<p>一般在这个钩子中做一些收尾的事，例如：关闭定时器、取消订阅消息</p>
</li>
</ol>
</li>
</ol>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/react-component.html#reference">参考</a></p>
<h4 id="componentDidMount"><a href="#componentDidMount" class="headerlink" title="componentDidMount"></a>componentDidMount</h4><blockquote>
<p><code>componentDidMount()</code> 会<strong>在组件挂载后（插入 DOM 树中）立即调用</strong>。依赖于 DOM 节点的初始化应该放在这里。<strong>如需通过网络请求获取数据，此处是实例化请求的好地方。</strong></p>
<p>这个方法是比较适合添加订阅的地方。如果添加了订阅，请不要忘记在 <code>componentWillUnmount()</code> 里取消订阅</p>
<p>你可以在 <code>componentDidMount()</code> 里<strong>直接调用 <code>setState()</code><strong>。它</strong>将触发额外渲染</strong>，<strong>但此渲染会发生在浏览器更新屏幕之前</strong>。如此保证了即使在 <code>render()</code> 两次调用的情况下，用户也不会看到中间状态。<strong>请谨慎使用该模式，因为它会导致性能问题。</strong>通常，你应该在 <code>constructor()</code> 中初始化 state。如果你的渲染依赖于 DOM 节点的大小或位置，比如实现 modals 和 tooltips 等情况下，你可以使用此方式处理</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Preson extends React.Component &#123;</span><br><span class="line">      state = &#123;</span><br><span class="line">        opacity: 1</span><br><span class="line">      &#125;</span><br><span class="line">      // 注意卸了组件后定时器任然存在没有被销毁，会报错</span><br><span class="line">      // 在卸载组件前一定要销毁定时器</span><br><span class="line">      terval = &quot;&quot;;</span><br><span class="line">      // 在组件挂载后（插入 DOM 树中）立即调用</span><br><span class="line">      componentDidMount() &#123;</span><br><span class="line">        console.log(this.terval)</span><br><span class="line">        console.log(this)</span><br><span class="line">        this.terval = setInterval(() =&gt; &#123;</span><br><span class="line">          let &#123; opacity &#125; = this.state;</span><br><span class="line">          opacity = opacity &lt;= 0 ? 1 : opacity - 0.25</span><br><span class="line">          this.setState(&#123; opacity &#125;);</span><br><span class="line">          this.hok.style.opacity = opacity</span><br><span class="line">        &#125;, 500)</span><br><span class="line">      &#125;</span><br><span class="line">      // 销毁前调用</span><br><span class="line">      componentWillUnmount()&#123;</span><br><span class="line">        clearInterval(this.terval)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      render() &#123;</span><br><span class="line"></span><br><span class="line">        return (</span><br><span class="line"></span><br><span class="line">          &lt;div&gt;</span><br><span class="line">            &lt;h1 style=&#123;&#123; opacity: &quot;1&quot; &#125;&#125; ref=&#123;(c) =&gt; &#123; this.hok = c &#125;&#125;&gt;react生命周期钩子!&lt;/h1&gt;</span><br><span class="line">            &lt;button onClick=&#123;() =&gt; &#123; ReactDOM.unmountComponentAtNode(document.getElementById(&quot;root&quot;)) &#125;&#125;&gt;销毁组件&lt;/button&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ReactDOM.render(&lt;Preson /&gt;, document.getElementById(&quot;root&quot;))</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure>



<p><img src="/React/image-20221213213455075.png" alt="image-20221213213455075"></p>
<h4 id="getDerivedStateFromProps"><a href="#getDerivedStateFromProps" class="headerlink" title="getDerivedStateFromProps"></a>getDerivedStateFromProps</h4><blockquote>
<p>新的<strong>静态</strong> <code>getDerivedStateFromProps</code> 生命周期方法在组件实例化之后以及重新渲染之前调用。它可以返回一个对象来更新 <code>state</code>，或者返回 <code>null</code> 来表示新的 <code>props</code> 不需要任何 <code>state</code> 的更新。</p>
</blockquote>
<blockquote>
<p>必须使用static修饰，必须有返回值并且必须是状态对象(this.state)或null</p>
</blockquote>
<p>返回的对象会与this.state进行合并更新</p>
<p><img src="/React/image-20221214123041727.png" alt="image-20221214123041727"></p>
<p><img src="/React/image-20221214123026819.png" alt="image-20221214123026819"></p>
<blockquote>
<p>​		&#x2F;&#x2F; <strong>返回值</strong>与state中的<strong>数据进行合并更新</strong></p>
<p>​          &#x2F;&#x2F; <strong>注意这里的this为undefined的</strong></p>
<p>​    	&#x2F;&#x2F; 返回的值会更新state的值，返回null时无影响</p>
<p>​      	&#x2F;&#x2F; 与this.state中的重复的属性不是无效更新了只是<strong>一直被返回的数据代替了</strong>(更新在前)</p>
<p>​		 &#x2F;&#x2F; 默认会接受到prop数据和state中的数据(参数名随意)</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Preson extends React.Component &#123;</span><br><span class="line">        state = &#123;</span><br><span class="line">          opacity: 1</span><br><span class="line">        &#125;</span><br><span class="line">        // 默认会接受到prop数据和state中的数据(参数名随意)</span><br><span class="line">        static getDerivedStateFromProps(props,state)&#123;</span><br><span class="line">          // 返回值与state中的数据进行合并更新</span><br><span class="line">          // 注意这里的this为undefined的</span><br><span class="line">          // 与this.state中的重复的属性不是无效更新了只是一直被prop的数据代替了</span><br><span class="line">          console.log(props,state)</span><br><span class="line">          return null</span><br><span class="line">        &#125;</span><br><span class="line">        updated =()=&gt; &#123;</span><br><span class="line">          this.setState(&#123;opacity:this.state.opacity + 1&#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        render() &#123;</span><br><span class="line">          return (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">              &lt;h1&gt;react生命周期钩子!&#123;this.state.opacity&#125;&lt;/h1&gt;</span><br><span class="line">              &lt;button onClick=&#123;this.updated&#125;&gt;更新&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">          )</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      ReactDOM.render(&lt;Preson name=&#123;10&#125;/&gt;, document.getElementById(&quot;root&quot;))</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="componentDidUpdate"><a href="#componentDidUpdate" class="headerlink" title="componentDidUpdate()"></a>componentDidUpdate()</h4><blockquote>
<p>会在更新完成后会被立即调用。首次渲染不会执行此方法。</p>
</blockquote>
<blockquote>
<p>更新后触发</p>
<p>默认接收三个参数旧的props和旧的state以及getSnapshotBeforeUpdate的返回值</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Preson extends React.Component &#123;</span><br><span class="line">        state = &#123;</span><br><span class="line">          opacity: 1</span><br><span class="line">        &#125;</span><br><span class="line">        // 默认会接受到prop数据和state中的数据(参数名随意)</span><br><span class="line">        static getDerivedStateFromProps(props,state)&#123;</span><br><span class="line">          // 将props中的数据与state中的数据进行合并</span><br><span class="line">          // 注意这里的this为undefined的</span><br><span class="line">          // 与this.state中的重复的属性不是无效更新了只是一直被prop的数据代替了</span><br><span class="line">          // console.log(props,state)</span><br><span class="line">          return null</span><br><span class="line">        &#125;</span><br><span class="line">        componentDidUpdate(oldProps,oldState)&#123;</span><br><span class="line"></span><br><span class="line">          console.log(&quot;旧的数据&quot;,oldProps,oldState)</span><br><span class="line">          return null</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        updated =()=&gt; &#123;</span><br><span class="line">          this.setState(&#123;opacity:this.state.opacity + 1&#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        render() &#123;</span><br><span class="line">          return (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">              &lt;h1&gt;react生命周期钩子!&#123;this.state.opacity&#125;&lt;/h1&gt;</span><br><span class="line">              &lt;button onClick=&#123;this.updated&#125;&gt;销毁组件&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">          )</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      ReactDOM.render(&lt;Preson name=&#123;10&#125;/&gt;, document.getElementById(&quot;root&quot;))</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/React/image-20221214132342755.png" alt="image-20221214132342755"></p>
<h4 id="getSnapshotBeforeUpdate"><a href="#getSnapshotBeforeUpdate" class="headerlink" title="getSnapshotBeforeUpdate"></a>getSnapshotBeforeUpdate</h4><blockquote>
<p><code>getSnapshotBeforeUpdate()</code> 在最近一次渲染输出（提交到 DOM 节点）之前调用。它使得组件能在发生更改之前从 DOM 中捕获一些信息（例如，滚动位置）。此生命周期方法的<strong>任何返回值将作为参数传递给</strong> <code>componentDidUpdate()</code>(第三个参数)。</p>
</blockquote>
<blockquote>
<p>此用法并不常见，但它可能出现在 UI 处理中，如需要以特殊方式处理滚动位置的聊天线程等。</p>
<p>应返回 snapshot 的值（或 <code>null</code>）。 </p>
</blockquote>
<p>案例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/17.0.1/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;../js/17.0.1/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;../js/17.0.1/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">  class News extends React.Component &#123;</span><br><span class="line">    state = &#123;</span><br><span class="line">      newList: []</span><br><span class="line">    &#125;</span><br><span class="line">      /* </span><br><span class="line">      1. 初始化阶段: 由ReactDOM.render()触发---初次渲染</span><br><span class="line">        1. constructor()</span><br><span class="line">        2. getDerivedStateFromProps </span><br><span class="line">        3. render()</span><br><span class="line">        4. componentDidMount() =====&gt; 常用</span><br><span class="line">          一般在这个钩子中做一些初始化的事，例如：开启定时器、发送网络请求、订阅消息</span><br><span class="line">      2. 更新阶段: 由组件内部this.setSate()或父组件重新render触发</span><br><span class="line">        1. getDerivedStateFromProps</span><br><span class="line">        2. shouldComponentUpdate()</span><br><span class="line">        3. render()</span><br><span class="line">        4. getSnapshotBeforeUpdate</span><br><span class="line">        5. componentDidUpdate()</span><br><span class="line">      3. 卸载组件: 由ReactDOM.unmountComponentAtNode()触发</span><br><span class="line">        1. componentWillUnmount()  =====&gt; 常用</span><br><span class="line">          一般在这个钩子中做一些收尾的事，例如：关闭定时器、取消订阅消息</span><br><span class="line">    */</span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">      setInterval(() =&gt; &#123;</span><br><span class="line">        let &#123; newList &#125; = this.state</span><br><span class="line">        // console.log(newList)</span><br><span class="line">        let news = &#x27;新闻&#x27; + (newList.length + 1);</span><br><span class="line">        console.log(news)</span><br><span class="line">        this.setState(&#123; newList: [news, ...newList] &#125;);</span><br><span class="line">      &#125;, 1000)</span><br><span class="line">    &#125;</span><br><span class="line">    getSnapshotBeforeUpdate() &#123;</span><br><span class="line">      return this.refs.list.scrollHeight</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    componentDidUpdate(oldProps, oldstate, date) &#123;</span><br><span class="line">      let h1 = this.refs.list.scrollHeight</span><br><span class="line">      this.refs.list.scrollTop += h1 - date</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">      return (</span><br><span class="line">        &lt;div className=&quot;list&quot; ref=&#x27;list&#x27;&gt;</span><br><span class="line">          &#123;</span><br><span class="line">            this.state.newList.map((val, index) =&gt; &#123;</span><br><span class="line">              return &lt;div className=&#x27;news&#x27; key=&#123;index&#125;&gt;&#123;val&#125;&lt;/div&gt;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ReactDOM.render(&lt;News /&gt;, document.getElementById(&quot;root&quot;));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<p>SourceURL:file:&#x2F;&#x2F;&#x2F;media&#x2F;mc&#x2F;F&#x2F;笔记&#x2F;02-课件资料&#x2F;React&#x2F;react全家桶资料&#x2F;01_课件&#x2F;尚硅谷react全家桶.docx</p>
<h3 id="重要的勾子"><a href="#重要的勾子" class="headerlink" title="重要的勾子"></a>重要的勾子</h3><ol>
<li><p>render：初始化渲染或更新渲染调用</p>
</li>
<li><p>componentDidMount：开启监听, 发送ajax请求</p>
</li>
<li><p>componentWillUnmount：做一些收尾工作, 如: 清理定时器</p>
</li>
</ol>
<h3 id="即将废弃的勾子"><a href="#即将废弃的勾子" class="headerlink" title="即将废弃的勾子"></a>即将废弃的勾子</h3><ol>
<li><p>componentWillMount</p>
</li>
<li><p>componentWillReceiveProps</p>
</li>
<li><p>componentWillUpdate</p>
</li>
</ol>
<h2 id="dom-diffing算法"><a href="#dom-diffing算法" class="headerlink" title="dom diffing算法"></a><strong>dom diffing算法</strong></h2><h3 id="验证dom-diffing算法"><a href="#验证dom-diffing算法" class="headerlink" title="验证dom diffing算法"></a><strong>验证dom diffing算法</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;验证diff算法&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!-- 准备好一个“容器” --&gt;</span><br><span class="line">&lt;div id=&quot;test&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 引入react核心库 --&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/17.0.1/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/17.0.1/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/17.0.1/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">class Time extends React.Component &#123;</span><br><span class="line">state = &#123;date: new Date()&#125;</span><br><span class="line"></span><br><span class="line">componentDidMount() &#123;</span><br><span class="line">setInterval(() =&gt; &#123;</span><br><span class="line">this.setState(&#123;</span><br><span class="line">date: new Date()</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;, 1000)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">return (</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &lt;h1&gt;hello&lt;/h1&gt;</span><br><span class="line">                    &lt;input type=&quot;text&quot;/&gt;</span><br><span class="line">                    &lt;span&gt;</span><br><span class="line">现在是：&#123;this.state.date.toTimeString()&#125;</span><br><span class="line">                        &lt;input type=&quot;text&quot;/&gt;</span><br><span class="line">                  &lt;/span&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(&lt;Time/&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="react实现"><a href="#react实现" class="headerlink" title="react实现"></a><strong>react实现</strong></h3><p><img src="/React/NkFbZibfdpVoNKU1iK-Fxw.png" alt="img"></p>
<p><img src="/React/7pxBiZJhYGbZU-OppYWfeA.png" alt="img"></p>
<p><img src="/React/OTQgZxw00HHo2OneZw3Tug.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;key的作用&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;test&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;!-- 引入react核心库 --&gt;</span><br><span class="line">  &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;!-- 引入react-dom --&gt;</span><br><span class="line">  &lt;script type=&quot;text/javascript&quot; src=&quot;../js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;!-- 引入babel --&gt;</span><br><span class="line">  &lt;script type=&quot;text/javascript&quot; src=&quot;../js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    /*</span><br><span class="line">       经典面试题:</span><br><span class="line">          1). react/vue中的key有什么作用？（key的内部原理是什么？）</span><br><span class="line">          2). 为什么遍历列表时，key最好不要用index?</span><br><span class="line">    </span><br><span class="line">                1. 虚拟DOM中key的作用：</span><br><span class="line">                        1). 简单的说: key是虚拟DOM对象的标识, 在更新显示时key起着极其重要的作用。</span><br><span class="line">    </span><br><span class="line">                        2). 详细的说: 当状态中的数据发生变化时，react会根据【新数据】生成【新的虚拟DOM】,</span><br><span class="line">                                                    随后React进行【新虚拟DOM】与【旧虚拟DOM】的diff比较，比较规则如下：</span><br><span class="line">    </span><br><span class="line">                                        a. 旧虚拟DOM中找到了与新虚拟DOM相同的key：</span><br><span class="line">                                                    (1).若虚拟DOM中内容没变, 直接使用之前的真实DOM</span><br><span class="line">                                                    (2).若虚拟DOM中内容变了, 则生成新的真实DOM，随后替换掉页面中之前的真实DOM</span><br><span class="line">    </span><br><span class="line">                                        b. 旧虚拟DOM中未找到与新虚拟DOM相同的key</span><br><span class="line">                                                    根据数据创建新的真实DOM，随后渲染到到页面</span><br><span class="line">    </span><br><span class="line">                2. 用index作为key可能会引发的问题：</span><br><span class="line">                                    1. 若对数据进行：逆序添加、逆序删除等破坏顺序操作:</span><br><span class="line">                                                    会产生没有必要的真实DOM更新 ==&gt; 界面效果没问题, 但效率低。</span><br><span class="line">    </span><br><span class="line">                                    2. 如果结构中还包含输入类的DOM：</span><br><span class="line">                                                    会产生错误DOM更新 ==&gt; 界面有问题。</span><br><span class="line">    </span><br><span class="line">                                    3. 注意！如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，</span><br><span class="line">                                        仅用于渲染列表用于展示，使用index作为key是没有问题的。</span><br><span class="line">    </span><br><span class="line">                3. 开发中如何选择key?:</span><br><span class="line">                                    1.最好使用每条数据的唯一标识作为key, 比如id、手机号、身份证号、学号等唯一值。</span><br><span class="line">                                    2.如果确定只是简单的展示数据，用index也是可以的。</span><br><span class="line">       */</span><br><span class="line"></span><br><span class="line">    /*</span><br><span class="line">        慢动作回放----使用index索引值作为key</span><br><span class="line"></span><br><span class="line">            初始数据：</span><br><span class="line">                    &#123;id:1,name:&#x27;小张&#x27;,age:18&#125;,</span><br><span class="line">                    &#123;id:2,name:&#x27;小李&#x27;,age:19&#125;,</span><br><span class="line">            初始的虚拟DOM：</span><br><span class="line">                    &lt;li key=0&gt;小张---18&lt;input type=&quot;text&quot;/&gt;&lt;/li&gt;</span><br><span class="line">                    &lt;li key=1&gt;小李---19&lt;input type=&quot;text&quot;/&gt;&lt;/li&gt;</span><br><span class="line"></span><br><span class="line">            更新后的数据：</span><br><span class="line">                    &#123;id:3,name:&#x27;小王&#x27;,age:20&#125;,</span><br><span class="line">                    &#123;id:1,name:&#x27;小张&#x27;,age:18&#125;,</span><br><span class="line">                    &#123;id:2,name:&#x27;小李&#x27;,age:19&#125;,</span><br><span class="line">            更新数据后的虚拟DOM：</span><br><span class="line">                    &lt;li key=0&gt;小王---20&lt;input type=&quot;text&quot;/&gt;&lt;/li&gt;</span><br><span class="line">                    &lt;li key=1&gt;小张---18&lt;input type=&quot;text&quot;/&gt;&lt;/li&gt;</span><br><span class="line">                    &lt;li key=2&gt;小李---19&lt;input type=&quot;text&quot;/&gt;&lt;/li&gt;</span><br><span class="line"></span><br><span class="line">    -----------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">    慢动作回放----使用id唯一标识作为key</span><br><span class="line"></span><br><span class="line">            初始数据：</span><br><span class="line">                    &#123;id:1,name:&#x27;小张&#x27;,age:18&#125;,</span><br><span class="line">                    &#123;id:2,name:&#x27;小李&#x27;,age:19&#125;,</span><br><span class="line">            初始的虚拟DOM：</span><br><span class="line">                    &lt;li key=1&gt;小张---18&lt;input type=&quot;text&quot;/&gt;&lt;/li&gt;</span><br><span class="line">                    &lt;li key=2&gt;小李---19&lt;input type=&quot;text&quot;/&gt;&lt;/li&gt;</span><br><span class="line"></span><br><span class="line">            更新后的数据：</span><br><span class="line">                    &#123;id:3,name:&#x27;小王&#x27;,age:20&#125;,</span><br><span class="line">                    &#123;id:1,name:&#x27;小张&#x27;,age:18&#125;,</span><br><span class="line">                    &#123;id:2,name:&#x27;小李&#x27;,age:19&#125;,</span><br><span class="line">            更新数据后的虚拟DOM：</span><br><span class="line">                    &lt;li key=3&gt;小王---20&lt;input type=&quot;text&quot;/&gt;&lt;/li&gt;</span><br><span class="line">                    &lt;li key=1&gt;小张---18&lt;input type=&quot;text&quot;/&gt;&lt;/li&gt;</span><br><span class="line">                    &lt;li key=2&gt;小李---19&lt;input type=&quot;text&quot;/&gt;&lt;/li&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     */</span><br><span class="line">    class Person extends React.Component &#123;</span><br><span class="line"></span><br><span class="line">      state = &#123;</span><br><span class="line">        persons: [</span><br><span class="line">          &#123; id: 1, name: &#x27;小张&#x27;, age: 18 &#125;,</span><br><span class="line">          &#123; id: 2, name: &#x27;小李&#x27;, age: 19 &#125;,</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      add = () =&gt; &#123;</span><br><span class="line">        const &#123; persons &#125; = this.state</span><br><span class="line">        const p = &#123; id: persons.length + 1, name: &#x27;小王&#x27;, age: 20 &#125;</span><br><span class="line">        this.setState(&#123; persons: [p, ...persons] &#125;)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      render() &#123;</span><br><span class="line">        return (</span><br><span class="line">          &lt;div&gt;</span><br><span class="line">            &lt;h2&gt;展示人员信息&lt;/h2&gt;</span><br><span class="line">            &lt;button onClick=&#123;this.add&#125;&gt;添加一个小王&lt;/button&gt;</span><br><span class="line">            &lt;h3&gt;使用index（索引值）作为key&lt;/h3&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">              &#123;</span><br><span class="line">                this.state.persons.map((personObj, index) =&gt; &#123;</span><br><span class="line">                  return &lt;li key=&#123;index&#125;&gt;&#123;personObj.name&#125;---&#123;personObj.age&#125;&lt;input type=&quot;text&quot; key=&#123;personObj.id&#125; /&gt;&lt;/li&gt;</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">            &lt;hr /&gt;</span><br><span class="line">            &lt;hr /&gt;</span><br><span class="line">            &lt;h3&gt;使用id（数据的唯一标识）作为key&lt;/h3&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">              &#123;</span><br><span class="line">                this.state.persons.map((personObj) =&gt; &#123;</span><br><span class="line">                  return &lt;li key=&#123;personObj.id&#125;&gt;&#123;personObj.name&#125;---&#123;personObj.age&#125;&lt;input type=&quot;text&quot; /&gt;&lt;/li&gt;</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ReactDOM.render(&lt;Person /&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>





<h2 id="脚手架"><a href="#脚手架" class="headerlink" title="脚手架"></a>脚手架</h2><h3 id="react脚手架"><a href="#react脚手架" class="headerlink" title="react脚手架"></a>react脚手架</h3><ol>
<li><p>xxx脚手架: 用来帮助程序员快速创建一个基于xxx库的模板项目</p>
<ol>
<li><p>包含了所有需要的配置（语法检查、jsx编译、devServer…）</p>
</li>
<li><p>下载好了所有相关的依赖</p>
</li>
<li><p>可以直接运行一个简单效果</p>
</li>
</ol>
</li>
<li><p>react提供了一个用于创建react项目的脚手架库: create-react-app</p>
</li>
<li><p>项目的整体技术架构为:  react + webpack + es6 + eslint</p>
</li>
<li><p>使用脚手架开发的项目的特点: 模块化, 组件化, 工程化</p>
</li>
</ol>
<h3 id="创建项目并启动"><a href="#创建项目并启动" class="headerlink" title="创建项目并启动"></a>创建项目并启动</h3><p>第一步，全局安装：npm i -g create-react-app</p>
<p>第二步，切换到想创项目的目录，使用命令：create-react-app hello-react  [–temlate] typescript</p>
<p>第三步，进入项目文件夹：cd hello-react</p>
<p>第四步，启动项目：npm start</p>
<p><img src="/React/image-20221214172651124.png" alt="image-20221214172651124"></p>
<p><img src="/React/image-20221214172423631.png" alt="image-20221214172423631"></p>
<blockquote>
<ol>
<li>npm start或yarn start 运行项目</li>
<li>npm run build 或 yarn build 打包项目</li>
<li>npm test 或 yarn test 测试项目的</li>
<li>npm run eject 或 yarn  eject 显示webpack的配置文件暴露出来，暴露后无法在隐藏了</li>
</ol>
</blockquote>
<h3 id="脚手架项目结构"><a href="#脚手架项目结构" class="headerlink" title="脚手架项目结构"></a>脚手架项目结构</h3><p>​	public —- 静态资源文件夹</p>
<p>​		favicon.icon —— 网站页签图标</p>
<p>​		index.html——–主页面</p>
<p>​		logo192.png ——- logo图</p>
<p>​		logo512.png ——- logo图</p>
<p>​		manifest.json —– 应用加壳的配置文件</p>
<p>​		robots.txt ——– 爬虫协议文件</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1wy4y1D7JT/?p=50&spm_id_from=pageDriver&vd_source=031f631a87cca114e71194f12ec3fc3f">加壳解释</a></p>
<p>src —- 源码文件夹</p>
<p>​		App.css ——– App组件的样式</p>
<p>​		App.js———App组件</p>
<p>​		App.test.js —- 用于给App做测试</p>
<p>​		index.css —— 样式</p>
<p>​		index.js——入口文件</p>
<p>​		logo.svg ——- logo图</p>
<p>​		reportWebVitals.js</p>
<p>​			— 页面性能分析文件(需要web-vitals库的支持)</p>
<p>​		setupTests.js</p>
<p>​			—- 组件单元测试的文件(需要jest-dom库的支持)</p>
<p>index.html解读</p>
<p><img src="/React/image-20221214180130269.png" alt="image-20221214180130269"></p>
<p><strong>theme-color</strong>兼容性不好</p>
<blockquote>
<p>React.StrictMode标签react脚手架自带的组件，检测后代组件中是否存在不合理的地方</p>
<p>可以不用</p>
</blockquote>
<blockquote>
<p>reportWebVitals();记录页面性能的</p>
</blockquote>
<h3 id="功能界面的组件化编码流程（通用）"><a href="#功能界面的组件化编码流程（通用）" class="headerlink" title="功能界面的组件化编码流程（通用）"></a>功能界面的组件化编码流程（通用）</h3><ol>
<li><p>拆分组件: 拆分界面,抽取组件</p>
</li>
<li><p>实现静态组件: 使用组件实现静态页面效果</p>
</li>
<li><p>实现动态组件</p>
</li>
</ol>
<p>​	3.1 动态显示初始化数据</p>
<p>​		3.1.1 数据类型</p>
<p>​		3.1.2 数据名称</p>
<p>​		3.1.2 保存在哪个组件?</p>
<p>​	3.2 交互(从绑定事件监听开始)</p>
<h3 id="入口文件写法"><a href="#入口文件写法" class="headerlink" title="入口文件写法"></a>入口文件写法</h3><blockquote>
<p>写法以直接引入react-dom文件</p>
<p>这种引用两者都可以使用</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span>  <span class="keyword">from</span> <span class="string">&quot;./App&quot;</span></span><br><span class="line"><span class="comment">// 写法一</span></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span>,<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>))</span><br><span class="line"><span class="comment">// 写法二</span></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line"></span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>写法二引入react-dom&#x2F;client文件</p>
<p>该方法使用直接使用ReactDOM.render会报错</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span>  <span class="keyword">from</span> <span class="string">&quot;./App&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line"></span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>React中的不是解构赋值，而是同时使用了默认暴露和分别暴露(或统一暴露)</p>
</blockquote>
<p><img src="/React/image-20221214202137067-167102050147717.png" alt="image-20221214202137067"></p>
<p>组件后缀写成jsx</p>
<p><strong>在react脚手夹中引入.js与.jsx文件后缀可以不写</strong></p>
<h3 id="样式冲突"><a href="#样式冲突" class="headerlink" title="样式冲突"></a>样式冲突</h3><p>当组件逐渐增多起来的时候，我们发现，组件的样式也是越来越丰富，这样就很有可能产生两个组件中样式名称有可能会冲突，这样会根据引入App这个组件的先后顺序，后面的会覆盖前面的，</p>
<p>为了避免这样的样式冲突，我们采用下面的形式：</p>
<p>1.将css文件名修改： hello.css — &gt;hello.module.css</p>
<p>2.引入并使用的时候改变方式：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>,&#123;<span class="title class_">Component</span>&#125;<span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> hello <span class="keyword">from</span> <span class="string">&#x27;./hello.module.css&#x27;</span>  <span class="comment">//引入的时候给一个名称</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span>&#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">className</span>=<span class="string">&#123;hello.title&#125;</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>   <span class="comment">//通过大括号进行调用</span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>方法二、CSS module</p>
<p><a target="_blank" rel="noopener" href="http://ruanyifeng.com/blog/2016/06/css_modules.html"> 阮一峰CSS Modules 用法教程</a></p>
<h3 id="react配置代理服务器"><a href="#react配置代理服务器" class="headerlink" title="react配置代理服务器"></a>react配置代理服务器</h3><h4 id="方法一package-json文件"><a href="#方法一package-json文件" class="headerlink" title="方法一package.json文件"></a>方法一package.json文件</h4><p>在package.json文件中添加proxy配置属性</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;proxy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://localhost:5000&quot;</span></span><br></pre></td></tr></table></figure>



<p>发请求时的端口地址要与脚手架的端口号一样</p>
<p><strong>配置服务时的端口与服务器的一样</strong>   不能写全链接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line"></span><br><span class="line">class App extends Component &#123;</span><br><span class="line">  getStudents = () =&gt; &#123;</span><br><span class="line">    console.log(&#x27;a&#x27;);</span><br><span class="line">     // 端口3000</span><br><span class="line">    axios.get(&quot;http://localhost:3000/students&quot;).then(</span><br><span class="line">      (response) =&gt; &#123;</span><br><span class="line">        console.log(response.data);</span><br><span class="line">    &#125;,</span><br><span class="line">      (error) =&gt; &#123;</span><br><span class="line">        console.log(error);</span><br><span class="line">    &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;button onClick=&#123;this.getStudents&#125;&gt;获取学生数据&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>服务器代码端口5000</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">request,response,next</span>)=&gt;</span>&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;有人请求服务器1了&#x27;</span>);</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;请求来自于&#x27;</span>,request.<span class="title function_">get</span>(<span class="string">&#x27;Host&#x27;</span>));</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;请求的地址&#x27;</span>,request.<span class="property">url</span>);</span><br><span class="line">	<span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/students&#x27;</span>,<span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">const</span> students = [</span><br><span class="line">		&#123;<span class="attr">id</span>:<span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;tom&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;,</span><br><span class="line">		&#123;<span class="attr">id</span>:<span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;jerry&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>&#125;,</span><br><span class="line">		&#123;<span class="attr">id</span>:<span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;tony&#x27;</span>,<span class="attr">age</span>:<span class="number">120</span>&#125;,</span><br><span class="line">	]</span><br><span class="line">	response.<span class="title function_">send</span>(students)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">5000</span>,<span class="function">(<span class="params">err</span>)=&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(!err) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;服务器1启动成功了,请求学生信息地址为：http://localhost:5000/students&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意上面这种直接配置会出现vue一样的当本项目的静态文件public中有时不会去找服务器而是直接读取项目中的资源，当项目的静态文件中没有时会在放送到服务器中</p>
</blockquote>
<p>说明：</p>
<ol>
<li>优点：配置简单，前端请求资源时可以不加任何前缀。</li>
<li>缺点：不能配置多个代理。</li>
<li>工作方式：上述方式配置代理，当请求了3000不存在的资源时，那么该请求会转发给5000 （优先匹配前端资源）</li>
</ol>
<h4 id="方法二setupProxy-js文件"><a href="#方法二setupProxy-js文件" class="headerlink" title="方法二setupProxy.js文件"></a>方法二setupProxy.js文件</h4><ol>
<li>第一步：创建代理配置文件</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在src下创建配置文件：src/setupProxy.js</span><br></pre></td></tr></table></figure>



<p>使用的不是ES6代码</p>
<p>用的是CJS需要引入http-proxy-middleware</p>
<p>该包在建项目时react已经下载了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const proxy = require(&#x27;http-proxy-middleware&#x27;)</span><br></pre></td></tr></table></figure>

<p>有的可以使用对象写法</p>
<p>最新的要求写成函数写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>编写setupProxy.js配置具体代理规则：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不能写成</span></span><br><span class="line"><span class="comment">// const  proxy  = require(&#x27;http-proxy-middleware&#x27;);</span></span><br><span class="line"><span class="comment">// const  &#123;proxy&#125;  = require(&#x27;http-proxy-middleware&#x27;);</span></span><br><span class="line"><span class="comment">// 版本问题</span></span><br><span class="line"><span class="comment">// 可以写成</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">createProxyMiddleware</span>: proxy &#125; = <span class="built_in">require</span>(<span class="string">&#x27;http-proxy-middleware&#x27;</span>);</span><br><span class="line">或</span><br><span class="line"><span class="comment">// const &#123; createProxyMiddleware: proxy &#125; = require(&#x27;http-proxy-middleware&#x27;);</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> (<span class="params">app</span>) &#123;</span><br><span class="line">  app.<span class="title function_">use</span>(</span><br><span class="line">     <span class="title function_">proxy</span>(<span class="string">&#x27;/api1&#x27;</span>, &#123;  <span class="comment">//api1是需要转发的请求(所有带有/api1前缀的请求都会转发给5000)</span></span><br><span class="line">      <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5000&#x27;</span>, <span class="comment">//配置转发目标地址(能返回数据的服务器地址)</span></span><br><span class="line">      <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">//控制服务器接收到的请求头中host字段的值</span></span><br><span class="line">      <span class="comment">/*</span></span><br><span class="line"><span class="comment">      	changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000</span></span><br><span class="line"><span class="comment">      	changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:3000</span></span><br><span class="line"><span class="comment">      	changeOrigin默认值为false，但我们一般将changeOrigin值设为true</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">      <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/api1&#x27;</span>: <span class="string">&#x27;&#x27;</span>&#125; <span class="comment">//去除请求前缀，保证交给后台服务器的是正常请求地址(必须配置)</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// 或</span></span><br><span class="line">    <span class="comment">// createProxyMiddleware(&#x27;&#x27;,&#123;&#125;)</span></span><br><span class="line">      <span class="title function_">proxy</span>(<span class="string">&quot;/api2&quot;</span>, &#123;</span><br><span class="line">      <span class="attr">target</span>: <span class="string">&quot;http://localhost:5001&quot;</span>,</span><br><span class="line">      <span class="comment">// 是否告诉服务器请求的真实地址true不告诉，false告诉</span></span><br><span class="line">      <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// 替换路径的前缀</span></span><br><span class="line">      <span class="attr">pathRewrite</span>: &#123; <span class="string">&quot;^/api2&quot;</span>: <span class="string">&quot;&quot;</span> &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：</p>
<ol>
<li>优点：可以配置多个代理，可以灵活的控制请求是否走代理。</li>
<li>缺点：配置繁琐，前端请求资源时必须加前缀。</li>
</ol>
<h3 id="暴露默认配置文件"><a href="#暴露默认配置文件" class="headerlink" title="暴露默认配置文件"></a>暴露默认配置文件</h3><blockquote>
<p>yarn eject</p>
</blockquote>
<h2 id="todoList"><a href="#todoList" class="headerlink" title="todoList"></a>todoList</h2><p>一、todoList案例相关知识点<br>        1.拆分组件、实现静态组件，注意：className、style的写法<br>        2.动态初始化列表，如何确定将数据放在哪个组件的state中？<br>                    ——某个组件使用：放在其自身的state中<br>                    ——某些组件使用：放在他们共同的父组件state中（官方称此操作为：状态提升）<br>        3.关于父子之间通信：<br>                1.【父组件】给【子组件】传递数据：通过props传递<br>                2.【子组件】给【父组件】传递数据：通过props传递，要求父提前给子传递一个函数<br>        4.注意defaultChecked 和 checked的区别，类似的还有：defaultValue 和 value<br>        5.状态在哪里，操作状态的方法就在哪里</p>
<h2 id="github案例"><a href="#github案例" class="headerlink" title="github案例"></a>github案例</h2><p>github搜索案例相关知识点<br>        1.设计状态时要考虑全面，例如带有网络请求的组件，要考虑请求失败怎么办。<br>        2.ES6小知识点：解构赋值+重命名<br>                    let obj &#x3D; {a:{b:1}}<br>                    const {a} &#x3D; obj; &#x2F;&#x2F;传统解构赋值<br>                    const {a:{b}} &#x3D; obj; &#x2F;&#x2F;连续解构赋值<br>                    const {a:{b:value}} &#x3D; obj; &#x2F;&#x2F;连续解构赋值+重命名<br>        3.fetch发送请求（关注分离的设计思想）<br>                    try {<br>                        const response&#x3D; await fetch(<code>/api1/search/users2?q=$&#123;keyWord&#125;</code>)<br>                        const data &#x3D; await response.json()<br>                        console.log(data);<br>                    } catch (error) {<br>                        console.log(‘请求出错’,error);<br>                    }</p>
<h2 id="消息订阅与发布"><a href="#消息订阅与发布" class="headerlink" title="消息订阅与发布"></a>消息订阅与发布</h2><p>消息订阅与发布机制<br>                    1.先订阅，再发布（理解：有一种隔空对话的感觉）<br>                    2.适用于任意组件间通信<br>                    3.要在组件的componentWillUnmount中取消订阅</p>
<h3 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h3><p><img src="/React/image-20230102202917907.png" alt="image-20230102202917907"></p>
<p>取消订阅</p>
<p><img src="/React/image-20230103170542389.png" alt="image-20230103170542389"></p>
<p>PubSub.unsubscribe(delete);</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;;</span><br><span class="line">import axios from &quot;axios&quot;</span><br><span class="line">import PubSub from &#x27;pubsub-js&#x27;</span><br><span class="line"></span><br><span class="line">class Search extends Component &#123;</span><br><span class="line"></span><br><span class="line">  Search = () =&gt; &#123;</span><br><span class="line">    // 第一个参数为订阅名，第二个为参数</span><br><span class="line">    PubSub.publish(&#x27;Toke&#x27;, &#x27;hello world!&#x27;);</span><br><span class="line">    let &#123; keyWordElement: &#123; value: keyWord &#125; &#125; = this;</span><br><span class="line">    let stateObj = &#123;</span><br><span class="line">      isFirst: &quot;none&quot;,</span><br><span class="line">      isLoading: &quot;inline&quot;,</span><br><span class="line">      isMain: &quot;none&quot;,</span><br><span class="line">      errMsg:&quot;none&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    this.props.upState(stateObj)</span><br><span class="line">    axios.get(`/api1/search/users?q=$&#123;keyWord&#125;`).then(</span><br><span class="line">      (response) =&gt; &#123;</span><br><span class="line">        this.props.getItems(response.data.items)</span><br><span class="line">      &#125;,</span><br><span class="line">      (error) =&gt; &#123;</span><br><span class="line">        this.props.upState(&#123;</span><br><span class="line">          isLoading:&quot;none&quot;,</span><br><span class="line">          errMsg: &quot;inline&quot;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;section className=&quot;jumbotron&quot;&gt;</span><br><span class="line">            &lt;h3 className=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">            &lt;input ref=&#123;c=&gt; this.keyWordElement = c&#125; type=&quot;text&quot; placeholder=&quot;enter the name you search&quot; /&gt;&amp;nbsp;</span><br><span class="line">            &lt;button onClick=&#123;this.Search&#125;&gt;Search&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">          &lt;/section&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Search;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;;</span><br><span class="line">import PubSub from &#x27;pubsub-js&#x27;</span><br><span class="line">import &quot;./index.css&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class List extends Component &#123;</span><br><span class="line">  mySubscriber = function (msg, data) &#123;</span><br><span class="line">    //第一个参数为订阅名，第二个为参数</span><br><span class="line">    console.log( msg, data );</span><br><span class="line">  &#125;;</span><br><span class="line">  render() &#123;</span><br><span class="line">    let &#123; items, isFirst, isLoading, errMsg, isMain &#125; = this.props;</span><br><span class="line">    // 参数一为订阅名，参数二为回调函数</span><br><span class="line">    PubSub.subscribe(&#x27;Toke&#x27;, this.mySubscriber);</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div className=&quot;row&quot; &gt;</span><br><span class="line">          &lt;h1 style=&#123;&#123;display:isFirst&#125;&#125;&gt;欢迎使用！&lt;/h1&gt;</span><br><span class="line">          &lt;h1 style=&#123;&#123;display:isLoading&#125;&#125;&gt;加载中....&lt;/h1&gt;</span><br><span class="line">          &lt;h1 style=&#123;&#123;display:errMsg&#125;&#125;&gt;请求失败!&lt;/h1&gt;</span><br><span class="line">          &#123;</span><br><span class="line">            items.map(item=&gt;&#123;</span><br><span class="line">              return (</span><br><span class="line">                  &lt;div className=&quot;card&quot; key=&#123;item.id&#125; style=&#123;&#123;display:isMain&#125;&#125;&gt;</span><br><span class="line">                  &lt;a rel=&quot;noreferrer&quot; href=&#123; item.html_url&#125; target=&quot;_blank&quot;&gt;</span><br><span class="line">                    &lt;img alt=&quot;headPortrait&quot; src=&#123;item.avatar_url&#125; style=&#123;&#123;width: &quot;100px&quot;&#125;&#125; /&gt;</span><br><span class="line">                    &lt;/a&gt;</span><br><span class="line">                  &lt;p className=&quot;card-text&quot;&gt;&#123; item.login&#125;&lt;/p&gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line">                )</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default List;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h2><p><code>Fetch API</code>提供了一个 JavaScript 接口，用于访问和操纵HTTP的请求和响应等。提供了一个全局 <code>fetch()</code>方法来跨网络异步获取资源。</p>
<p>SourceURL:file:&#x2F;&#x2F;&#x2F;media&#x2F;mc&#x2F;F&#x2F;笔记&#x2F;02-课件资料&#x2F;React&#x2F;react全家桶资料&#x2F;01_课件&#x2F;尚硅谷react全家桶.docx</p>
<h3 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h3><ol>
<li><p><a target="_blank" rel="noopener" href="https://github.github.io/fetch/">https://github.github.io/fetch/</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000003810652">https://segmentfault.com/a/1190000003810652</a></p>
</li>
</ol>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ol>
<li><p>fetch: 原生函数，不再使用XmlHttpRequest对象提交ajax请求</p>
</li>
<li><p>老版本浏览器可能不支持</p>
</li>
</ol>
<p>SourceURL:file:&#x2F;&#x2F;&#x2F;media&#x2F;mc&#x2F;F&#x2F;笔记&#x2F;02-课件资料&#x2F;React&#x2F;react全家桶资料&#x2F;01_课件&#x2F;尚硅谷react全家桶.docx</p>
<h3 id="相关API"><a href="#相关API" class="headerlink" title="相关API"></a>相关API</h3><ol>
<li>GET请求</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fetch(url).then(function(response) &#123;  return response.json() &#125;)</span><br><span class="line">    .then(function(data) &#123;  console.log(data) &#125;)</span><br><span class="line">    .catch(function(e) &#123;  console.log(e) &#125;);</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>POST请求</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(url, &#123;  <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span>,  <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data), &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">data</span>) &#123;  <span class="variable language_">console</span>.<span class="title function_">log</span>(data) &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="keyword">function</span>(<span class="params">e</span>) &#123;  <span class="variable language_">console</span>.<span class="title function_">log</span>(e) &#125;)</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"> Search =async () =&gt; &#123;</span><br><span class="line">   let &#123; keyWordElement: &#123; value: keyWord &#125; &#125; = this;</span><br><span class="line">   let stateObj = &#123;</span><br><span class="line">     isFirst: &quot;none&quot;,</span><br><span class="line">     isLoading: &quot;inline&quot;,</span><br><span class="line">     isMain: &quot;none&quot;,</span><br><span class="line">     errMsg:&quot;none&quot;</span><br><span class="line">   &#125;</span><br><span class="line">   // 发布订阅</span><br><span class="line">   PubSub.publish(&#x27;Toke&#x27;,stateObj);</span><br><span class="line">   /* axios.get(`/api1/search/users?q=$&#123;keyWord&#125;`).then(</span><br><span class="line">     (response) =&gt; &#123;</span><br><span class="line">       // 发布数据</span><br><span class="line">       PubSub.publish(&quot;getItem&quot;,response.data.items)</span><br><span class="line">       // 发布状态</span><br><span class="line">       PubSub.publish(&#x27;Toke&#x27;, &#123; isLoading: &quot;none&quot;, isMain: &quot;inline&quot; &#125;)</span><br><span class="line">     &#125;,</span><br><span class="line">     (error) =&gt; &#123;</span><br><span class="line">       // 发布订阅</span><br><span class="line">       PubSub.publish(&#x27;Toke&#x27;,&#123;</span><br><span class="line">         isLoading:&quot;none&quot;,</span><br><span class="line">         errMsg: &quot;inline&quot;</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">   ); */</span><br><span class="line">   // 未优化版本</span><br><span class="line">   /* fetch(`/api1/search/users?q=$&#123;keyWord&#125;`,).then(</span><br><span class="line">     // 联系服务器成功，不是请求成功</span><br><span class="line">     res =&gt; &#123;</span><br><span class="line">       // 将获取的数据转化为Prim</span><br><span class="line">       return res.json()</span><br><span class="line">     &#125;,</span><br><span class="line">     // 联系服务器失败了</span><br><span class="line">     err =&gt; &#123;</span><br><span class="line">       // 发布订阅</span><br><span class="line">       PubSub.publish(&#x27;Toke&#x27;,&#123;</span><br><span class="line">         isLoading:&quot;none&quot;,</span><br><span class="line">         errMsg: &quot;inline&quot;</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">   ).then(</span><br><span class="line">     // 请求函数</span><br><span class="line">     res =&gt; &#123;</span><br><span class="line">       console.log(res)</span><br><span class="line">       // 发布数据</span><br><span class="line">       PubSub.publish(&quot;getItem&quot;,res.items)</span><br><span class="line">       // 发布状态</span><br><span class="line">       PubSub.publish(&#x27;Toke&#x27;, &#123; isLoading: &quot;none&quot;, isMain: &quot;inline&quot; &#125;)</span><br><span class="line">     &#125;,</span><br><span class="line">     err =&gt; &#123;</span><br><span class="line">       // 发布订阅</span><br><span class="line">       PubSub.publish(&#x27;Toke&#x27;,&#123;</span><br><span class="line">         isLoading:&quot;none&quot;,</span><br><span class="line">         errMsg: &quot;inline&quot;</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">   ) */</span><br><span class="line"></span><br><span class="line">   // 优化版本</span><br><span class="line">   /* fetch(`/api1/search/users?q=$&#123;keyWord&#125;`,).then(</span><br><span class="line">     // 联系服务器成功，不是请求成功</span><br><span class="line">     res =&gt; &#123;</span><br><span class="line">       // 将获取的数据转化为Prim</span><br><span class="line">       return res.json()</span><br><span class="line">     &#125;</span><br><span class="line">   ).then(</span><br><span class="line">     // 请求函数</span><br><span class="line">     res =&gt; &#123;</span><br><span class="line">       console.log(res)</span><br><span class="line">       // 发布数据</span><br><span class="line">       PubSub.publish(&quot;getItem&quot;,res.items)</span><br><span class="line">       // 发布状态</span><br><span class="line">       PubSub.publish(&#x27;Toke&#x27;, &#123; isLoading: &quot;none&quot;, isMain: &quot;inline&quot; &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">   ).catch(</span><br><span class="line">     err =&gt; &#123;</span><br><span class="line">       console.log(err);</span><br><span class="line">       // 发布订阅</span><br><span class="line">       PubSub.publish(&#x27;Toke&#x27;,&#123;</span><br><span class="line">         isLoading:&quot;none&quot;,</span><br><span class="line">         errMsg: &quot;inline&quot;</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">   ) */</span><br><span class="line">// 优化版</span><br><span class="line">   try &#123;</span><br><span class="line">     let res = await fetch(`/api1/search/users?q=$&#123;keyWord&#125;`);</span><br><span class="line">     let data = await res.json()</span><br><span class="line">       // 发布数据</span><br><span class="line">       PubSub.publish(&quot;getItem&quot;,data.items)</span><br><span class="line">       // 发布状态</span><br><span class="line">       PubSub.publish(&#x27;Toke&#x27;, &#123; isLoading: &quot;none&quot;, isMain: &quot;inline&quot; &#125;)</span><br><span class="line">   &#125; catch (error) &#123;</span><br><span class="line">     PubSub.publish(&#x27;Toke&#x27;,&#123;</span><br><span class="line">         isLoading:&quot;none&quot;,</span><br><span class="line">         errMsg: &quot;inline&quot;</span><br><span class="line">       &#125;)</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h2 id="路由-V5"><a href="#路由-V5" class="headerlink" title="路由  V5"></a>路由  V5</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45677671/article/details/116168250">【React】路由详解</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/AK852369/article/details/117924976">参考写法</a></p>
<p><img src="/React/image-20230103205556847.png" alt="image-20230103205556847"></p>
<p><img src="/React/image-20230103205615031.png" alt="image-20230103205615031"></p>
<h3 id="react-router-dom的理解"><a href="#react-router-dom的理解" class="headerlink" title="react-router-dom的理解"></a>react-router-dom的理解</h3><blockquote>
<ol>
<li><p>react的一个插件库。</p>
</li>
<li><p>专门用来实现一个SPA应用。</p>
</li>
<li><p>基于react的项目基本都会用到此库。</p>
</li>
</ol>
</blockquote>
<ul>
<li>react 的一个插件库</li>
<li>专门用来实现一个 SPA 应用</li>
<li>基于 react 的项目基本都会用到的库</li>
<li>之前版本的思想是传统的思想：<strong>路由应该统一在一处渲染</strong></li>
<li>Router 4之后是这样的思想：<strong>一切皆组件</strong>4</li>
</ul>
<h4 id="React-Router包含了四个包"><a href="#React-Router包含了四个包" class="headerlink" title="React Router包含了四个包:"></a>React Router包含了四个包:</h4><p>包名	使用途径<br>react-router	在任何地方使用<br>react-router-dom	在 web 开发中使用<br>react-router-native	在 native 开发中使用<br>react-router-config	静态路由的配置<br>我们前端主要使用react-router-dom</p>
<h3 id="Router-原理"><a href="#Router-原理" class="headerlink" title="Router 原理"></a>Router 原理</h3><p>React Router甚至大部分的前端路由都是依赖于history.js的，它是一个独立的第三方js库。可以用来兼容在不同浏览器、不同环境下对历史记录的管理，拥有统一的API。</p>
<p>老版本浏览器:</p>
<p>通过hash来存储在不同状态下的history信息，对应createHashHistory，通过检测location.hash的值的变化，使用location.replace方法来实现url跳转。通过注册监听window对象上的hashChange事件来监听路由的变化，实现历史记录的回退。<br>高版本浏览器:</p>
<p>利用HTML5里面的history，对应createBrowserHistory, 使用包括pushState， replaceState方法来进行跳转。通过注册监听window对象上的popstate事件来监听路由的变化，实现历史记录的回退。<br>node 环境下:</p>
<p>在内存中进行历史记录的存储，对应createMemoryHistory。直接在内存里push和pop状态。</p>
<h3 id="路由组件与一般组件"><a href="#路由组件与一般组件" class="headerlink" title="路由组件与一般组件"></a>路由组件与一般组件</h3><p>​			1.写法不同：<br>​						一般组件：<Demo><br>​						路由组件：<Route path="/demo" component="{Demo}/"><br>​			2.存放位置不同：<br>​						一般组件：components<br>​						路由组件：pages<br>​			3.接收到的props不同：<br>​						一般组件：写组件标签时传递了什么，就能收到什么<br>​						路由组件：接收到三个固定的属性<br>​											history:<br>​														go: ƒ go(n)<br>​														goBack: ƒ goBack()<br>​														goForward: ƒ goForward()<br>​														push: ƒ push(path, state)<br>​														replace: ƒ replace(path, state)<br>​											location:<br>​														pathname: “&#x2F;about”<br>​														search: “”<br>​														state: undefined<br>​											match:<br>​														params: {}<br>​														path: “&#x2F;about”<br>​														url: “&#x2F;about”</Route></Demo></p>
<h3 id="react-router-dom相关API"><a href="#react-router-dom相关API" class="headerlink" title="react-router-dom相关API"></a>react-router-dom相关API</h3><h4 id="内置组件"><a href="#内置组件" class="headerlink" title="内置组件"></a>内置组件</h4><ol>
<li><BrowserRouter>
</BrowserRouter></li>
<li><HashRouter>
</HashRouter></li>
<li><Route>
</Route></li>
<li><Redirect>
</Redirect></li>
<li><Link>
</Link></li>
<li><NavLink>
</NavLink></li>
<li><Switch></Switch></li>
</ol>
<h4 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h4><ol>
<li><p>history对象</p>
</li>
<li><p>match对象</p>
</li>
<li><p>withRouter函数</p>
</li>
</ol>
<h3 id="基本路由使用"><a href="#基本路由使用" class="headerlink" title="基本路由使用"></a>基本路由使用</h3><h4 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h4><p>1.下载react-router-dom: npm install –save react-router-dom</p>
<ul>
<li><p>安装依赖：<code>npm i -S react-router-dom</code></p>
</li>
<li><p>使用时，路由器 <code>Router</code> 就是 <code>React</code> 的一个组件。</p>
</li>
<li><p><code>Router</code> 组件本身只是一个容器，真正的路由要通过 <code>Route</code> 组件定义。</p>
</li>
<li><p>Route 有两种方式：</p>
</li>
<li><p><code>HashRouter</code> 和 <code>BrowserRouter</code></p>
</li>
</ul>
<blockquote>
<p>注意：一个Router标签为一组路由其互不影响</p>
<p>Link或NarLink对应的展示区Route需要在同一个Router标签中才有效</p>
<p>也可以选择在index.js中使用Router包住App组件</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center">区别</td>
<td align="center">HashRouter</td>
<td align="center">BrowserRouter</td>
</tr>
<tr>
<td align="center">底层原理</td>
<td align="center">使用URL的哈希值</td>
<td align="center">使用H5的history API，不兼容IE9</td>
</tr>
<tr>
<td align="center">url形式</td>
<td align="center">路径中包含#</td>
<td align="center">路径中没有#</td>
</tr>
<tr>
<td align="center">刷新后对state参数的影响</td>
<td align="center">会导致state参数丢失</td>
<td align="center">没有任何影响</td>
</tr>
<tr>
<td align="center">其他</td>
<td align="center">可以解决一些路径上的错误</td>
<td align="center"></td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123; HashRouter as Router, Route&#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">或：</span><br><span class="line">import &#123; BrowserRouter as Router, Route&#125; from &#x27;react-router-dom&#x27;;</span><br></pre></td></tr></table></figure>

<ul>
<li>用来监听浏览器地址栏的变化，并将URL解析成一个地址对象</li>
<li>整个应用最好只用一个路由器去管理</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line">// 引入路由组件</span><br><span class="line">import &#123; BrowserRouter as Router &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">// 引入头部组件</span><br><span class="line">import Header from &#x27;../components/header/Header&#x27;;</span><br><span class="line"></span><br><span class="line">// 创建路由表</span><br><span class="line">const App = () =&gt; (</span><br><span class="line">    &lt;Router&gt;</span><br><span class="line">        &lt;Header /&gt;</span><br><span class="line">    &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">export default App;</span><br></pre></td></tr></table></figure>

<h4 id="Route-属性"><a href="#Route-属性" class="headerlink" title="Route 属性"></a>Route 属性</h4><h5 id="path-属性"><a href="#path-属性" class="headerlink" title="path 属性"></a>path 属性</h5><blockquote>
<p><code>Route</code>组件的<code>path</code>属性用来匹配<strong>导航地址</strong>和<strong>路由地址</strong>是否匹配，匹配的话就加载<code>Route</code>标签绑定的组件</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route&#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line"></span><br><span class="line">const Home = () =&gt; (&lt;div&gt;首页&lt;/div&gt;)</span><br><span class="line">const About = () =&gt; (&lt;div&gt;关于我们&lt;/div&gt;)</span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Route path=&#123;&quot;/main&quot;&#125; component=&#123;Home&#125; /&gt;</span><br><span class="line">      &lt;Route path=&#123;&quot;/about&quot;&#125; component=&#123;About&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>如果不写路径，那么会加载所有组件。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Route  component=&#123;Home&#125; /&gt;</span><br><span class="line">      &lt;Route  component=&#123;About&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/Router&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/React/20210426200101386.png" alt="在这里插入图片描述"></p>
<p><strong>如果路径相同，那么会加载所有组件</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Route path=&#123;&quot;/about&quot;&#125; component=&#123;Home&#125; /&gt;</span><br><span class="line">      &lt;Route path=&#123;&quot;/about&quot;&#125; component=&#123;About&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/Router&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="exact-属性"><a href="#exact-属性" class="headerlink" title="exact 属性"></a>exact 属性</h5><blockquote>
<p>exact 属性表示是否精准的匹配路径。有两个值true和false</p>
</blockquote>
<ul>
<li><code>exact=&#123;true&#125;</code> 或 <code>exact</code>：表示精准的匹配</li>
<li><code>exact=&#123;false&#125;</code> 或 <strong>不写</strong>：表示模糊的匹配</li>
</ul>
<h4 id="Route-组件"><a href="#Route-组件" class="headerlink" title="Route 组件"></a>Route 组件</h4><p>一般组件在现实开发中一般放在src&#x2F;components目录下。<br>路由组件在现实开发中一般放在src&#x2F;pages目录下。</p>
<p>我们一般的组件是这样写的：<Home><br>我们的路由组件写在：<Router>里面的<br>而<Route> 设置路由对应的组件有 3 种形式：<br>component、render、children</Route></Router></Home></p>
<h5 id="component"><a href="#component" class="headerlink" title="component"></a>component</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route, NavLink &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">//BrowserRouter 不带#，NavLink有激活状态链接效果 </span><br><span class="line">const Home = () =&gt; (&lt;div&gt;首页页面&lt;/div&gt;)</span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;NavLink to=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; &gt;首页&lt;/NavLink&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &#123;/*   只完全匹配/ */&#125;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Route path=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; component=&#123;Home&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/React/20210426205239706.png" alt="在这里插入图片描述"></p>
<p><img src="/React/20210426205432605.png" alt="在这里插入图片描述"></p>
<h5 id="render"><a href="#render" class="headerlink" title="render"></a>render</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route, NavLink &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">//BrowserRouter 不带#，NavLink有激活状态链接效果 </span><br><span class="line">const Home = () =&gt; (&lt;div&gt;首页&lt;/div&gt;)</span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;NavLink to=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; &gt;首页&lt;/NavLink&gt;</span><br><span class="line">      ---</span><br><span class="line">      &lt;NavLink to=&#123;&quot;/render&quot;&#125;&gt;render&lt;/NavLink&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &#123;/*   只完全匹配/ */&#125;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Route path=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; component=&#123;Home&#125; /&gt;</span><br><span class="line">      &lt;Route path=&quot;/render&quot; render=&#123;() =&gt; &lt;div&gt;render页面&lt;/div&gt;&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/React/20210426205857626.png" alt="在这里插入图片描述"></p>
<p><img src="/React/20210426205920921.png" alt="在这里插入图片描述"></p>
<h5 id="children"><a href="#children" class="headerlink" title="children"></a>children</h5><ul>
<li>children 比较特殊，每个页面都会匹配上</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route, NavLink &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">//BrowserRouter 不带#，NavLink有激活状态链接效果 </span><br><span class="line">const Home = () =&gt; (&lt;div&gt;首页页面&lt;/div&gt;)</span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;NavLink to=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; &gt;首页&lt;/NavLink&gt;</span><br><span class="line">      ---</span><br><span class="line">      &lt;NavLink to=&#123;&quot;/child&quot;&#125;&gt;children&lt;/NavLink&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &#123;/*   只完全匹配/ */&#125;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Route path=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; component=&#123;Home&#125; /&gt;</span><br><span class="line">      &#123;/* children 比较特殊，每个页面都会匹配上 */&#125;</span><br><span class="line">      &lt;Route path=&quot;/child&quot; children=&#123;() =&gt; &lt;div&gt;children页面&lt;/div&gt;&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70-167283404774096.png" alt="在这里插入图片描述"></p>
<p><img src="/React/20210426210219122.png" alt="在这里插入图片描述"></p>
<h4 id="HashRouter"><a href="#HashRouter" class="headerlink" title="HashRouter"></a><strong>HashRouter</strong></h4><ul>
<li>如果设为<code>HashHistory</code>，路由将通过<strong>URL</strong>的<strong>hash</strong>部分（<code>#</code>）切换，URL的形式类似<code>http://localhost:3000/#/</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; HashRouter as Router, Route&#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line"></span><br><span class="line">const Home = () =&gt; (&lt;div&gt;首页&lt;/div&gt;)</span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        // Route组件也必须在Router中</span><br><span class="line">      &lt;Route path=&#123;&quot;/&quot;&#125; component=&#123;Home&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><img src="/React/20210426194115910.png" alt="img"></p>
<h4 id="BrowserRouter"><a href="#BrowserRouter" class="headerlink" title="BrowserRouter"></a><strong>BrowserRouter</strong></h4><ul>
<li>如果设为<code>BrowserHistory</code>，浏览器的路由就不再通过Hash完成了，而显示正常的路径<code>http://localhost:3000/about</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; BrowserRouter as Router, Route&#125; from &#x27;react-router-dom&#x27;;</span><br></pre></td></tr></table></figure>

<p><img src="/React/20210426194416920.png" alt="在这里插入图片描述"></p>
<h4 id="Link-和-NavLink"><a href="#Link-和-NavLink" class="headerlink" title="Link 和 NavLink"></a>Link 和 NavLink</h4><p>Link组件用于取代<a>元素，生成一个链接，允许用户点击后跳转到另一个路由。<br>算是<a>元素的React 版本，可以接收Router的状态</a></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Link to=&quot;/about&quot; &gt;&lt;/Link&gt;</span><br><span class="line">相当于</span><br><span class="line">&lt;a href=&quot;/about&quot;&gt;&lt;a/&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>to后面的链接地址写小写，不要写大写(一般不区分大小写)。<code>/</code>前面不能出现<code>.</code>什么的</li>
<li><code>&lt;Link&gt;</code>标签必须写在<code>&lt;Router&gt;</code>标签里面</li>
<li><code>&lt;Route&gt;</code>标签<code>path</code>路径必须与<code>&lt;Link&gt;</code>标签<code>to</code>路径一致才能实现跳转</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route,Link&#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line"></span><br><span class="line">const Home = () =&gt; (&lt;div&gt;首页&lt;/div&gt;)</span><br><span class="line">const About = () =&gt; (&lt;div&gt;关于我们&lt;/div&gt;)</span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Link to=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; &gt;首页&lt;/Link&gt;</span><br><span class="line">      ---</span><br><span class="line">      &lt;Link to=&#123;&quot;/about&quot;&#125; &gt;关于我们&lt;/Link&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &#123;/* exact=&#123;true&#125;  只完全匹配/ */&#125;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Route path=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; component=&#123;Home&#125; /&gt;</span><br><span class="line">      &lt;Route path=&#123;&quot;/about&quot;&#125; component=&#123;About&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><img src="/React/2021042620203772.png" alt="在这里插入图片描述"></p>
<p><img src="/React/2021042620203772-16728139919965.png" alt="在这里插入图片描述"></p>
<blockquote>
<p>NavLink是Link的升级版<br>NavLink和Link都可以在里面设置样式<br>但是只有NavLink可以追加样式<br>常用于标签切换的高亮显示<br>NavLink还有个独特的属性activeClassName<br>谁被点击就会追加activeClassName里面的样式<br>比如：activeClassName&#x3D;”YellowColor”</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.YellowColor</span>&#123;</span><br><span class="line">	<span class="attribute">color</span>= &quot;yellow&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="封装-NavLink"><a href="#封装-NavLink" class="headerlink" title="封装 NavLink"></a><strong>封装 NavLink</strong></h4><ul>
<li>封装后属于一般组件</li>
<li><code>&lt;NavLink&gt;</code>标签必须写在<code>&lt;Router&gt;</code>标签里面</li>
<li>标签体内容是一个特殊的标签属性</li>
<li>通过<code>this.props.children</code>可以获取标签体内容</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123;Component&#125; from &#x27;react&#x27;;</span><br><span class="line">import &#123;NavLink&#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">export default class MyNavLink extends Component&#123;</span><br><span class="line">	const &#123;to,title&#125; = this.props;</span><br><span class="line">	render()&#123;</span><br><span class="line">		return(</span><br><span class="line">			&lt;NavLink to=&#123;to&#125; activeClassName=&quot;YellowColor&quot; &gt;&#123;title&#125;&lt;/NavLink&gt;</span><br><span class="line">		)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>使用：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;MyNavLink to=&quot;/home&quot; title=&quot;Home页&quot; /&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>优化：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123;Component&#125; from &#x27;react&#x27;;</span><br><span class="line">import &#123;NavLink&#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">export default class MyNavLink extends Component&#123;</span><br><span class="line">	// const &#123;to,title&#125; = this.props;</span><br><span class="line">	// 使用&#123;...this.props&#125;直接进行解构</span><br><span class="line">	render()&#123;</span><br><span class="line">		// &#123;...this.props&#125;有个children属性，用来存储标签体里面的内容</span><br><span class="line">		// 所以这里可以使用单标签，并且内容“Home页”也能展示出来</span><br><span class="line">		return(</span><br><span class="line">			&lt;NavLink activeClassName=&quot;YellowColor&quot; &#123;...this.props&#125; /&gt;</span><br><span class="line">		)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;MyNavLink to=&quot;/home&quot;&gt;Home页&lt;/MyNavLink&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Switch的使用"><a href="#Switch的使用" class="headerlink" title="Switch的使用"></a>Switch的使用</h3><p>Switch 使用</p>
<blockquote>
<p>一个Router里面有多个Route，当路径匹配到了对应的Route，它还会往下继续匹配，直到所有Route都匹配完，这样就很浪费性能。</p>
</blockquote>
<blockquote>
<p>还有一个问题，如果两个Route里面的path路径是一样的，那么就会把他们两个对应的不同组件都展示出来，但是你想要的其实只是其他一个。</p>
</blockquote>
<ul>
<li>Switch：匹配到第一个对应的Route之后就不再往下匹配了，可以优化性能</li>
</ul>
<p>优化性能</p>
<ul>
<li>不使用Switch：<br><img src="/React/20210430170644386.png" alt="在这里插入图片描述"></li>
<li>使用Switch：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route,Switch &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line"></span><br><span class="line">const Home = () =&gt; (&lt;div&gt;首页&lt;/div&gt;)</span><br><span class="line">const About = () =&gt; (&lt;div&gt;关于我们&lt;/div&gt;)</span><br><span class="line"></span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">      &lt;Switch&gt;</span><br><span class="line">        &lt;Route path=&#123;&quot;/home&quot;&#125;  component=&#123;Home&#125; /&gt;</span><br><span class="line">        &lt;Route path=&#123;&quot;/home&quot;&#125; component=&#123;About&#125; /&gt;</span><br><span class="line">      &lt;/Switch&gt;</span><br><span class="line">  &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/React/20210430170550221.png" alt="img"></p>
<h4 id="处理-404-页面"><a href="#处理-404-页面" class="headerlink" title="处理 404 页面"></a>处理 404 页面</h4><ul>
<li>404页面组件需要放在路由表的最后面</li>
<li>不使用<code>switch</code>：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route, Link&#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">//BrowserRouter 不带#，NavLink有激活状态链接效果 </span><br><span class="line">const Home = () =&gt; (&lt;div&gt;首页页面&lt;/div&gt;)</span><br><span class="line">class Cart extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (&lt;div&gt;购物车页面&lt;/div&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Link to=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; &gt;首页&lt;/Link&gt;</span><br><span class="line">      --</span><br><span class="line">      &lt;Link to=&#123;&#123; pathname: &quot;/cart&quot; &#125;&#125;&gt;购物车&lt;/Link&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &#123;/*  exact=&#123;true&#125;： 表示只完全匹配/ */&#125;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &#123;/* &lt;Switch&gt; */&#125;</span><br><span class="line">        &lt;Route path=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; component=&#123;Home&#125; /&gt;</span><br><span class="line">        &lt;Route path=&#123;&quot;/cart&quot;&#125; component=&#123;Cart&#125; /&gt;</span><br><span class="line">        &lt;Route render=&#123;() =&gt; &lt;div&gt;404页面&lt;/div&gt;&#125; /&gt;</span><br><span class="line">      &#123;/* &lt;/Switch&gt; */&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70.png" alt="在这里插入图片描述"></p>
<p><img src="/React/2021042621501548.png" alt="img"></p>
<ul>
<li>使用<code>switch</code>：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route, Link, Switch&#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">//BrowserRouter 不带#，NavLink有激活状态链接效果 </span><br><span class="line">const Home = () =&gt; (&lt;div&gt;首页页面&lt;/div&gt;)</span><br><span class="line">class Cart extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (&lt;div&gt;购物车页面&lt;/div&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Link to=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; &gt;首页&lt;/Link&gt;</span><br><span class="line">      --</span><br><span class="line">      &lt;Link to=&#123;&#123; pathname: &quot;/cart&quot; &#125;&#125;&gt;购物车&lt;/Link&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &#123;/*  exact=&#123;true&#125;： 表示只完全匹配/ */&#125;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Switch&gt;</span><br><span class="line">        &lt;Route path=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; component=&#123;Home&#125; /&gt;</span><br><span class="line">        &lt;Route path=&#123;&quot;/cart&quot;&#125; component=&#123;Cart&#125; /&gt;</span><br><span class="line">        &lt;Route render=&#123;() =&gt; &lt;div&gt;404页面&lt;/div&gt;&#125; /&gt;</span><br><span class="line">      &lt;/Switch&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/React/20210426215307718.png" alt="在这里插入图片描述"></p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70-167282234982417.png" alt="在这里插入图片描述"></p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70-167282232396214.png" alt="在这里插入图片描述"></p>
<h3 id="Redirect-使用"><a href="#Redirect-使用" class="headerlink" title="Redirect 使用"></a>Redirect 使用</h3><ul>
<li>Redirect ：可以使路径重定向</li>
<li>一般放在Route的最下方</li>
<li>意思就是你当前的路径，和所有Route里面的路径都匹配不上，那么他就会跳转到他自定义的一个路径</li>
<li>v5的需要包含在Switch中</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route,Link, Redirect,Switch &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line"></span><br><span class="line">const Home = () =&gt; (&lt;div&gt;首页&lt;/div&gt;)</span><br><span class="line">const About = () =&gt; (&lt;div&gt;关于我们&lt;/div&gt;)</span><br><span class="line"></span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">            &lt;Route path=&#123;&quot;/home&quot;&#125;   component=&#123;Home&#125; /&gt;</span><br><span class="line">      		&lt;Redirect to=&quot;/home&quot;/&gt;</span><br><span class="line">        &lt;/Switch&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/React/20210430181231175-167283181554073.png" alt="![在这里插入图片描述](https://img-blog.csdnimg.cn/20210430181349166.png)" style="zoom:150%;">

<p><img src="/React/20210430181349166.png" alt="在这里插入图片描述"></p>
<h3 id="解决样式丢失问题"><a href="#解决样式丢失问题" class="headerlink" title="解决样式丢失问题"></a>解决样式丢失问题</h3><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1wy4y1D7JT?p=82&vd_source=031f631a87cca114e71194f12ec3fc3f">视屏讲解</a></p>
<p>多级路径时</p>
<p>请求路径的改变</p>
<p>我们把路由都变成二级路由，统一加上&#x2F;dean&#x2F;路由前缀</p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70.png" alt="在这里插入图片描述"></p>
<p>效果：</p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282373422224.png" alt="在这里插入图片描述"></p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282374531127.png" alt="在这里插入图片描述"></p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282375447030.png" alt="在这里插入图片描述"></p>
<p>看着没什么问题，但是一旦刷新页面，样式就废了：</p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282376926933.png" alt="在这里插入图片描述"></p>
<p>我们把路由恢复，看看bootstrap网络请求正常不正常：</p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282377777636.png" alt="在这里插入图片描述"></p>
<blockquote>
<p>我们发现bootstrap请求地址是<a target="_blank" rel="noopener" href="http://localhost:3000/css/bootstrap.css%EF%BC%8Clocalhost:3000%E6%98%AF%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8Cwebpack%E9%87%8C%E9%9D%A2%E7%9A%84webServer%E9%85%8D%E7%BD%AE%E4%BA%86public%E8%BF%99%E4%B8%AA%E6%96%87%E4%BB%B6%E5%A4%B9%E9%83%BD%E6%98%AFlocalhost:3000/%E6%A0%B9%E7%9B%AE%E5%BD%95%E5%AF%B9%E5%BA%94%E7%9A%84%E4%BD%8D%E7%BD%AE">http://localhost:3000/css/bootstrap.css，localhost:3000是本地服务器，webpack里面的webServer配置了public这个文件夹都是localhost:3000/根目录对应的位置</a></p>
</blockquote>
<p>我们通过地址请求看看：</p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282380022639.png" alt="在这里插入图片描述"></p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282380979842.png" alt="在这里插入图片描述"></p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282385271648.png" alt="在这里插入图片描述"></p>
<p>如果请求了一个不存在的资源，那么脚手架会默认把index.html返回</p>
<p>我们再把路由改回去到二级路由的状态：</p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282394959659.png" alt="img"></p>
<p>我们再测试一遍，刷新页面的时候，按住shift强制刷新，看看网络请求：</p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282389994754.png" alt="在这里插入图片描述"></p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282388892751-167282392057857.png" alt="img"></p>
<p>所以，在多级路由中刷新，会丢失样式</p>
<p>解决方法：<br>1.把.删了：</p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282407960462.png" alt="img"></p>
<p>.&#x2F;css&#x2F;bootstrap.css表示以当前所在路径为基准，去找&#x2F;css&#x2F;bootstrap.css，访问<a target="_blank" rel="noopener" href="http://localhost:3000/dean/home%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C">http://localhost:3000/dean/home的时候，</a> 就去.&#x2F;dean&#x2F;css去找bootstrap.css，肯定没有<br>去掉点. 改成&#x2F;css&#x2F;bootstrap.css，表示基于public文件夹</p>
<p>方法二：<br>把.改为%PUBLIC_URL%，指的就是public目录，相当于写死了</p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282409293865.png" alt="在这里插入图片描述"></p>
<p>方法三：<br>就想用点. 的话， 就把路由换为hash方式：</p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5dzMzOTAxOTk=,size_16,color_FFFFFF,t_70-167282410200668.png" alt="在这里插入图片描述"></p>
<p>因为hash路由这个模式下，#右侧的后不会带入查询<br><img src="/React/20210628152524770.png" alt="img"></p>
<h3 id="路由的模糊匹配与严格匹配"><a href="#路由的模糊匹配与严格匹配" class="headerlink" title="路由的模糊匹配与严格匹配"></a>路由的模糊匹配与严格匹配</h3><p>1.默认使用的是模糊匹配（简单记：【输入的路径】必须包含要【匹配的路径】，<strong>且顺序要一致</strong>）<br>2.开启严格匹配：<Route exact="{true}" path="/about" component="{About}/"><br>3.严格匹配不要随便开启，需要再开，有些时候开启会导致无法继续匹配二级路由</Route></p>
<p>如下写法也可以匹配到，但开启了严格模式就不行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">          &lt;div className=&quot;row&quot;&gt;</span><br><span class="line">            &lt;div className=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">              &lt;div className=&quot;list-group&quot;&gt;</span><br><span class="line">                &lt;MyNavLink to=&quot;/About&quot;&gt;About&lt;/MyNavLink&gt;</span><br><span class="line">                &lt;MyNavLink to=&quot;/Home/a/b&quot;&gt;Home&lt;/MyNavLink&gt;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div className=&quot;col-xs-6&quot;&gt;</span><br><span class="line">              &lt;div className=&quot;panel&quot;&gt;</span><br><span class="line">                &lt;div className=&quot;panel-body&quot;&gt;</span><br><span class="line">                  &lt;Route path=&#x27;/Home&#x27; exact component=&#123;Home&#125;&gt;&lt;/Route&gt;</span><br><span class="line">                  &lt;Route path=&#x27;/About&#x27; component=&#123;About&#125;&gt;&lt;/Route&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/Router&gt;</span><br></pre></td></tr></table></figure>

<p>如下写法也无法匹配到</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">          &lt;div className=&quot;row&quot;&gt;</span><br><span class="line">            &lt;div className=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">              &lt;div className=&quot;list-group&quot;&gt;</span><br><span class="line">                &lt;MyNavLink to=&quot;/About&quot;&gt;About&lt;/MyNavLink&gt;</span><br><span class="line">                &lt;MyNavLink to=&quot;/Home&quot;&gt;Home&lt;/MyNavLink&gt;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div className=&quot;col-xs-6&quot;&gt;</span><br><span class="line">              &lt;div className=&quot;panel&quot;&gt;</span><br><span class="line">                &lt;div className=&quot;panel-body&quot;&gt;</span><br><span class="line">                  &lt;Route path=&#x27;/Home/a/b&#x27; exact component=&#123;Home&#125;&gt;&lt;/Route&gt;</span><br><span class="line">                  &lt;Route path=&#x27;/About&#x27; component=&#123;About&#125;&gt;&lt;/Route&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/Router&gt;</span><br></pre></td></tr></table></figure>

<p>如下写法也无法匹配到</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">          &lt;div className=&quot;row&quot;&gt;</span><br><span class="line">            &lt;div className=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">              &lt;div className=&quot;list-group&quot;&gt;</span><br><span class="line">                &lt;MyNavLink to=&quot;/About&quot;&gt;About&lt;/MyNavLink&gt;</span><br><span class="line">                &lt;MyNavLink to=&quot;a/Home/b&quot;&gt;Home&lt;/MyNavLink&gt;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div className=&quot;col-xs-6&quot;&gt;</span><br><span class="line">              &lt;div className=&quot;panel&quot;&gt;</span><br><span class="line">                &lt;div className=&quot;panel-body&quot;&gt;</span><br><span class="line">                  &lt;Route path=&#x27;/Home&#x27; exact component=&#123;Home&#125;&gt;&lt;/Route&gt;</span><br><span class="line">                  &lt;Route path=&#x27;/About&#x27; component=&#123;About&#125;&gt;&lt;/Route&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/Router&gt;</span><br></pre></td></tr></table></figure>



<h3 id="嵌套路由使用"><a href="#嵌套路由使用" class="headerlink" title="嵌套路由使用"></a>嵌套路由使用</h3><ul>
<li>就是路由的里面再写路由</li>
<li>嵌套路由时，需要带上上一级的路径</li>
<li>有子路由的页面，不能使用 <code>exact = &#123;true&#125;</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route, Link &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">//BrowserRouter 不带#，NavLink有激活状态链接效果 </span><br><span class="line"></span><br><span class="line">//需求：center页面中有两个子页面</span><br><span class="line">class Center extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return &lt;div&gt;用户中心页面&lt;br/&gt;</span><br><span class="line">      &lt;Link to=&quot;/center/child1&quot;&gt;子页1&lt;/Link&gt;</span><br><span class="line">      ||</span><br><span class="line">      &lt;Link to=&quot;/center/child2&quot;&gt;子页2&lt;/Link&gt;</span><br><span class="line">      &lt;div className=&quot;child&quot;&gt;</span><br><span class="line">        &lt;Route path=&quot;/center/child1&quot; component=&#123;Child1&#125; /&gt;</span><br><span class="line">        &lt;Route path=&quot;/center/child2&quot; component=&#123;Child2&#125; /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const Child1 = () =&gt; (&lt;div&gt;子页 1 页面&lt;/div&gt;)</span><br><span class="line">const Child2 = () =&gt; (&lt;div&gt;子页 2 页面&lt;/div&gt;)</span><br><span class="line"></span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Link to=&#123;&quot;/center&quot;&#125; &gt;用户中心&lt;/Link&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Route path=&#123;&quot;/center&quot;&#125; component=&#123;Center&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70-167283194572777.png" alt="在这里插入图片描述"></p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70-167283195637880.png" alt="在这里插入图片描述"></p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70-167283197491583.png" alt="在这里插入图片描述"></p>
<h3 id="路由组件传递params参数"><a href="#路由组件传递params参数" class="headerlink" title="路由组件传递params参数"></a>路由组件传递params参数</h3><p>路由传参有三种方式：</p>
<p>方法一：match.params</p>
<p>路由链接（携带参数）：<NavLink></NavLink><br>注册路由（声明接收）：<Route></Route><br>接收参数：const{id,text} &#x3D; this.props.math.params</p>
<p>1.params参数<br>        路由链接(携带参数)：&lt;Link to&#x3D;’&#x2F;demo&#x2F;test&#x2F;tom&#x2F;18’}&gt;详情<br>        注册路由(声明接收)：<Route path="/demo/test/:name/:age" component="{Test}/"><br>        接收参数：this.props.match.params</Route></p>
<p>传递一个参数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123;Component&#125; from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route, NavLink &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">//BrowserRouter 不带#，NavLink有激活状态链接效果 </span><br><span class="line"></span><br><span class="line">const About = (props) =&gt; (</span><br><span class="line">  &lt;div&gt;关于我们&lt;br /&gt;</span><br><span class="line">		接收到的 id ：&#123;props.match.params.userid&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">)</span><br><span class="line">class App extends Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      list: [</span><br><span class="line">        &#123;id:1,text:&quot;aaa&quot;&#125;,</span><br><span class="line">        &#123;id:2,text:&quot;bbb&quot;&#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; list &#125; = this.state;</span><br><span class="line">    console.log(list.id);</span><br><span class="line">    return (&lt;Router&gt;</span><br><span class="line"></span><br><span class="line">      &#123;/* 静态传递params参数 */&#125;</span><br><span class="line">      &lt;NavLink to=&#123;&quot;/about/666&quot;&#125;&gt;About1&lt;/NavLink&gt;</span><br><span class="line">      ---</span><br><span class="line">      &#123;/* 动态传递params参数 */&#125;</span><br><span class="line">      &lt;NavLink to=&#123;`/about/$&#123;list[0].id&#125;`&#125;&gt;About2&lt;/NavLink&gt;</span><br><span class="line"></span><br><span class="line">      &#123;/* 声明接收params参数 */&#125;</span><br><span class="line">      &lt;Route path=&#123;&quot;/about/:userid&quot;&#125; component=&#123;About&#125; /&gt;</span><br><span class="line">      &lt;Route path=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; component=&#123;Home&#125; /&gt;</span><br><span class="line">    &lt;/Router&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">ReactDOM.render(</span><br><span class="line">      &lt;React.StrictMode&gt;</span><br><span class="line">        &lt;App /&gt;</span><br><span class="line">      &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<h3 id="传递search参数"><a href="#传递search参数" class="headerlink" title="传递search参数"></a>传递search参数</h3><p>location.search</p>
<blockquote>
<p>路由链接（携带参数）：<code>&lt;NavLink&gt;&lt;/NavLink&gt;</code><br>注册路由（不用接收）：<code>&lt;Route&gt;&lt;/Route&gt;</code><br>接收参数：<code>new URLSearchParams(props.location.search).get(&#39;id&#39;)</code></p>
</blockquote>
<blockquote>
<p>2.search参数<br>        路由链接(携带参数)：&lt;Link to&#x3D;’&#x2F;demo&#x2F;test?name&#x3D;tom&amp;age&#x3D;18’}&gt;详情<br>        注册路由(无需声明，正常注册即可)：<Route path="/demo/test" component="{Test}/"><br>        接收参数：this.props.location.search<br>        备注：获取到的search是urlencoded编码字符串，需要借助querystring解析</Route></p>
</blockquote>
<blockquote>
<p>取出url中的参数</p>
</blockquote>
<p>使用第三方的库querystring</p>
<blockquote>
<p>注意传进的字符串参数为参数部分中不带？的部分</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入</span></span><br><span class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">&quot;querystring&quot;</span></span><br><span class="line"><span class="comment">//将url的参数转换为对象 </span></span><br><span class="line"><span class="keyword">let</span> obj = qs.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">location</span>.<span class="property">search</span>.<span class="title function_">slice</span>(<span class="number">1</span>));</span><br><span class="line"><span class="comment">// 将字符串转为url形式</span></span><br><span class="line"><span class="keyword">let</span> obj1 = qs.<span class="title function_">stringift</span>(obj)</span><br></pre></td></tr></table></figure>



<p>自己写的方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">location</span>.<span class="property">search</span>.<span class="title function_">slice</span>(<span class="number">1</span>).<span class="title function_">split</span>(<span class="string">&quot;&amp;&quot;</span>).<span class="title function_">map</span>(<span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> arr = val.<span class="title function_">split</span>(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span> (obj[arr[<span class="number">0</span>]] = arr[<span class="number">1</span>]);</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>



<p>案例1：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123;Component&#125; from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route, NavLink &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">//BrowserRouter 不带#，NavLink有激活状态链接效果 </span><br><span class="line"></span><br><span class="line">const About = (props) =&gt; (</span><br><span class="line">  &lt;div&gt;关于我们&lt;br /&gt;</span><br><span class="line">  </span><br><span class="line">		接收到的 id ：&#123;new URLSearchParams(props.location.search).get(&#x27;id&#x27;)&#125;&lt;br/&gt;</span><br><span class="line">    接收到的 text ：&#123;new URLSearchParams(props.location.search).get(&#x27;text&#x27;)&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">)</span><br><span class="line">class App extends Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      list: [</span><br><span class="line">        &#123;id:1,text:&quot;aaa&quot;&#125;,</span><br><span class="line">        &#123;id:2,text:&quot;bbb&quot;&#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; list &#125; = this.state;</span><br><span class="line">    console.log(list.id);</span><br><span class="line">    return (&lt;Router&gt;      </span><br><span class="line">      </span><br><span class="line">      &#123;/* 静态传递多个search参数 */&#125;</span><br><span class="line">      &lt;NavLink to=&#123;&quot;/about/666/?id=&#x27;11&#x27;&amp;text=&#x27;ccc&#x27;&quot;&#125;&gt;About1&lt;/NavLink&gt;</span><br><span class="line">      ---</span><br><span class="line">      &#123;/* 动态传递多个search参数 */&#125;</span><br><span class="line">      &lt;NavLink to=&#123;`/about/?id=$&#123;list[0].id&#125;&amp;text=$&#123;list[0].text&#125;`&#125;&gt;About2&lt;/NavLink&gt;</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line">      &#123;/* 无需声明接收search参数 */&#125;</span><br><span class="line">      &lt;Route path=&#123;&quot;/about&quot;&#125; component=&#123;About&#125; /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/Router&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">ReactDOM.render(</span><br><span class="line">      &lt;React.StrictMode&gt;</span><br><span class="line">        &lt;App /&gt;</span><br><span class="line">      &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/React/image-20230105101515621-16728849185611.png" alt="image-20230105101515621"></p>
<p>案例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">import React,&#123;Component&#125; from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route, NavLink &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">//BrowserRouter 不带#，NavLink有激活状态链接效果 </span><br><span class="line">const Home = () =&gt; (&lt;div&gt;首页&lt;/div&gt;)</span><br><span class="line">class Cart extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    console.log(this.props);</span><br><span class="line">    return (&lt;div&gt;购物车页面&lt;br/&gt;</span><br><span class="line">          &#123;/* URLSearchParams：解构？号后面的数据 */&#125;</span><br><span class="line">         用户ID：&#123;new URLSearchParams(this.props.location.search).get(&#x27;id&#x27;)&#125;&lt;br/&gt;</span><br><span class="line">         用户名：&#123;new URLSearchParams(this.props.location.search).get(&#x27;name&#x27;)&#125;</span><br><span class="line">    &lt;/div&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;NavLink to=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; &gt;首页&lt;/NavLink&gt;</span><br><span class="line">      ---</span><br><span class="line">      &lt;NavLink to=&#123;&#123; pathname: &quot;/cart&quot;, search: &quot;?id=123&amp;name=lili&quot; &#125;&#125;&gt;购物车&lt;/NavLink&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &#123;/*   只完全匹配/ */&#125;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Route path=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; component=&#123;Home&#125; /&gt;</span><br><span class="line">      &lt;Route path=&#123;&quot;/cart&quot;&#125; component=&#123;Cart&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/React/image-20230105101750488-16728850719353.png" alt="image-20230105101750488"></p>
<h3 id="传递state参数"><a href="#传递state参数" class="headerlink" title="传递state参数"></a>传递state参数</h3><blockquote>
<p>state参数<br>    路由链接(携带参数)：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#123;&#123;pathname:</span>&#x27;/<span class="attr">demo</span>/<span class="attr">test</span>&#x27;,<span class="attr">state:</span>&#123;<span class="attr">name:</span>&#x27;<span class="attr">tom</span>&#x27;,<span class="attr">age:18</span>&#125;&#125;&#125;&gt;</span>详情<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>​	注册路由(无需声明，正常注册即可)：<Route path="/demo/test" component="{Test}/"></Route></p>
<p>​	接收参数：this.props.location.state</p>
<p>​	备注：BrowserRouter刷新也可以保留住参数，HashRouter哈西类型在刷新时会出现问题</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123;Component&#125; from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route, NavLink &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">//BrowserRouter 不带#，NavLink有激活状态链接效果 </span><br><span class="line"></span><br><span class="line">class About extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    console.log(this.props);</span><br><span class="line">    return (&lt;div&gt;</span><br><span class="line">      关于我们&lt;br /&gt;</span><br><span class="line">    &#123;console.log(this.props.location.state)&#125;</span><br><span class="line">		接收到的 id ：&#123;this.props.location.state.id||&#123;&#125;&#125;&lt;br/&gt;</span><br><span class="line">    接收到的 text ：&#123;this.props.location.state.text||&#123;&#125;&#125;</span><br><span class="line">    &lt;/div&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// state在函数组件里面接收不到参数</span><br><span class="line">// const About = (props) =&gt; (</span><br><span class="line">//   &lt;div&gt;关于我们&lt;br /&gt;</span><br><span class="line">//     &#123;console.log(props.location.state)&#125;</span><br><span class="line">// 		接收到的 id ：&#123;props.location.state.id||&#123;&#125;&#125;&lt;br/&gt;</span><br><span class="line">//     接收到的 text ：&#123;props.location.state.text||&#123;&#125;&#125;</span><br><span class="line">//   &lt;/div&gt;</span><br><span class="line">// )</span><br><span class="line">class App extends Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      list: [</span><br><span class="line">        &#123;id:1,text:&quot;aaa&quot;&#125;,</span><br><span class="line">        &#123;id:2,text:&quot;bbb&quot;&#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; list &#125; = this.state;</span><br><span class="line">    return (&lt;Router&gt;    </span><br><span class="line">      </span><br><span class="line">      &#123;/* 静态传递多个state参数 */&#125;</span><br><span class="line">      &lt;NavLink to=&#123;&#123;pathname:&quot;/about&quot;,state:&#123;id:&#x27;11&#x27;,text:&#x27;ccc&#x27;&#125;&#125;&#125;&gt;About1&lt;/NavLink&gt;</span><br><span class="line">      ---</span><br><span class="line">      &#123;/* 动态传递多个state参数 */&#125;</span><br><span class="line">      &lt;NavLink to=&#123;&#123;pathname:&quot;/about&quot;,state:&#123;id:list[0].id,text:list[0].text&#125;&#125;&#125;&gt;About2&lt;/NavLink&gt;</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line">      &#123;/* 无需声明接收state参数 */&#125;</span><br><span class="line">      &lt;Route path=&#123;&quot;/about&quot;&#125; component=&#123;About&#125; /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/Router&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">ReactDOM.render(</span><br><span class="line">      &lt;React.StrictMode&gt;</span><br><span class="line">        &lt;App /&gt;</span><br><span class="line">      &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/React/20210430210545873.png"></p>
<p><img src="/React/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1Njc3Njcx,size_16,color_FFFFFF,t_70.png" alt="在这里插入图片描述"></p>
<h3 id="BrowserRouter与HashRouter区别"><a href="#BrowserRouter与HashRouter区别" class="headerlink" title="BrowserRouter与HashRouter区别"></a>BrowserRouter与HashRouter区别</h3><p>1.底层原理不一样：<br>            BrowserRouter使用的是H5的history API，不兼容IE9及以下版本。<br>            HashRouter使用的是URL的哈希值。<br>2.path表现形式不一样<br>            BrowserRouter的路径中没有#,例如：localhost:3000&#x2F;demo&#x2F;test<br>            HashRouter的路径包含#,例如：localhost:3000&#x2F;#&#x2F;demo&#x2F;test<br>3.刷新后对路由state参数的影响<br>            (1).BrowserRouter没有任何影响，因为state保存在history对象中。<br>            (2).HashRouter刷新后会导致路由state参数的丢失！！！</p>
<p>4.备注：HashRouter可以用于解决一些路径错误相关的问题。</p>
<h3 id="路由的push与replace"><a href="#路由的push与replace" class="headerlink" title="路由的push与replace"></a>路由的push与replace</h3><p>默认开启的是push</p>
<p>开启replace模式replace &#x3D;{true}或replace</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink</span><br><span class="line">    replace =&#123;true&#125;</span><br><span class="line">    to=&#123;`/home/message/Detail/?id=$&#123;id&#125;&amp;title=$&#123;title&#125;&amp;a=1&amp;b=2`&#125;</span><br><span class="line">&gt;</span><br><span class="line">    &#123;val.title&#125;</span><br><span class="line">&lt;/NavLink&gt;</span><br></pre></td></tr></table></figure>



<h3 id="lazyLoad"><a href="#lazyLoad" class="headerlink" title="lazyLoad"></a>lazyLoad</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//1.通过React的lazy函数配合import()函数动态加载路由组件 ===&gt; 路由组件代码会被分开打包</span><br><span class="line">	const Login = lazy(()=&gt;import(&#x27;@/pages/Login&#x27;))</span><br><span class="line">	</span><br><span class="line">	//2.通过&lt;Suspense&gt;指定在加载得到路由打包文件前显示一个自定义loading界面</span><br><span class="line">	&lt;Suspense fallback=&#123;&lt;h1&gt;loading.....&lt;/h1&gt;&#125;&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">            &lt;Route path=&quot;/xxx&quot; component=&#123;Xxxx&#125;/&gt;</span><br><span class="line">            &lt;Redirect to=&quot;/login&quot;/&gt;</span><br><span class="line">        &lt;/Switch&gt;</span><br><span class="line">    &lt;/Suspense&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component, lazy,Suspense &#125; from &quot;react&quot;;</span><br><span class="line">import &#123;</span><br><span class="line">  BrowserRouter as Router,</span><br><span class="line">  NavLink,</span><br><span class="line">  Route,</span><br><span class="line">  Switch,</span><br><span class="line">  StaticRouter</span><br><span class="line">&#125; from &quot;react-router-dom&quot;;</span><br><span class="line">/* import Home from &quot;./Home&quot;;</span><br><span class="line">import Abount from &quot;./Abount&quot;; */</span><br><span class="line"></span><br><span class="line">const Home = lazy(() =&gt; import(&quot;./Home&quot;))</span><br><span class="line">const Abount = lazy(()=&gt;import(&quot;./Abount&quot;))</span><br><span class="line"></span><br><span class="line">export default class Demo extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div className=&quot;row&quot;&gt;</span><br><span class="line">          &lt;div className=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">            &lt;div className=&quot;page-header&quot;&gt;</span><br><span class="line">              &lt;h2&gt;React Router Demo&lt;/h2&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;Router&gt;</span><br><span class="line">          &lt;div className=&quot;row&quot;&gt;</span><br><span class="line">            &lt;div className=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">              &lt;div className=&quot;list-group&quot;&gt;</span><br><span class="line">                &lt;NavLink className=&quot;list-group-item&quot; to=&quot;/about&quot;&gt;</span><br><span class="line">                  About</span><br><span class="line">                &lt;/NavLink&gt;</span><br><span class="line">                &lt;NavLink className=&quot;list-group-item&quot; to=&quot;/home&quot;&gt;</span><br><span class="line">                  Home</span><br><span class="line">                &lt;/NavLink&gt;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div className=&quot;col-xs-6&quot;&gt;</span><br><span class="line">              &lt;div className=&quot;panel&quot;&gt;</span><br><span class="line">                &lt;div className=&quot;panel-body&quot;&gt;</span><br><span class="line">                  &lt;Suspense fallback=&#123;&lt;h1&gt;loading.....&lt;/h1&gt;&#125;&gt;</span><br><span class="line">                    &lt;Switch&gt;</span><br><span class="line">                      &lt;Route path=&quot;/home&quot; component=&#123;Home&#125;&gt;&lt;/Route&gt;</span><br><span class="line">                      &lt;Route path=&quot;/about&quot; component=&#123;Abount&#125;&gt;&lt;/Route&gt;</span><br><span class="line">                    &lt;/Switch&gt;</span><br><span class="line">                  &lt;/Suspense&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/Router&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="编程式路由导航"><a href="#编程式路由导航" class="headerlink" title="编程式路由导航"></a>编程式路由导航</h3><p>React Router 中文文档：<a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=https://github.com/react-guide/react-router-cn">https://github.com/react-guide/react-router-cn</a></p>
<p>React Router 使用教程：<a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=http://www.ruanyifeng.com/blog/2016/05/react_router.html?utm_source=tool.lu">http://www.ruanyifeng.com/blog/2016/05/react_router.html?utm_source&#x3D;tool.lu</a></p>
<blockquote>
<p>借助this.prosp.history对象上的API对操作路由跳转、前进、后退<br>                            -this.prosp.history.push()<br>                            -this.prosp.history.replace()<br>                            -this.prosp.history.goBack()后退<br>                            -this.prosp.history.goForward()前进<br>                            -this.prosp.history.go()</p>
</blockquote>
<p>react-router-dom 编程式路由导航 (v5)</p>
<p>1.push跳转+携带params参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">props.<span class="property">history</span>.<span class="title function_">push</span>(<span class="string">`/b/child1/<span class="subst">$&#123;id&#125;</span>/<span class="subst">$&#123;title&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>



<p>2.push跳转+携带search参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">props.<span class="property">history</span>.<span class="title function_">push</span>(<span class="string">`/b/child1?id=<span class="subst">$&#123;id&#125;</span>&amp;title=<span class="subst">$&#123;title&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>



<p>3.push跳转+携带state参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">props.<span class="property">history</span>.<span class="title function_">push</span>(&#123;<span class="attr">pathname</span>:<span class="string">`/b/child1`</span>, state：&#123; id, title &#125;&#125;);</span><br></pre></td></tr></table></figure>



<p>4.replace跳转+携带params参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">history</span>.<span class="title function_">replace</span>(<span class="string">`/home/message/detail/<span class="subst">$&#123;id&#125;</span>/<span class="subst">$&#123;title&#125;</span>`</span>)</span><br></pre></td></tr></table></figure>



<p>5.replace跳转+携带search参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">history</span>.<span class="title function_">replace</span>(<span class="string">`/home/message/detail?id=<span class="subst">$&#123;id&#125;</span>&amp;title=<span class="subst">$&#123;title&#125;</span>`</span>)</span><br></pre></td></tr></table></figure>



<p>6.replace跳转+携带state参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">history</span>.<span class="title function_">replace</span>(<span class="string">`/home/message/detail`</span>, &#123; id, title &#125;);</span><br></pre></td></tr></table></figure>



<p>7.前进</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">history</span>.<span class="title function_">goForward</span>();</span><br></pre></td></tr></table></figure>



<p>8.回退</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">history</span>.<span class="title function_">goBack</span>();</span><br></pre></td></tr></table></figure>



<p>9.前进或回退 ( go )</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">history</span>.<span class="title function_">go</span>(-<span class="number">2</span>); <span class="comment">//回退到前2条的路由</span></span><br></pre></td></tr></table></figure>



<p>在一般组件中使用编程式路由导航 (非路由组件)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;withRouter&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Header</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="comment">// withRouter(Header)后，就可以在一般组件内部使用 this.props.history </span></span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">withRouter</span>(<span class="title class_">Header</span>)</span><br></pre></td></tr></table></figure>



<p>react-router-dom 编程式路由导航 (v6)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// v6版本编程导航使用 useNavigate (以下为引入代码)</span></span><br><span class="line"><span class="keyword">import</span> &#123;  useNavigate &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">A</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> navigate = <span class="title function_">useNavigate</span>();</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>1.push跳转+携带params参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">navigate</span>(<span class="string">`/b/child1/<span class="subst">$&#123;id&#125;</span>/<span class="subst">$&#123;title&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>



<p>2.push跳转+携带search参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">navigate</span>(<span class="string">`/b/child2?id=<span class="subst">$&#123;id&#125;</span>&amp;title=<span class="subst">$&#123;title&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>



<p>3.push跳转+携带state参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">navigate</span>(<span class="string">&quot;/b/child2&quot;</span>, &#123; <span class="attr">state</span>: &#123; id, title &#125;&#125;);</span><br></pre></td></tr></table></figure>



<p>4.replace跳转+携带params参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">navigate</span>(<span class="string">`/b/child1/<span class="subst">$&#123;id&#125;</span>/<span class="subst">$&#123;title&#125;</span>`</span>,&#123;<span class="attr">replace</span>: <span class="literal">true</span>&#125;);</span><br></pre></td></tr></table></figure>



<p>5.replace跳转+携带search参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">navigate</span>(<span class="string">`/b/child2?id=<span class="subst">$&#123;id&#125;</span>&amp;title=<span class="subst">$&#123;title&#125;</span>`</span>,&#123;<span class="attr">replace</span>: <span class="literal">true</span>&#125;);</span><br></pre></td></tr></table></figure>



<p>6.replace跳转+携带state参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">navigate</span>(<span class="string">&quot;/b/child2&quot;</span>, &#123; <span class="attr">state</span>: &#123; id, title &#125;,<span class="attr">replace</span>: <span class="literal">true</span>&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="withRouter-函数"><a href="#withRouter-函数" class="headerlink" title="withRouter 函数"></a>withRouter 函数</h3><ul>
<li>withRouter 可以给普通的组件添加路由属性</li>
<li>一般用在头部，尾部，withRouter 用法是高阶组件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;;</span><br><span class="line">import &#123; withRouter &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">import &quot;./header.css&quot;</span><br><span class="line">class Header extends Component &#123;</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">        this.state = &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    goFenlei = () =&gt; &#123;</span><br><span class="line">        console.log(this);</span><br><span class="line">        //Header 是一个组件，他不存在 路由中的history属性</span><br><span class="line">        //可以使用 withRouter的高阶组件添加 history属性</span><br><span class="line">        this.props.history.push(&quot;/about/23&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;div className=&quot;header&quot;&gt;头部</span><br><span class="line">                &lt;button onClick=&#123;this.goFenlei&#125;&gt;点击跳转到关于我们&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// withRouter(Header)后，就可以在一般组件内部使用 this.props.history </span><br><span class="line">export default withRouter(Header);</span><br></pre></td></tr></table></figure>

<h3 id="路由守卫"><a href="#路由守卫" class="headerlink" title="路由守卫"></a>路由守卫</h3><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/16f35c090706">参考写法</a></p>
<ul>
<li>Redirect 重定向 ，可以做路由前置守卫</li>
<li>Prompt 路由后置守卫</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;;</span><br><span class="line">import ReactDOM from &#x27;react-dom&#x27;;</span><br><span class="line">import &#123; BrowserRouter as Router, Route, Link, Switch, Redirect, Prompt &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line">//BrowserRouter 不带#，NavLink有激活状态链接效果 </span><br><span class="line">const Home = () =&gt; (&lt;div&gt;首页&lt;/div&gt;)</span><br><span class="line"></span><br><span class="line">class Center extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (loginType ? &lt;div&gt;用户中心&lt;/div&gt; : &lt;Redirect to=&quot;/login&quot; /&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const Login = (props) =&gt; (&lt;div&gt;登录&lt;/div&gt;)</span><br><span class="line">class Cart extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    console.log(this.props);</span><br><span class="line">    return (&lt;div&gt;购物车页面</span><br><span class="line"></span><br><span class="line">      &lt;Prompt when=&#123;true&#125; message=&#123;&quot;您确定要离开这个页面么？&quot;&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let loginType = false;</span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Link to=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; &gt;首页&lt;/Link&gt;</span><br><span class="line">      --</span><br><span class="line">      &lt;Link to=&#123;&#123; pathname: &quot;/cart&quot; &#125;&#125;&gt;购物车页面&lt;/Link&gt;</span><br><span class="line">      --</span><br><span class="line">      &lt;Link to=&#123;&quot;/center&quot;&#125; &gt;用户中心&lt;/Link&gt;</span><br><span class="line">      --</span><br><span class="line">      &lt;Link to=&#123;&quot;/login&quot;&#125;  &gt;登录&lt;/Link&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Switch&gt;</span><br><span class="line">        &lt;Route path=&#123;&quot;/&quot;&#125; exact=&#123;true&#125; component=&#123;Home&#125; /&gt;</span><br><span class="line">        &lt;Route path=&#123;&quot;/cart&quot;&#125; component=&#123;Cart&#125; /&gt;</span><br><span class="line">        &lt;Route path=&#123;&quot;/center&quot;&#125; component=&#123;Center&#125; /&gt;</span><br><span class="line">        &lt;Route path=&#123;&quot;/login&quot;&#125; component=&#123;Login&#125; /&gt;</span><br><span class="line">        &lt;Redirect from=&quot;/*&quot; to=&quot;/&quot; /&gt;</span><br><span class="line">        &#123;/* 404页面定位到首页 */&#125;</span><br><span class="line">      &lt;/Switch&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/Router&gt;</span><br><span class="line">)</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  document.getElementById(&#x27;root&#x27;)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">上面代码实现的功能：</span><br><span class="line">1. 给购物车页面设置了Prompt 路由后置守卫</span><br><span class="line">2. 当你想离开购物车页面时，会弹出一个确认框</span><br><span class="line">3. 给404页面设置了 Redirect 重定向</span><br><span class="line">4. 当路径不对时，会重新定向到login登录页面</span><br><span class="line">5. 给用户中心页面设置了Redirect 路由前置守卫</span><br><span class="line">6. 当你为登录时，无法打开用户中心，只能跳转到login登录页面先登录</span><br></pre></td></tr></table></figure>













<h2 id="React-UI组件库"><a href="#React-UI组件库" class="headerlink" title="React UI组件库"></a>React UI组件库</h2><h3 id="流行的开源React-UI组件库"><a href="#流行的开源React-UI组件库" class="headerlink" title="流行的开源React UI组件库"></a>流行的开源React UI组件库</h3><p>material-ui(国外)<br>1.官网: <a target="_blank" rel="noopener" href="http://www.material-ui.com/#/">http://www.material-ui.com/#/</a><br>2.github: <a target="_blank" rel="noopener" href="https://github.com/callemall/material-ui">https://github.com/callemall/material-ui</a><br>ant-design(国内蚂蚁金服)<br>1.官网: <a target="_blank" rel="noopener" href="https://ant.design/index-cn">https://ant.design/index-cn</a><br>2.Github: <a target="_blank" rel="noopener" href="https://github.com/ant-design/ant-design/">https://github.com/ant-design/ant-design/</a></p>
<blockquote>
<p>1.安装依赖：yarn add react-app-rewired customize-cra babel-plugin-import less less-loader<br>            2.修改package.json<br>                    ….<br>                        “scripts”: {<br>                            “start”: “react-app-rewired start”,<br>                            “build”: “react-app-rewired build”,<br>                            “test”: “react-app-rewired test”,<br>                            “eject”: “react-scripts eject”<br>                        },<br>                    ….<br>            3.根目录下创建config-overrides.js<br>                    &#x2F;&#x2F;配置具体的修改规则<br>                    const { override, fixBabelImports,addLessLoader} &#x3D; require(‘customize-cra’);<br>                    module.exports &#x3D; override(<br>                        fixBabelImports(‘import’, {<br>                            libraryName: ‘antd’,<br>                            libraryDirectory: ‘es’,<br>                            style: true,<br>                        }),<br>                        addLessLoader({<br>                            lessOptions:{<br>                                javascriptEnabled: true,<br>                                modifyVars: { ‘@primary-color’: ‘green’ },<br>                            }<br>                        }),<br>                    );<br>                4.备注：不用在组件里亲自引入样式了，即：import ‘antd&#x2F;dist&#x2F;antd.css’应该删掉</p>
</blockquote>
<h2 id="redux"><a href="#redux" class="headerlink" title="redux"></a>redux</h2><blockquote>
<p>安装yarn add redux</p>
</blockquote>
<h3 id="redux理解"><a href="#redux理解" class="headerlink" title="redux理解"></a>redux理解</h3><h4 id="学习文档"><a href="#学习文档" class="headerlink" title="学习文档"></a>学习文档</h4><p>1.英文文档: <a target="_blank" rel="noopener" href="https://redux.js.org/">https://redux.js.org/</a><br>2.中文文档: <a target="_blank" rel="noopener" href="http://www.redux.org.cn/">http://www.redux.org.cn/</a><br>3.Github: <a target="_blank" rel="noopener" href="https://github.com/reactjs/redux">https://github.com/reactjs/redux</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/GreyCastle/article/details/105472526">多个reducre参考</a></p>
<h3 id="redux是什么"><a href="#redux是什么" class="headerlink" title="redux是什么"></a>redux是什么</h3><p>1.redux是一个专门用于做状态管理的JS库(<strong>不是react插件库</strong>)。<br>2.<strong>它可以用在react, angular, vue等项目中, 但基本与react配合使用。</strong><br>3.作用: 集中式管理react应用中多个组件共享的状态。</p>
<h3 id="什么情况下需要使用redux"><a href="#什么情况下需要使用redux" class="headerlink" title="什么情况下需要使用redux"></a>什么情况下需要使用redux</h3><p>1.某个组件的状态，需要让其他组件可以随时拿到（共享）。</p>
<p>2.一个组件需要改变另一个组件的状态（通信）。</p>
<p>3.总体原则：能不用就不用, 如果不用比较吃力才考虑使用。</p>
<h3 id="redux工作流程"><a href="#redux工作流程" class="headerlink" title="redux工作流程"></a>redux工作流程</h3><p><img src="/React/image-20230106110239646-16729741614052.png" alt="image-20230106110239646"></p>
<p><img src="/React/aceec9d1ca114dfb8cdd2ce7c428db1etplv-k3u1fbpfcp-zoom-in-crop-mark4536000.png" alt="image.png"></p>
<blockquote>
<p>store：store是保存数据state的地方，你可以把它看成是数据源对数据进行统一管理，整个应用中只能有一个store，所有组件均可通过redux规范与store中的数据进行交互</p>
<p>action：action 就是 JavaScript 普通对象。并且action 内必须使用一个字符串类型的 type 字段来表示将要执行的动作(规定action对象里面必须有type字段，否则代码将报错)</p>
<p>reducers: actions发送给store，根据action中的type来改变相应的store内的state，但是如何改变呢？就是通过reducers来改变的，reducers是一个纯函数，并且记住 actions 只是描述了有事情发生了这一事实，并没有描述应用如何更新state，而是有reducers根据action对象内的信息来改变store内的数据</p>
</blockquote>
<h3 id="redux的三个核心概念"><a href="#redux的三个核心概念" class="headerlink" title="redux的三个核心概念"></a>redux的三个核心概念</h3><h4 id="action"><a href="#action" class="headerlink" title="action"></a>action</h4><blockquote>
<p>1.动作的对象<br>2.包含2个属性<br>type：标识属性, 值为字符串, 唯一, 必要属性<br>data：数据属性, 值类型任意, 可选属性<br>3.例子：{ type: ‘ADD_STUDENT’,data:{name: ‘tom’,age:18} }</p>
</blockquote>
<h4 id="reducer"><a href="#reducer" class="headerlink" title="reducer"></a>reducer</h4><blockquote>
<p>1.用于初始化状态、加工状态。<br>2.加工时，根据旧的state和action， 产生新的state的纯函数。</p>
</blockquote>
<p>初始化时的旧state是undefined</p>
<h4 id="store"><a href="#store" class="headerlink" title="store"></a>store</h4><p>1.将state、action、reducer联系在一起的对象<br>2.如何得到此对象?</p>
<blockquote>
<p>​	1)import {createStore} from ‘redux’<br>​	2)import reducer from ‘.&#x2F;reducers’<br>​	3)const store &#x3D; createStore(reducer)</p>
</blockquote>
<p>3.此对象的功能?</p>
<blockquote>
<p>​	1)getState(): 得到state<br>​	2)dispatch(action): 分发action, 触发reducer调用, 产生新的state<br>​	3)subscribe(listener): 注册监听, 当产生了新的state时, 自动调用</p>
</blockquote>
<h3 id="redux的核心API"><a href="#redux的核心API" class="headerlink" title="redux的核心API"></a>redux的核心API</h3><h4 id="createstore"><a href="#createstore" class="headerlink" title="createstore()"></a>createstore()</h4><p>作用：创建包含指定reducer的store对象</p>
<h4 id="store对象"><a href="#store对象" class="headerlink" title="store对象"></a>store对象</h4><p>1.作用: redux库最核心的管理对象<br>2.它内部维护着:</p>
<blockquote>
<p>1)state<br>2)reducer</p>
</blockquote>
<p>3.核心方法:</p>
<blockquote>
<p>1)getState()获取store中的状态<br>2)dispatch(action)触发reducer中的行为<br>3)subscribe(listener)当store中的状态发生改变时调用store.subscribe</p>
</blockquote>
<blockquote>
<p>getState()只用一个reducre函数时返回的就是prestore</p>
<p>多个reducre时返回的是以函数名为属性的对象</p>
</blockquote>
<p><img src="/React/image-20230106210228090.png" alt="image-20230106210228090"></p>
<p>4.具体编码:</p>
<blockquote>
<p>1)store.getState()<br>2)store.dispatch({type:’INCREMENT’, number})<br>3)store.subscribe(render)</p>
</blockquote>
<h4 id="applyMiddleware"><a href="#applyMiddleware" class="headerlink" title="applyMiddleware()"></a>applyMiddleware()</h4><p>作用：应用上基于redux的中间件(插件库)redux内置的函数（应用异步action）</p>
<h4 id="combineReducers"><a href="#combineReducers" class="headerlink" title="combineReducers()"></a>combineReducers()</h4><p>作用：<strong>合并多个reducer函数</strong>redux内置的函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; combineReducers &#125; <span class="keyword">from</span> <span class="string">&quot;redux&quot;</span></span><br><span class="line"><span class="keyword">import</span> countreducer <span class="keyword">from</span> <span class="string">&quot;./countrReducer&quot;</span></span><br><span class="line"><span class="keyword">import</span> homereducre <span class="keyword">from</span> <span class="string">&quot;./home_reducre&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">combineReducers</span>(&#123; countreducer, homereducre &#125;);</span><br></pre></td></tr></table></figure>



<h3 id="简写案例"><a href="#简写案例" class="headerlink" title="简写案例"></a>简写案例</h3><blockquote>
<p>　</p>
<p>　		(1).去除Count组件自身的状态<br>　		(2).src下建立:<br>　				-redux<br>　				-store.js<br>　				-count_reducer.js<br>　		(3).store.js：<br>　					1).引入redux中的createStore函数，创建一个store<br>　					2).createStore调用时要传入一个为其服务的reducer<br>　					3).记得暴露store对象<br>　	<br>　		(4).count_reducer.js：<br>　					1).reducer的本质是一个函数，接收：preState,action，返回加工后的状态<br>　					2).reducer有两个作用：初始化状态，加工状态<br>　					3).reducer被第一次调用时，是store自动触发的，<br>　								传递的preState是undefined,<br>　								传递的action是:{type:‘@@REDUX&#x2F;INIT_a.2.b.4}<br>　	<br>　		(5).在index.js中监测store中状态的改变，一旦发生改变重新渲染<App>（方法二）<br>　			备注：redux只负责管理状态，至于状态的改变驱动着页面的展示，要靠我们自己写。</App></p>
</blockquote>
<p>store.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  该文件专门用于暴露一个store对象，整个应用只有一个store对象</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引入createStore，专门用于创建redux中最为核心的store对象</span></span><br><span class="line"><span class="comment">// 版本3以上的使用，废弃了原有的createStore改成了legacy_createStore</span></span><br><span class="line"><span class="comment">// import &#123; legacy_createStore as createStore &#125; from &#x27;redux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;createStore &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引入为Count组件服务的reducer</span></span><br><span class="line"><span class="keyword">import</span> countReducer <span class="keyword">from</span> <span class="string">&#x27;./countrReducer&#x27;</span></span><br><span class="line"><span class="comment">//暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">createStore</span>(countReducer)</span><br></pre></td></tr></table></figure>

<p>countreducer.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  1.该文件是用于创建一个为Count组件服务的reducer，reducer的本质就是一个函数</span></span><br><span class="line"><span class="comment">  2.reducer函数会接到两个参数，分别为：之前的状态(preState)，动作对象(action)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">countreducer</span>(<span class="params">preStore = <span class="number">0</span>,action</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; type, data &#125; = action;</span><br><span class="line">  <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;INCREMENT&quot;</span>:</span><br><span class="line">      <span class="keyword">return</span> preStore + data.<span class="property">value</span> * <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;decrement&quot;</span>:</span><br><span class="line">      <span class="keyword">return</span> preStore - data.<span class="property">value</span> * <span class="number">1</span>;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="keyword">return</span> preStore;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&quot;react-dom/client&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&quot;./App&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;./redux/store&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br><span class="line"></span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">App</span>&gt;</span><span class="tag">&lt;/<span class="name">App</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line"><span class="comment">//监听store状态改变方法二：</span></span><br><span class="line">store.<span class="title function_">subscribe</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  root.<span class="title function_">render</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">App</span>&gt;</span><span class="tag">&lt;/<span class="name">App</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>App.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Count</span> <span class="keyword">from</span> <span class="string">&#x27;./components/Count&#x27;</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Count</span>&gt;</span><span class="tag">&lt;/<span class="name">Count</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// operation</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Count.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line">import store from &quot;../../redux/store.js&quot;</span><br><span class="line"></span><br><span class="line">export default class Count extends Component &#123;</span><br><span class="line">  // state = &#123; count: store.getState &#125;;</span><br><span class="line">  //监视redux中状态的改变，只要变化就调用render</span><br><span class="line">  // 写法一</span><br><span class="line">  //componentDidMount() &#123;</span><br><span class="line">    // 当store中的状态发生改变时调用store.subscribe</span><br><span class="line">    //store.subscribe(() =&gt; &#123;</span><br><span class="line">      // 不能直接调用render</span><br><span class="line">      //this.setState(&#123;&#125;);</span><br><span class="line">    //&#125;);</span><br><span class="line">  //&#125;</span><br><span class="line">  //加法</span><br><span class="line">  increment = () =&gt; &#123;</span><br><span class="line">    const &#123; value &#125; = this.selectNumber;</span><br><span class="line">    let action = &#123; type: &quot;INCREMENT&quot;,data:&#123;value&#125; &#125;;</span><br><span class="line">    store.dispatch(action);</span><br><span class="line">  &#125;;</span><br><span class="line">  //减法</span><br><span class="line">  decrement = () =&gt; &#123;</span><br><span class="line">    const &#123; value &#125; = this.selectNumber;</span><br><span class="line">    let action = &#123; type: &quot;decrement&quot;, data: &#123; value &#125; &#125;;</span><br><span class="line">    store.dispatch(action);</span><br><span class="line">  &#125;;</span><br><span class="line">  //奇数再加</span><br><span class="line">  incrementIfOdd = () =&gt; &#123;</span><br><span class="line">    const &#123; value &#125; = this.selectNumber;</span><br><span class="line">    let count = store.getState();</span><br><span class="line">    let action = &#123; type: &quot;INCREMENT&quot;, data: &#123; value &#125; &#125;;</span><br><span class="line">    if (count % 2 !== 0) &#123;</span><br><span class="line">      store.dispatch(action);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  //异步加</span><br><span class="line">  incrementAsync = () =&gt; &#123;</span><br><span class="line">    const &#123; value &#125; = this.selectNumber;</span><br><span class="line">    let action = &#123; type: &quot;INCREMENT&quot;, data: &#123; value &#125; &#125;;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      store.dispatch(action);</span><br><span class="line">    &#125;, 500);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;当前求和为：&#123;store.getState()&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;select ref=&#123;(c) =&gt; (this.selectNumber = c)&#125;&gt;</span><br><span class="line">          &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">          &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">          &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">        &lt;/select&gt;</span><br><span class="line">        &amp;nbsp;</span><br><span class="line">        &lt;button onClick=&#123;this.increment&#125;&gt;+&lt;/button&gt;&amp;nbsp;</span><br><span class="line">        &lt;button onClick=&#123;this.decrement&#125;&gt;-&lt;/button&gt;&amp;nbsp;</span><br><span class="line">        &lt;button onClick=&#123;this.incrementIfOdd&#125;&gt;当前求和为奇数再加&lt;/button&gt;&amp;nbsp;</span><br><span class="line">        &lt;button onClick=&#123;this.incrementAsync&#125;&gt;异步加&lt;/button&gt;&amp;nbsp;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="完整版案例"><a href="#完整版案例" class="headerlink" title="完整版案例"></a>完整版案例</h3><blockquote>
<p>新增文件：<br>            1.count_action.js 专门用于创建action对象<br>            2.constant.js 放置容易写错的type值</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  该模块是用于定义action对象中type类型的常量值，目的只有一个：便于管理的同时防止程序员单词写错</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="variable constant_">INCREMENT</span> = <span class="string">&#x27;increment&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="variable constant_">DECREMENT</span> = <span class="string">&#x27;decrement&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  该文件专门为Count组件生成action对象</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">INCREMENT</span>, <span class="variable constant_">DECREMENT</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./constant&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">createIncrementAction</span> = data =&gt; (&#123; <span class="attr">type</span>: <span class="variable constant_">INCREMENT</span>, data &#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">createDecrementAction</span> = data =&gt; (&#123; <span class="attr">type</span>: <span class="variable constant_">DECREMENT</span>, data &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  1.该文件是用于创建一个为Count组件服务的reducer，reducer的本质就是一个函数</span></span><br><span class="line"><span class="comment">  2.reducer函数会接到两个参数，分别为：之前的状态(preState)，动作对象(action)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">INCREMENT</span>, <span class="variable constant_">DECREMENT</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./constant&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">countreducer</span>(<span class="params">preStore = <span class="number">0</span>,action</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; type, data &#125; = action;</span><br><span class="line">  <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="attr">INCREMENT</span>:</span><br><span class="line">      <span class="keyword">return</span> preStore + data.<span class="property">value</span> * <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="attr">DECREMENT</span>:</span><br><span class="line">      <span class="keyword">return</span> preStore - data.<span class="property">value</span> * <span class="number">1</span>;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="keyword">return</span> preStore;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &quot;react&quot;;</span><br><span class="line">import store from &quot;../../redux/store.js&quot;</span><br><span class="line">import &#123;</span><br><span class="line">  createIncrementAction,</span><br><span class="line">  createDecrementAction,</span><br><span class="line">&#125; from &quot;../../redux/count_action&quot;;</span><br><span class="line"></span><br><span class="line">export default class Count extends Component &#123;</span><br><span class="line">  // state = &#123; count: store.getState &#125;;</span><br><span class="line">  //监视redux中状态的改变，只要变化就调用render</span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    // 当store中的状态发生改变时调用store.subscribe</span><br><span class="line">    store.subscribe(() =&gt; &#123;</span><br><span class="line">      // 不能直接调用render</span><br><span class="line">      this.setState(&#123;&#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  //加法</span><br><span class="line">  increment = () =&gt; &#123;</span><br><span class="line">    const &#123; value &#125; = this.selectNumber;</span><br><span class="line">    store.dispatch(createIncrementAction(&#123;value&#125;));</span><br><span class="line">  &#125;;</span><br><span class="line">  //减法</span><br><span class="line">  decrement = () =&gt; &#123;</span><br><span class="line">    const &#123; value &#125; = this.selectNumber;</span><br><span class="line">    store.dispatch(createDecrementAction(&#123;value&#125;));</span><br><span class="line">  &#125;;</span><br><span class="line">  //奇数再加</span><br><span class="line">  incrementIfOdd = () =&gt; &#123;</span><br><span class="line">    const &#123; value &#125; = this.selectNumber;</span><br><span class="line">    let count = store.getState();</span><br><span class="line">    if (count % 2 !== 0) &#123;</span><br><span class="line">      store.dispatch(createIncrementAction(&#123; value &#125;));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  //异步加</span><br><span class="line">  incrementAsync = () =&gt; &#123;</span><br><span class="line">    const &#123; value &#125; = this.selectNumber;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      store.dispatch(createIncrementAction(&#123; value &#125;));</span><br><span class="line">    &#125;, 500);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;当前求和为：&#123;store.getState()&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;select ref=&#123;(c) =&gt; (this.selectNumber = c)&#125;&gt;</span><br><span class="line">          &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">          &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">          &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">        &lt;/select&gt;</span><br><span class="line">        &amp;nbsp;</span><br><span class="line">        &lt;button onClick=&#123;this.increment&#125;&gt;+&lt;/button&gt;&amp;nbsp;</span><br><span class="line">        &lt;button onClick=&#123;this.decrement&#125;&gt;-&lt;/button&gt;&amp;nbsp;</span><br><span class="line">        &lt;button onClick=&#123;this.incrementIfOdd&#125;&gt;当前求和为奇数再加&lt;/button&gt;&amp;nbsp;</span><br><span class="line">        &lt;button onClick=&#123;this.incrementAsync&#125;&gt;异步加&lt;/button&gt;&amp;nbsp;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="异步action"><a href="#异步action" class="headerlink" title="异步action"></a>异步action</h3><blockquote>
<p>　　(1).明确：延迟的动作不想交给组件自身，想交给action<br>　		 (2).何时需要异步action：想要对状态进行操作，但是具体的数据靠异步任务返回。<br>　		 (3).具体编码：<br>　		 		1).yarn add redux-thunk，并配置在store中<br>　		 		2).创建action的函数不再返回一般对象，而是一个函数，该函数中写异步任务。<br>　		 		3).异步任务有结果后，分发一个同步的action去真正操作数据。<br>　		 (4).备注：异步action不是必须要写的，完全可以自己等待异步任务的结果了再去分发同步action。</p>
</blockquote>
<p>action参数可以是对象类型（同步），也可以是函数类型（异步）</p>
<p>需要安装redux-thunk包</p>
<p>配置store.js</p>
<p>需要引入applyMiddleware与thunk</p>
<blockquote>
<p><strong>配置store后给dispatch传递的不是普通对象，而是函数时会自动调用该函数并且不会调用reducre函数</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  该文件专门用于暴露一个store对象，整个应用只有一个store对象</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引入createStore，专门用于创建redux中最为核心的store对象</span></span><br><span class="line"><span class="comment">// 版本3以上的使用，废弃了原有的createStore改成了legacy_createStore</span></span><br><span class="line"><span class="comment">// import &#123; legacy_createStore as createStore &#125; from &#x27;redux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">&quot;redux-thunk&quot;</span></span><br><span class="line"><span class="comment">//引入为Count组件服务的reducer</span></span><br><span class="line"><span class="keyword">import</span> countReducer <span class="keyword">from</span> <span class="string">&#x27;./countrReducer&#x27;</span></span><br><span class="line"><span class="comment">//暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">createStore</span>(countReducer, <span class="title function_">applyMiddleware</span>(thunk))</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  该文件专门为Count组件生成action对象</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">INCREMENT</span>, <span class="variable constant_">DECREMENT</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./constant&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">createIncrementAction</span> = data =&gt; (&#123; <span class="attr">type</span>: <span class="variable constant_">INCREMENT</span>, data &#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">createDecrementAction</span> = data =&gt; (&#123; <span class="attr">type</span>: <span class="variable constant_">DECREMENT</span>, data &#125;)</span><br><span class="line"><span class="comment">// 异步的</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">createIncrementAsyncAction</span> = (<span class="params">data, time</span>) =&gt; &#123;</span><br><span class="line">  	<span class="comment">// 配置store后给dispatch传递的不是普通对象，而是函数时会自动调用该函数并且不会调用reducre函数</span></span><br><span class="line">    <span class="comment">// 返回为函数时调用这个函数不调用reducre</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> store.<span class="title function_">dispatch</span>(<span class="title function_">createIncrementAction</span>(data))</span><br><span class="line">    &#125;, time)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="redux开发这工具使用"><a href="#redux开发这工具使用" class="headerlink" title="redux开发这工具使用"></a>redux开发这工具使用</h3><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1wy4y1D7JT?p=113&spm_id_from=pageDriver&vd_source=031f631a87cca114e71194f12ec3fc3f">视屏介绍</a></p>
<blockquote>
<p>(1).yarn add redux-devtools-extension<br>            (2).store中进行配置<br>                    import {composeWithDevTools} from ‘redux-devtools-extension’<br>                    const store &#x3D; createStore(allReducer,composeWithDevTools(applyMiddleware(thunk)))</p>
</blockquote>
<h3 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h3><blockquote>
<p>在reducer中返回的是一个对象，<strong>redux会将返回值与之前的值进行一个浅比较（对象类型比较引用地址）</strong>故在使修改数组的方法修改数组时，redux不会发生更新</p>
</blockquote>
<h2 id="react-redux"><a href="#react-redux" class="headerlink" title="react-redux"></a>react-redux</h2><p><img src="/React/react-redux%E6%A8%A1%E5%9E%8B%E5%9B%BE.png" alt="react-redux模型图"></p>
<blockquote>
<p>(1).明确两个概念：<br>                        1).UI组件:不能使用任何redux的api，只负责页面的呈现、交互等。<br>                        2).容器组件：负责和redux通信，将结果交给UI组件。<br>            (2).如何创建一个容器组件————靠react-redux 的 connect函数<br>                            connect(mapStateToProps,mapDispatchToProps)(UI组件)<br>                                -mapStateToProps:映射状态，返回值是一个对象<br>                                -mapDispatchToProps:映射操作状态的方法，返回值是一个对象<br>            (3).备注1：<strong>容器组件中的store是靠props传进去的，而不是在容器组件中直接引入</strong><br>            (4).备注2：mapDispatchToProps，<strong>也可以是一个对象</strong></p>
</blockquote>
<blockquote>
<p>(1).容器组件和UI组件整合一个文件<br>            (2).无需自己给容器组件传递store，给<App>包裹一个<Provider store="{store}">即可。<br>            (3).使用了react-redux后也不用再自己检测redux中状态的改变了，容器组件可以自动完成这个工作。<br>            (4).mapDispatchToProps也可以简单的写成一个对象<br>            (5).一个组件要和redux“打交道”要经过哪几步？<br>                            (1).定义好UI组件—不暴露<br>                            (2).引入connect生成一个容器组件，并暴露，写法如下：<br>                                    connect(<br>                                        state &#x3D;&gt; ({key:value}), &#x2F;&#x2F;映射状态<br>                                        {key:xxxxxAction} &#x2F;&#x2F;映射操作状态的方法<br>                                    )(UI组件)<br>                            (4).在UI组件中通过this.props.xxxxxxx读取和操作状态</Provider></App></p>
</blockquote>
<h3 id="connect"><a href="#connect" class="headerlink" title="connect"></a>connect</h3><p>React-Redux提供connect方法，用于从 UI 组件生成容器组件。connect的意思，就是将这两种组件连起来。</p>
<p>1、导入</p>
<blockquote>
<p>import { connect } from ‘react-redux’</p>
</blockquote>
<p>2、使用</p>
<blockquote>
<p>export default connect(mapStateToProps, mapDispatchToProps)(AppUI);</p>
</blockquote>
<p>connect方法可以省略mapStateToProps参数，那样的话，UI 组件就不会订阅Store，<strong>就是说 Store 的更新不会引起 UI 组件的更新。</strong>(但在UI中在生命函数钩子调用subscribe可以引起页面的更新,而想redux一样在index中通过subscribe进行统一的更新是无效的)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 当store中的状态发生改变时调用store.subscribe</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">store</span>.<span class="title function_">subscribe</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 不能直接调用render</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;&#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<p>mapStateToProps：更新props————&gt;作为输入源。返回一个对象，key为UI界面对应的名称，value为state处理的结果<br>mapDispatchToProps：更新action————&gt;作为输出源。触发action更新reducer，进而更新state，从而驱动参数1变化，引起UI数据的变化<br>通过这个两参数的自动调用方式，将UI和业务逻辑分开，UI组件通过props显示，没有任何业务逻辑，容器组件负责逻辑业务。下面详解这两个参数</p>
<h3 id="mapStateToProps"><a href="#mapStateToProps" class="headerlink" title="mapStateToProps"></a>mapStateToProps</h3><p>建立一个从（外部的）state对象到（UI 组件的）props对象的映射关系。作为函数，mapStateToProps执行后应该返回一个对象，里面的每一个键值对就是一个映射。</p>
<p>mapStateToProps会订阅 Store，每当state更新的时候，就会自动执行，重新计算 UI 组件的参数，从而触发 UI 组件的重新渲染。</p>
<p>mapStateToProps的第一个参数总是state对象，还可以使用第二个参数，代表容器组件的props对象。使用ownProps作为参数后，如果容器组件的参数发生变化，也会引发 UI 组件重新渲染。</p>
<p>一个参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">mapStateToProps</span> = (<span class="params">state</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">         <span class="attr">value</span>: state.<span class="property">count</span> <span class="comment">//UI组件中需要什么参数，对象中就写哪些参数</span></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>两个参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">mapStateToProps</span> = (<span class="params">state, ownProps</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">value</span>: state.<span class="property">count</span> <span class="comment">//UI组件中需要什么参数，对象中就写哪些参数</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="mapDispatchToProps"><a href="#mapDispatchToProps" class="headerlink" title="mapDispatchToProps"></a>mapDispatchToProps</h3><p>mapDispatchToProps是connect函数的第二个参数，用来建立 UI 组件的参数到store.dispatch方法的映射。也就是说，它定义了哪些用户的操作应该当作 Action，传给 Store。它可以是一个函数，也可以是一个对象。</p>
<p>1、作为函数</p>
<p>如果mapDispatchToProps是一个函数，会得到dispatch和ownProps（容器组件的props对象）两个参数。作为函数，应该返回一个对象，该对象的每个键值对都是一个映射，定义了 UI 组件的参数怎样发出 Action。</p>
<p>dispach(action)发出消息。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">mapDispatchToProps</span> = (<span class="params">dispatch, ownProps</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">onIncreaseClick</span>: <span class="function">() =&gt;</span> <span class="title function_">dispatch</span>(&#123;<span class="attr">type</span>: <span class="string">&#x27;increase&#x27;</span>&#125;),</span><br><span class="line">        <span class="attr">onReduceClick</span>: <span class="function">() =&gt;</span> <span class="title function_">dispatch</span>(&#123;<span class="attr">type</span>: <span class="string">&#x27;reduce&#x27;</span>&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、对象写法</p>
<blockquote>
<p>对象写法时可以不用调用dispatch，react-redux会帮我们调用</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapDispatchToProps = &#123;</span><br><span class="line">    <span class="attr">onIncreaseClick</span>: <span class="function">() =&gt;</span> (&#123;<span class="attr">type</span>: <span class="string">&#x27;increase&#x27;</span>&#125;),</span><br><span class="line">    <span class="attr">onReduceClick</span>: <span class="function">() =&gt;</span> (&#123;<span class="attr">type</span>: <span class="string">&#x27;reduce&#x27;</span>&#125;)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入action</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">	createIncrementAction,</span><br><span class="line">	createDecrementAction,</span><br><span class="line">	createIncrementAsyncAction</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;../../redux/count_action&#x27;</span></span><br><span class="line"><span class="comment">// 对象写法时可以不用调用dispatch，react-redux会帮我们调用</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="attr">jia</span>:createIncrementAction,</span><br><span class="line">	<span class="attr">jian</span>:createDecrementAction,</span><br><span class="line">	<span class="attr">jiaAsync</span>:createIncrementAsyncAction,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>函数写法</p>
<blockquote>
<p>需要接收到dispatch自己取调用</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">mapDispatchToProps</span> = (<span class="params">dispatch</span>) =&gt; (&#123;</span><br><span class="line">    <span class="title function_">onIncreaseClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="title function_">dispatch</span>(&#123;<span class="attr">type</span>: <span class="string">&#x27;increase&#x27;</span>&#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">onReduceClick</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">dispatch</span>(&#123;<span class="attr">type</span>: <span class="string">&#x27;reduce&#x27;</span>&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>这两个使用的效果一样。通过connect，store.subscribe也不需要了。通过connnect方法，最终的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">Component</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;connect&#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;value, onIncreaseClick, onReduceClick&#125; = <span class="variable language_">this</span>.<span class="property">props</span></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">style</span>=<span class="string">&#123;&#123;width:</span> <span class="attr">40</span>, <span class="attr">height:</span> <span class="attr">40</span>&#125;&#125; <span class="attr">onClick</span>=<span class="string">&#123;onIncreaseClick&#125;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">text</span> <span class="attr">style</span>=<span class="string">&#123;&#123;padding:</span> <span class="attr">40</span>&#125;&#125;&gt;</span>&#123;value&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">style</span>=<span class="string">&#123;&#123;width:</span> <span class="attr">40</span>, <span class="attr">height:</span> <span class="attr">40</span>&#125;&#125; <span class="attr">onClick</span>=<span class="string">&#123;onReduceClick&#125;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mapStateToProps</span> = (<span class="params">state</span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">value</span>: state.<span class="property">count</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mapDispatchToProps</span> = (<span class="params">dispatch, ownProps</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">onIncreaseClick</span>: <span class="function">() =&gt;</span> <span class="title function_">dispatch</span>(&#123;<span class="attr">type</span>: <span class="string">&#x27;increase&#x27;</span>&#125;),</span><br><span class="line">        <span class="attr">onReduceClick</span>: <span class="function">() =&gt;</span> <span class="title function_">dispatch</span>(&#123;<span class="attr">type</span>: <span class="string">&#x27;reduce&#x27;</span>&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">connect</span>(mapStateToProps, mapDispatchToProps)(<span class="title class_">App</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Provider"><a href="#Provider" class="headerlink" title="Provider"></a>Provider</h3><p>1、导入</p>
<p>import {Provider} from “react-redux”;</p>
<p>2、使用</p>
<p>Provider在根组件外面包了一层，这样一来，App的所有子组件就默认都可以拿到state了</p>
<blockquote>
<Provider store="{store}">
         <App>
</App></Provider>
</blockquote>
<h2 id="react打包"><a href="#react打包" class="headerlink" title="react打包"></a>react打包</h2><blockquote>
<p>npm run build</p>
</blockquote>
<blockquote>
<p>打包后的文件需要部署到服务其中才能使用</p>
</blockquote>
<p>方法一</p>
<p>真实的部署到一台服务器中</p>
<p>方法二</p>
<p>使用第三方的库serve</p>
<blockquote>
<p>npm i serve -g</p>
</blockquote>
<p>使用</p>
<blockquote>
<p>以当前文件为根路径启动一台服务器</p>
<p>serve</p>
</blockquote>
<blockquote>
<p>以指定文件为根路径启动服务器</p>
<p>serve 文件名</p>
</blockquote>
<p>方法三自己写</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"><span class="comment">// 将打包的文件暴露出来</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/&#x27;</span>,express.<span class="title function_">static</span>(path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;build&#x27;</span>)));</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;http://127.0.0.1:8080&#x27;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="setState"><a href="#setState" class="headerlink" title="setState"></a>setState</h2><blockquote>
<p>react的状态的更新是异步的</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(1). setState(stateChange, [callback])------对象式的setState</span><br><span class="line">    1.stateChange为状态改变对象(该对象可以体现出状态的更改)</span><br><span class="line">    2.callback是可选的回调函数, 它在状态更新完毕、界面也更新后(render调用后)才被调用</span><br><span class="line">					</span><br><span class="line">(2). setState(updater, [callback])------函数式的setState</span><br><span class="line">    1.updater为返回stateChange对象的函数。</span><br><span class="line">    2.updater可以接收到state和props。</span><br><span class="line">    4.callback是可选的回调函数, 它在状态更新、界面也更新后(render调用后)才被调用。</span><br><span class="line">总结:</span><br><span class="line">1.对象式的setState是函数式的setState的简写方式(语法糖)</span><br><span class="line">2.使用原则：</span><br><span class="line">	(1).如果新状态不依赖于原状态 ===&gt; 使用对象方式</span><br><span class="line">	(2).如果新状态依赖于原状态 ===&gt; 使用函数方式</span><br><span class="line">	(3).如果需要在setState()执行后获取最新的状态数据, </span><br><span class="line">		要在第二个callback函数中读取</span><br></pre></td></tr></table></figure>



<h2 id="Hooks"><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h2><h3 id="React-Hook-x2F-Hooks是什么"><a href="#React-Hook-x2F-Hooks是什么" class="headerlink" title="React Hook&#x2F;Hooks是什么?"></a>React Hook&#x2F;Hooks是什么?</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(1). Hook是React 16.8.0版本增加的新特性/新语法</span><br><span class="line">(2). 可以让你在函数组件中使用 state 以及其他的 React 特性</span><br></pre></td></tr></table></figure>

<h3 id="三个常用的Hook"><a href="#三个常用的Hook" class="headerlink" title="三个常用的Hook"></a>三个常用的Hook</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(1). State Hook: React.useState()</span><br><span class="line">(2). Effect Hook: React.useEffect()</span><br><span class="line">(3). Ref Hook: React.useRef()</span><br></pre></td></tr></table></figure>

<h3 id="State-Hook"><a href="#State-Hook" class="headerlink" title="State Hook"></a>State Hook</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(1). State Hook让函数组件也可以有state状态, 并进行状态数据的读写操作</span><br><span class="line">(2). 语法: const [xxx, setXxx] = React.useState(initValue)  </span><br><span class="line">(3). useState()说明:</span><br><span class="line">        参数: 第一次初始化指定的值在内部作缓存</span><br><span class="line">        返回值: 包含2个元素的数组, 第1个为内部当前状态值, 第2个为更新状态值的函数</span><br><span class="line">(4). setXxx()2种写法:</span><br><span class="line">        setXxx(newValue): 参数为非函数值, 直接指定新的状态值, 内部用其覆盖原来的状态值</span><br><span class="line">        setXxx(value =&gt; newValue): 参数为函数, 接收原本的状态值, 返回新的状态值, 内部用其覆盖原来的状态值</span><br></pre></td></tr></table></figure>

<blockquote>
<p>上面的initValue设置初始的state</p>
<p>数组中的第一个参数为将initValue加工后得到的state</p>
<p>第二个参数为steState()方法</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import React,&#123;useState&#125; from &#x27;react&#x27;</span><br><span class="line"></span><br><span class="line">export default function Demo() &#123;</span><br><span class="line">  let [count, setCount] = useState(0);</span><br><span class="line">  let [Name,setNam] = useState(&#x27;李四&#x27;)</span><br><span class="line">  function add() &#123;</span><br><span class="line">    setCount(val=&gt;(val+1))</span><br><span class="line">  &#125;</span><br><span class="line">  function setNamez() &#123;</span><br><span class="line">    setNam(&quot;张三&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;&#123;count&#125;&lt;/h1&gt;</span><br><span class="line">      &lt;h2&gt;&#123;Name&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;button onClick=&#123;add&#125;&gt;加一&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;setNamez&#125;&gt;改名&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Effect-Hook"><a href="#Effect-Hook" class="headerlink" title="Effect Hook"></a>Effect Hook</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(1). Effect Hook 可以让你在函数组件中执行副作用操作(用于模拟类组件中的生命周期钩子)</span><br><span class="line">(2). React中的副作用操作:</span><br><span class="line">        发ajax请求数据获取</span><br><span class="line">        设置订阅 / 启动定时器</span><br><span class="line">        手动更改真实DOM</span><br><span class="line">(3). 语法和说明: </span><br><span class="line">        useEffect(() =&gt; &#123; </span><br><span class="line">          // 在此可以执行任何带副作用操作</span><br><span class="line">          return () =&gt; &#123; // 在组件卸载前执行</span><br><span class="line">            // 在此做一些收尾工作, 比如清除定时器/取消订阅等</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, [stateValue]) // 如果指定的是[], 回调函数只会在第一次render()后执行</span><br><span class="line">    </span><br><span class="line">(4). 可以把 useEffect Hook 看做如下三个函数的组合</span><br><span class="line">        componentDidMount()</span><br><span class="line">        componentDidUpdate()</span><br><span class="line">    	componentWillUnmount() </span><br><span class="line">    	</span><br><span class="line">    	</span><br></pre></td></tr></table></figure>

<ul>
<li>当做componentDidMount和componentDidUpdate的时候</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function App() &#123;</span><br><span class="line">    const [count,setCount] = useState(0);</span><br><span class="line">    // 组件挂载完成之后 或 组件数据更新完成之后 执行</span><br><span class="line">    useEffect(() =&gt; &#123;</span><br><span class="line">        console.log(&#x27;组件挂载完成之后 或 组件数据更新完成之后 执行&#x27;);</span><br><span class="line">    &#125;)</span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &#123;count&#125;</span><br><span class="line">            &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;+1&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>仅当做comonentDidMount的时候</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useEffect(() =&gt; &#123;</span><br><span class="line">    console.log(&#x27;仅当做componentDidMount&#x27;);</span><br><span class="line">&#125;,[])</span><br></pre></td></tr></table></figure>

<ul>
<li>当做componentWillunmount的时候(注意：这里不是仅当做componentWillunmount)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useEffect(() =&gt; () =&gt; &#123;</span><br><span class="line">    console.log(&#x27;当做componentWillUnmount&#x27;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="Ref-Hook"><a href="#Ref-Hook" class="headerlink" title="Ref Hook"></a>Ref Hook</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(1). Ref Hook可以在函数组件中存储/查找组件内的标签或任意其它数据</span><br><span class="line">(2). 语法: const refContainer = useRef()</span><br><span class="line">(3). 作用:保存标签对象,功能与React.createRef()一样</span><br></pre></td></tr></table></figure>

<p>函数式组件使用</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> inputRef = <span class="title function_">useRef</span>();</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&#123;inputRef&#125;</span> /&gt;</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> show =&gt;()&#123;</span><br><span class="line">    inputRef.<span class="property">current</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Fragment"><a href="#Fragment" class="headerlink" title="Fragment"></a>Fragment</h2><h3 id="使用-2"><a href="#使用-2" class="headerlink" title="使用"></a>使用</h3><pre><code>&lt;Fragment&gt;&lt;Fragment&gt;
&lt;&gt;&lt;/&gt;
</code></pre>
<h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><blockquote>
<p>可以不用必须有一个真实的DOM根标签了</p>
</blockquote>
<h2 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h2><h3 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h3><blockquote>
<p>一种组件间通信方式, 常用于【祖组件】与【后代组件】间通信</p>
</blockquote>
<h3 id="使用-3"><a href="#使用-3" class="headerlink" title="使用"></a>使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>) 创建<span class="title class_">Context</span>容器对象：</span><br><span class="line">	<span class="keyword">const</span> <span class="title class_">XxxContext</span> = <span class="title class_">React</span>.<span class="title function_">createContext</span>()  </span><br><span class="line">	</span><br><span class="line"><span class="number">2</span>) 渲染子组时，外面包裹xxxContext.<span class="property">Provider</span>, 通过value属性给后代组件传递数据：</span><br><span class="line">	&lt;xxxContext.<span class="property">Provider</span> value=&#123;数据&#125;&gt;</span><br><span class="line">		子组件</span><br><span class="line">    &lt;/xxxContext.<span class="property">Provider</span>&gt;</span><br><span class="line">    </span><br><span class="line"><span class="number">3</span>) 后代组件读取数据：</span><br><span class="line"></span><br><span class="line">	<span class="comment">//第一种方式:仅适用于类组件 </span></span><br><span class="line">	  <span class="keyword">static</span> contextType = xxxContext  <span class="comment">// 声明接收context</span></span><br><span class="line">	  <span class="variable language_">this</span>.<span class="property">context</span> <span class="comment">// 读取context中的value数据</span></span><br><span class="line">	  </span><br><span class="line">	<span class="comment">//第二种方式: 函数组件与类组件都可以</span></span><br><span class="line">	  &lt;xxxContext.<span class="property">Consumer</span>&gt;</span><br><span class="line">	    &#123;</span><br><span class="line">	      <span class="function"><span class="params">value</span> =&gt;</span> ( <span class="comment">// value就是context中的value数据</span></span><br><span class="line">	        要显示的内容</span><br><span class="line">	      )</span><br><span class="line">	    &#125;</span><br><span class="line">	  &lt;/xxxContext.<span class="property">Consumer</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><pre><code>在应用开发中一般不用context, 一般都它的封装react插件
</code></pre>
<h3 id="存在的问题"><a href="#存在的问题" class="headerlink" title="存在的问题"></a>存在的问题</h3><blockquote>
<p>React创建使用上下文Context，遇到Uncaught ReferenceError: Cannot access ‘UserListContext‘ before initialization</p>
</blockquote>
<p>最初的方案<br>还原出问题的路径，首先看一下代码路径，一共两个文件</p>
<p><img src="/React/7a06e9f12651425fab6f62f0041372c1.png" alt="img"></p>
<p>UserList.js为父组件<br>CmpUserList.js为子组件<br>父组件提供数据给子组件。<br>其次，看一下思路，父组件会创建一个 Context 对象，并导出这个对象，export const UserListContext &#x3D; React.createContext()，接着子组件使用CmpUserList.contextType &#x3D; UserListContext来使用上下文。</p>
<p>代码如下：<br>父组件UserList.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">CmpUserList</span> <span class="keyword">from</span> <span class="string">&#x27;./CmpUserList&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">UserListContext</span> = <span class="title class_">React</span>.<span class="title function_">createContext</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserList</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(props)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">            <span class="attr">showPage</span>: <span class="string">&#x27;list&#x27;</span>,     <span class="comment">// 要显示的页面 list：列表</span></span><br><span class="line">            props</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    changePage = <span class="function">(<span class="params">page, props = &#123;&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">            <span class="attr">showPage</span>: page,</span><br><span class="line">            props</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> showCmp</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">showPage</span> === <span class="string">&#x27;list&#x27;</span>) &#123;</span><br><span class="line">            showCmp = <span class="language-xml"><span class="tag">&lt;<span class="name">CmpUserList</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">changePage</span>=<span class="string">&#123;this.changePage&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                &#123;<span class="attr">...this.state.props</span>&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                      /&gt;</span></span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">UserListContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;</span>&#x27;<span class="attr">214</span>&#x27;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">flex:</span> <span class="attr">1</span>, <span class="attr">display:</span> &#x27;<span class="attr">flex</span>&#x27;, <span class="attr">flexDirection:</span> &#x27;<span class="attr">column</span>&#x27;, <span class="attr">overflow:</span> &#x27;<span class="attr">auto</span>&#x27; &#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &#123;showCmp&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">UserListContext.Provider</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">connect</span>(<span class="function">(<span class="params">store, props</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        ...props</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="title class_">UserList</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>子组件<code>CmpUserList.js</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;</span><br><span class="line">import &#123; UserListContext &#125; from &#x27;./UserList&#x27;</span><br><span class="line"></span><br><span class="line">// 子组件</span><br><span class="line">class CmpUserList extends React.Component &#123;</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;div&gt;&#123;this.context&#125;&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CmpUserList.contextType = UserListContext</span><br><span class="line">export default CmpUserList</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/React/../../../../../media/mc/F/%E7%AC%94%E8%AE%B0/%E7%AC%94%E8%AE%B0/React.assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAeuatouS6juiHs-WWhA==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center.png" alt="在这里插入图片描述"></p>
<blockquote>
<p>注意：写成函数和类通用的方法可以</p>
</blockquote>
<p><strong>新方案</strong></p>
<p><strong>解决方案：新建一个js文件创建上下文，并导出给父子组件使用</strong>(即单独建一个文件存放上下文容器)</p>
<p>那么开始吧，</p>
<ul>
<li>新建一个<code>index.js</code>文件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 上下文</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="comment">// 用户列表</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">UserListContext</span> = <span class="title class_">React</span>.<span class="title function_">createContext</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>修改父组件<code>UserList.js</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;</span><br><span class="line">import &#123; connect &#125; from &#x27;react-redux&#x27;</span><br><span class="line"></span><br><span class="line">import CmpUserList from &#x27;./CmpUserList&#x27;</span><br><span class="line">import &#123; UserListContext &#125; from &#x27;../../context/index.js&#x27;   // 导入这个</span><br><span class="line"></span><br><span class="line">export const UserListContext = React.createContext()   // 删除这个</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class UserList extends React.Component &#123;</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props)</span><br><span class="line">        this.state = &#123;</span><br><span class="line">            showPage: &#x27;list&#x27;,     // 要显示的页面 list：列表/detail：详情/edit：编辑</span><br><span class="line">            props</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    changePage = (page, props = &#123;&#125;) =&gt; &#123;</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">            showPage: page,</span><br><span class="line">            props</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">        let showCmp</span><br><span class="line">        if (this.state.showPage === &#x27;list&#x27;) &#123;</span><br><span class="line">            showCmp = &lt;CmpUserList</span><br><span class="line">                changePage=&#123;this.changePage&#125;</span><br><span class="line">                &#123;...this.state.props&#125;</span><br><span class="line">                      /&gt;</span><br><span class="line">        &#125;</span><br><span class="line">        return (</span><br><span class="line">            &lt;UserListContext.Provider value=&#123;&#x27;214&#x27;&#125;&gt;</span><br><span class="line">                &lt;div style=&#123;&#123; flex: 1, display: &#x27;flex&#x27;, flexDirection: &#x27;column&#x27;, overflow: &#x27;auto&#x27; &#125;&#125;&gt;</span><br><span class="line">                    &#123;showCmp&#125;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/UserListContext.Provider&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default connect((store, props) =&gt; &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        ...props</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(UserList)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>修改子组件<code>CmpUserList.js</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import React from &#x27;react&#x27;</span><br><span class="line">import &#123; UserListContext &#125; from &#x27;../../../context&#x27;   // 导入这个</span><br><span class="line"></span><br><span class="line">import &#123; UserListContext &#125; from &#x27;./UserList&#x27;   // 删掉这个</span><br><span class="line"></span><br><span class="line">// 子组件</span><br><span class="line">class CmpUserList extends React.Component &#123;</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;div&gt;&#123;this.context&#125;&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CmpUserList.contextType = UserListContext</span><br><span class="line">export default CmpUserList</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/React/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAeuatouS6juiHs-WWhA==,size_20,color_FFFFFF,t_70,g_se,x_16.png" alt="img"></p>
<h2 id="继承component创建组件存在的问题"><a href="#继承component创建组件存在的问题" class="headerlink" title="继承component创建组件存在的问题"></a>继承component创建组件存在的问题</h2><h3 id="Component的2个问题"><a href="#Component的2个问题" class="headerlink" title="Component的2个问题"></a>Component的2个问题</h3><blockquote>
<ol>
<li><p>只要执行setState(),即使不改变状态数据, 组件也会重新render()</p>
</li>
<li><p>只当前组件重新render(), 就会自动重新render子组件 &#x3D;&#x3D;&gt; 效率低</p>
</li>
</ol>
</blockquote>
<h3 id="效率高的做法"><a href="#效率高的做法" class="headerlink" title="效率高的做法"></a>效率高的做法</h3><blockquote>
<p> 只有当组件的state或props数据发生改变时才重新render()</p>
</blockquote>
<h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><blockquote>
<p> Component中的shouldComponentUpdate()总是返回true</p>
</blockquote>
<h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">办法1: </span><br><span class="line">	重写shouldComponentUpdate()方法</span><br><span class="line">	比较新旧state或props数据, 如果有变化才返回true, 如果没有返回false</span><br><span class="line">办法2:  </span><br><span class="line">	使用PureComponent</span><br><span class="line">	PureComponent重写了shouldComponentUpdate(), 只有state或props数据有变化才返回true</span><br><span class="line">	注意: </span><br><span class="line">		只是进行state和props数据的浅比较, 如果只是数据对象内部数据变了, 返回false  </span><br><span class="line">		不要直接修改state数据, 而是要产生新数据</span><br><span class="line">项目中一般使用PureComponent来优化</span><br></pre></td></tr></table></figure>

<h3 id="PureComponent"><a href="#PureComponent" class="headerlink" title="PureComponent"></a>PureComponent</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">使用PureComponent</span><br><span class="line">PureComponent重写shouldComponentUpdate(), 只有state或props数据有变化才返回true</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意:<br>    只是进行state和props数据的<strong>浅比较</strong>, 如果只是数据对象内部数据变了, 返回false<br>    不要直接修改state数据, 而是要产生新数据<br>项目中一般使用PureComponent来优化</p>
</blockquote>
<p>(对象类型引用地址)</p>
<h2 id="render-props-插槽"><a href="#render-props-插槽" class="headerlink" title="render props(插槽)"></a>render props(插槽)</h2><h3 id="如何向组件内部动态传入带内容的结构-标签"><a href="#如何向组件内部动态传入带内容的结构-标签" class="headerlink" title="如何向组件内部动态传入带内容的结构(标签)?"></a>如何向组件内部动态传入带内容的结构(标签)?</h3><pre><code>Vue中: (插槽)
    使用slot技术, 也就是通过组件标签体传入结构  &lt;AA&gt;&lt;BB/&gt;&lt;/AA&gt;
React中:
    使用children props: 通过组件标签体传入结构
    使用render props: 通过组件标签属性传入结构, 一般用render函数属性
</code></pre>
<h3 id="children-props"><a href="#children-props" class="headerlink" title="children props"></a>children props</h3><pre><code>&lt;A&gt;
  &lt;B&gt;xxxx&lt;/B&gt;
&lt;/A&gt;
&#123;this.props.children&#125;
问题: 如果B组件需要A组件内的数据, ==&gt; 做不到 
</code></pre>
<h3 id="render-props"><a href="#render-props" class="headerlink" title="render props"></a>render props</h3><pre><code>&lt;A render=&#123;(data) =&gt; &lt;C data=&#123;data&#125;&gt;&lt;/C&gt;&#125;&gt;&lt;/A&gt;
A组件: &#123;this.props.render(内部state数据)&#125;
C组件: 读取A组件传入的数据显示 &#123;this.props.data&#125; 
</code></pre>
<p><img src="/React/image-20230109112313099.png" alt="image-20230109112313099"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;</span><br><span class="line">import &#x27;./index.css&#x27;</span><br><span class="line">import C from &#x27;../1_setState&#x27;</span><br><span class="line"></span><br><span class="line">export default class Parent extends Component &#123;</span><br><span class="line">	render() &#123;</span><br><span class="line">		return (</span><br><span class="line">			&lt;div className=&quot;parent&quot;&gt;</span><br><span class="line">				&lt;h3&gt;我是Parent组件&lt;/h3&gt;</span><br><span class="line">				&lt;A render=&#123;(name)=&gt;&lt;C name=&#123;name&#125;/&gt;&#125;/&gt;</span><br><span class="line">			&lt;/div&gt;</span><br><span class="line">		)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class A extends Component &#123;</span><br><span class="line">	state = &#123;name:&#x27;tom&#x27;&#125;</span><br><span class="line">	render() &#123;</span><br><span class="line">		console.log(this.props);</span><br><span class="line">		const &#123;name&#125; = this.state</span><br><span class="line">		return (</span><br><span class="line">			&lt;div className=&quot;a&quot;&gt;</span><br><span class="line">				&lt;h3&gt;我是A组件&lt;/h3&gt;</span><br><span class="line">				&#123;this.props.render(name)&#125;</span><br><span class="line">			&lt;/div&gt;</span><br><span class="line">		)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class B extends Component &#123;</span><br><span class="line">	render() &#123;</span><br><span class="line">		console.log(&#x27;B--render&#x27;);</span><br><span class="line">		return (</span><br><span class="line">			&lt;div className=&quot;b&quot;&gt;</span><br><span class="line">				&lt;h3&gt;我是B组件,&#123;this.props.name&#125;&lt;/h3&gt;</span><br><span class="line">			&lt;/div&gt;</span><br><span class="line">		)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="错误边界"><a href="#错误边界" class="headerlink" title="错误边界"></a>错误边界</h2><h3 id="理解："><a href="#理解：" class="headerlink" title="理解："></a>理解：</h3><p>错误边界：用来捕获后代组件错误，渲染出备用页面</p>
<h3 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h3><p>只能捕获后代组件生命周期产生的错误，不能捕获自己组件产生的错误和其他组件在合成事件、定时器中产生的错误</p>
<h3 id="使用方式："><a href="#使用方式：" class="headerlink" title="使用方式："></a>使用方式：</h3><p>getDerivedStateFromError配合componentDidCatch</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 生命周期函数，一旦后台组件报错，就会触发</span></span><br><span class="line"><span class="keyword">static</span> <span class="title function_">getDerivedStateFromError</span>(<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    <span class="comment">// 在render之前触发</span></span><br><span class="line">    <span class="comment">// 返回新的state</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">hasError</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 渲染组件时出错</span></span><br><span class="line"><span class="title function_">componentDidCatch</span>(<span class="params">error, info</span>) &#123;</span><br><span class="line">    <span class="comment">// 统计页面的错误。发送请求发送到后台去</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error, info);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="组件通信方式总"><a href="#组件通信方式总" class="headerlink" title="组件通信方式总"></a>组件通信方式总</h2><h3 id="方式："><a href="#方式：" class="headerlink" title="方式："></a>方式：</h3><pre><code>    props：
        (1).children props
        (2).render props
    消息订阅-发布：
        pubs-sub、event等等
    集中式管理：
        redux、dva等等
    conText:
        生产者-消费者模式
</code></pre>
<h3 id="组件间的关系"><a href="#组件间的关系" class="headerlink" title="组件间的关系"></a>组件间的关系</h3><pre><code>    父子组件：props
    兄弟组件(非嵌套组件)：消息订阅-发布、集中式管理
    祖孙组件(跨级组件)：消息订阅-发布、集中式管理、conText(用的少)
</code></pre>
<h2 id="React-Router-v6"><a href="#React-Router-v6" class="headerlink" title="React-Router v6"></a>React-Router v6</h2><img src="/React/f86f98dd6ff7d01b.png" style="width:50%;margin-left:50%;transform:translateX(-50%)">

<h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><ol>
<li><p>React Router 以三个不同的包发布到 npm 上，它们分别为：</p>
<ol>
<li>react-router: 路由的核心库，提供了很多的：组件、钩子。</li>
<li><strong style="color:#dd4d40"><strong>react-router-dom:</strong></strong> <strong style="color:#dd4d40">包含react-router所有内容，并添加一些专门用于 DOM 的组件，例如 <code>&lt;BrowserRouter&gt;</code>等 </strong>。</li>
<li>react-router-native: 包括react-router所有内容，并添加一些专门用于ReactNative的API，例如:<code>&lt;NativeRouter&gt;</code>等。</li>
</ol>
</li>
<li><p>与React Router 5.x 版本相比，改变了什么？</p>
<ol>
<li><p>内置组件的变化：移除<code>&lt;Switch/&gt;</code> ，新增 <code>&lt;Routes/&gt;</code>等。</p>
</li>
<li><p>语法的变化：<code>component=&#123;About&#125;</code> 变为 <code>element=&#123;&lt;About/&gt;&#125;</code>等。</p>
</li>
<li><p>新增多个hook：<code>useParams</code>、<code>useNavigate</code>、<code>useMatch</code>等。</p>
</li>
<li><p><strong style="color:#dd4d40">官方明确推荐函数式组件了！！！</strong></p>
<p>……</p>
</li>
</ol>
</li>
</ol>
<h3 id="Component"><a href="#Component" class="headerlink" title="Component"></a>Component</h3><h3 id="1-lt-BrowserRouter-gt"><a href="#1-lt-BrowserRouter-gt" class="headerlink" title="1. &lt;BrowserRouter&gt;"></a>1. <code>&lt;BrowserRouter&gt;</code></h3><ol>
<li><p>说明：<code>&lt;BrowserRouter&gt; </code>用于包裹整个应用。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&quot;react-dom&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BrowserRouter</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">BrowserRouter</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    &#123;/* 整体结构（通常为App组件） */&#125;</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">BrowserRouter</span>&gt;</span></span>,root</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-lt-HashRouter-gt"><a href="#2-lt-HashRouter-gt" class="headerlink" title="2. &lt;HashRouter&gt;"></a>2. <code>&lt;HashRouter&gt;</code></h3><ol>
<li>说明：作用与<code>&lt;BrowserRouter&gt;</code>一样，但<code>&lt;HashRouter&gt;</code>修改的是地址栏的hash值。</li>
<li>备注：6.x版本中<code>&lt;HashRouter&gt;</code>、<code>&lt;BrowserRouter&gt; </code> 的用法与 5.x 相同。</li>
</ol>
<h3 id="3-lt-Routes-gt-与-lt-Route-gt"><a href="#3-lt-Routes-gt-与-lt-Route-gt" class="headerlink" title="3. &lt;Routes/&gt; 与 &lt;Route/&gt;"></a>3. <code>&lt;Routes/&gt; 与 &lt;Route/&gt;</code></h3><ol>
<li><p>v6版本中移出了先前的<code>&lt;Switch&gt;</code>，引入了新的替代者：<code>&lt;Routes&gt;</code>。</p>
</li>
<li><p><code>&lt;Routes&gt;</code> 和 <code>&lt;Route&gt;</code>要配合使用，且必须要用<code>&lt;Routes&gt;</code>包裹<code>&lt;Route&gt;</code>。</p>
</li>
<li><p><code>&lt;Route&gt;</code> 相当于一个 if 语句，如果其路径与当前 URL 匹配，则呈现其对应的组件。</p>
</li>
<li><p><code>&lt;Route caseSensitive&gt;</code> 属性用于指定：<strong>匹配时是否区分大小写（默认为 false）</strong>。</p>
</li>
<li><p>当URL发生变化时，<code>&lt;Routes&gt; </code>都会查看其所有子<code> &lt;Route&gt;</code> 元素以找到最佳匹配并呈现组件 。</p>
</li>
<li><p><code>&lt;Route&gt;</code> 也可以嵌套使用，且可配合<code>useRoutes()</code>配置 “<strong>路由表</strong>” ，但需要通过 <code>&lt;Outlet&gt;</code> 组件来渲染其子路由。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Routes</span>&gt;</span><br><span class="line">    <span class="comment">/*path属性用于定义路径，element属性用于定义当前路径所对应的组件*/</span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;/login&quot;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Login</span> /&gt;</span>&#125;&gt;<span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">		<span class="comment">/*用于定义嵌套路由，home是一级路由，对应的路径/home*/</span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;home&quot;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Home</span> /&gt;</span>&#125;&gt;</span></span><br><span class="line"><span class="language-xml">       /*test1 和 test2 是二级路由,对应的路径是/home/test1 或 /home/test2*/</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;test1&quot;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Test</span>/&gt;</span>&#125;&gt;<span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;test2&quot;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Test2</span>/&gt;</span>&#125;&gt;<span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">	</span><br><span class="line">		<span class="comment">//Route也可以不写element属性, 这时就是用于展示嵌套的路由 .所对应的路径是/users/xxx</span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;users&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;xxx&quot;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Demo</span> /&gt;</span>&#125; /&gt;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">&lt;/<span class="title class_">Routes</span>&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="4-lt-Link-gt"><a href="#4-lt-Link-gt" class="headerlink" title="4. &lt;Link&gt;"></a>4. <code>&lt;Link&gt;</code></h3><ol>
<li><p>作用: 修改URL，且不发送网络请求（路由链接）。</p>
</li>
<li><p>注意: 外侧需要用<code>&lt;BrowserRouter&gt;</code>或<code>&lt;HashRouter&gt;</code>包裹。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Link</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    	<span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/路径&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="5-lt-NavLink-gt"><a href="#5-lt-NavLink-gt" class="headerlink" title="5. &lt;NavLink&gt;"></a>5. <code>&lt;NavLink&gt;</code></h3><ol>
<li><p>作用: 与<code>&lt;Link&gt;</code>组件类似，且可实现导航的“高亮”效果。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注意: NavLink默认类名是active，下面是指定自定义的class</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//自定义样式</span></span><br><span class="line">&lt;<span class="title class_">NavLink</span></span><br><span class="line">    to=<span class="string">&quot;login&quot;</span></span><br><span class="line">    className=&#123;<span class="function">(<span class="params">&#123; isActive &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 传递一个对象参数，包含一个属性isActive，表示是否点击选中</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;home&#x27;</span>, isActive)</span><br><span class="line">        <span class="keyword">return</span> isActive ? <span class="string">&#x27;base one&#x27;</span> : <span class="string">&#x27;base&#x27;</span></span><br><span class="line">    &#125;&#125;</span><br><span class="line">&gt;login&lt;/<span class="title class_">NavLink</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	默认情况下，当Home的子组件匹配成功，Home的导航也会高亮，</span></span><br><span class="line"><span class="comment">	当NavLink上添加了end属性后，若Home的子组件匹配成功，则Home的导航没有高亮效果。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">NavLink</span> <span class="attr">to</span>=<span class="string">&quot;home&quot;</span> <span class="attr">end</span> &gt;</span>home<span class="tag">&lt;/<span class="name">NavLink</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>注意: NavLink默认类名是active，下面是指定自定义的class</p>
<p>当NavLink上添加了end属性后，若Home的<strong>子组件匹配成功</strong>，则Home的导航没有高亮效果</p>
<h3 id="6-lt-Navigate-gt"><a href="#6-lt-Navigate-gt" class="headerlink" title="6. &lt;Navigate&gt;"></a>6. <code>&lt;Navigate&gt;</code></h3><ol>
<li><p>作用：只要<code>&lt;Navigate&gt;</code>组件被渲染，就会修改路径，切换视图。</p>
</li>
<li><p><code>replace</code>属性用于控制跳转模式（push 或 replace，默认是push）。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>,&#123;useState&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Navigate</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Home</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">const</span> [sum,setSum] = <span class="title function_">useState</span>(<span class="number">1</span>)</span><br><span class="line">	<span class="keyword">return</span> (</span><br><span class="line">		<span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">h3</span>&gt;</span>我是Home的内容<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			&#123;/* 根据sum的值决定是否切换视图 */&#125;</span></span><br><span class="line"><span class="language-xml">			&#123;sum === 1 ? <span class="tag">&lt;<span class="name">h4</span>&gt;</span>sum的值为&#123;sum&#125;<span class="tag">&lt;/<span class="name">h4</span>&gt;</span> : <span class="tag">&lt;<span class="name">Navigate</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span> <span class="attr">replace</span>=<span class="string">&#123;true&#125;/</span>&gt;</span>&#125;</span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span>=&gt;</span>setSum(2)&#125;&gt;点我将sum变为2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">	)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="7-lt-Outlet-gt"><a href="#7-lt-Outlet-gt" class="headerlink" title="7. &lt;Outlet&gt;"></a>7. <code>&lt;Outlet&gt;</code></h3><ol>
<li><p>当<code>&lt;Route&gt;</code>产生嵌套时，渲染其对应的后续子路由。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据路由表生成对应的路由规则</span></span><br><span class="line"><span class="keyword">const</span> element = <span class="title function_">useRoutes</span>([</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    <span class="attr">element</span>:<span class="language-xml"><span class="tag">&lt;<span class="name">About</span>/&gt;</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="attr">element</span>:<span class="language-xml"><span class="tag">&lt;<span class="name">Home</span>/&gt;</span></span>,</span><br><span class="line">    <span class="attr">children</span>:[</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 子级路由不带斜杠</span></span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;news&#x27;</span>,</span><br><span class="line">        <span class="attr">element</span>:<span class="language-xml"><span class="tag">&lt;<span class="name">News</span>/&gt;</span></span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">        <span class="attr">element</span>:<span class="language-xml"><span class="tag">&lt;<span class="name">Message</span>/&gt;</span></span>,</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="comment">//Home.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">NavLink</span>,<span class="title class_">Outlet</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Home</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> (</span><br><span class="line">		<span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">h2</span>&gt;</span>Home组件内容<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">ul</span> <span class="attr">className</span>=<span class="string">&quot;nav nav-tabs&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">					<span class="tag">&lt;<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        &#123;// 写斜杠就必须带上父级路由路径，不写斜杠可以只写</span></span><br><span class="line"><span class="language-xml">                        &#125;</span></span><br><span class="line"><span class="language-xml">						<span class="tag">&lt;<span class="name">NavLink</span> <span class="attr">className</span>=<span class="string">&quot;list-group-item&quot;</span> <span class="attr">to</span>=<span class="string">&quot;news&quot;</span>&gt;</span>News<span class="tag">&lt;/<span class="name">NavLink</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">					<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">					<span class="tag">&lt;<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">						<span class="tag">&lt;<span class="name">NavLink</span> <span class="attr">className</span>=<span class="string">&quot;list-group-item&quot;</span> <span class="attr">to</span>=<span class="string">&quot;message&quot;</span>&gt;</span>Message<span class="tag">&lt;/<span class="name">NavLink</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">					<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">				&#123;/* 指定路由组件呈现的位置 */&#125;</span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">Outlet</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">	)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="react-router-dom-v6-的类组件使用路由的参数"><a href="#react-router-dom-v6-的类组件使用路由的参数" class="headerlink" title="react-router-dom v6 的类组件使用路由的参数"></a>react-router-dom v6 的类组件使用路由的参数</h2><p>react-router从v5升级到v6之后做了非常大的改动（刚学习的时候非常头疼）：<br>具体的新特性可以看这篇文章：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_40906515/article/details/104957712">https://blog.csdn.net/weixin_40906515/article/details/104957712</a><br>也可以看react-router的官方网站的迁移策略：<a target="_blank" rel="noopener" href="https://reactrouter.com/docs/en/v6/upgrading/v5">https://reactrouter.com/docs/en/v6/upgrading/v5</a></p>
<p>在react-router v6的文档以及很多网上的博客中，在组件中使用路由参数location、history、match的时候，介绍的只有在函数组件中使用hooks的形式（官方推荐），经过尝试，确实可以实现。但是在类组件中如何使用根本没有提到，我做了一个实验发现根本获取不到，如下图：</p>
<p><img src="/React/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA54uX5Ymp6ZuG5Zui,size_20,color_FFFFFF,t_70,g_se,x_16.png" alt="在这里插入图片描述"></p>
<p>这是一个类组件，并且，这个组件是通过路由进入访问的，不是普通组件：</p>
<p><img src="/React/04c25983de3340679bbb7ae2d2dafdf0.png" alt="在这里插入图片描述"></p>
<p><strong>在运行控制台打印的是：</strong></p>
<p><img src="/React/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA54uX5Ymp6ZuG5Zui,size_20,color_FFFFFF,t_70,g_se,x_16-16732662034247.png" alt="在这里插入图片描述"></p>
<p>发现props是一个空对象！！！ 这样很多的功能根本通过路由参数实现不了了，比如：</p>
<p>编程式路由导航，在非受控组件中可以使用useNavigate这个钩子进行导航，而在类组件中无能为力，只能想办法使用<Navigate>这个标签，非常的麻烦，可以看看这篇文章：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/5bdfd2fac2cd">https://www.jianshu.com/p/5bdfd2fac2cd</a><br>获取路由参数 ，在以往的react-router-dom版本中，路由的三个参数location、history、match都是直接挂载到组件的props身上，即使组件不是路由组件，也可以使用withRouter高阶组件对普通组件进行增强，也可以将这三个参数带到props身上。在v6版本中withRouter直接被移除。怎么办？<br>估计官方的目的是极力推荐我们使用React Hooks ，从而提高类组件的使用门槛（tm不能像vue那样做做兼容，平滑过度吗？）。只能自己编写高阶组件withRouter从而实现这一需求，可以看看这篇文章中的回答：<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/ask/sof/296970">https://cloud.tencent.com/developer/ask/sof/296970</a></Navigate></p>
<p>js写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">withRouter</span>(<span class="params"> Child </span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params"> props </span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> location = <span class="title function_">useLocation</span>();</span><br><span class="line">    <span class="keyword">const</span> navigate = <span class="title function_">useNavigate</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Child</span> &#123; <span class="attr">...props</span> &#125; <span class="attr">navigate</span>=<span class="string">&#123;</span> <span class="attr">navigate</span> &#125; <span class="attr">location</span>=<span class="string">&#123;</span> <span class="attr">location</span> &#125; /&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ts写法</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NavigateFunction</span>, useLocation, useNavigate, useParams &#125; <span class="keyword">from</span> <span class="string">&quot;react-router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">RoutedProps</span>&lt;<span class="title class_">Params</span> = <span class="built_in">any</span>, <span class="title class_">State</span> = <span class="built_in">any</span>&gt; &#123;</span><br><span class="line">    <span class="attr">location</span>: <span class="title class_">State</span>;</span><br><span class="line">    <span class="attr">navigate</span>: <span class="title class_">NavigateFunction</span>;</span><br><span class="line">    <span class="attr">params</span>: <span class="title class_">Params</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> withRouter&lt;P <span class="keyword">extends</span> <span class="title class_">RoutedProps</span>&gt;( <span class="title class_">Child</span>: <span class="title class_">React</span>.<span class="property">ComponentClass</span>&lt;P&gt; ) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params"> props: Omit&lt;P, keyof RoutedProps&gt; </span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> location = <span class="title function_">useLocation</span>();</span><br><span class="line">        <span class="keyword">const</span> navigate = <span class="title function_">useNavigate</span>();</span><br><span class="line">        <span class="keyword">const</span> params = <span class="title function_">useParams</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Child</span> &#123; <span class="attr">...props</span> <span class="attr">as</span> <span class="attr">P</span> &#125; <span class="attr">navigate</span>=<span class="string">&#123;</span> <span class="attr">navigate</span> &#125; <span class="attr">location</span>=<span class="string">&#123;</span> <span class="attr">location</span> &#125; <span class="attr">params</span>=<span class="string">&#123;</span> <span class="attr">params</span> &#125;/&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>在使用的时候：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import &#123; withRouter, RoutedProps &#125; from &#x27;../../utils/withRouter&#x27;;</span><br><span class="line"></span><br><span class="line">class ArticleList extends Component&lt;RoutedProps&gt; &#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    articleList: [],</span><br><span class="line">    curPage: 1,</span><br><span class="line">    loginToken: getToken(),</span><br><span class="line">    loginUser: getLoginUser()</span><br><span class="line">  &#125;</span><br><span class="line">  componentWillMount() &#123;</span><br><span class="line">    console.log(this)</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        ...</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default withRouter(ArticleList);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>在控制台输出</strong></p>
<p><img src="/React/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA54uX5Ymp6ZuG5Zui,size_20,color_FFFFFF,t_70,g_se,x_16-167326632034410.png" alt="img"></p>
<h2 id="Hooks-1"><a href="#Hooks-1" class="headerlink" title="Hooks"></a>Hooks</h2><h3 id="1-useRoutes"><a href="#1-useRoutes" class="headerlink" title="1. useRoutes()"></a>1. useRoutes()</h3><ol>
<li><p>作用：根据路由表，动态创建<code>&lt;Routes&gt;</code>和<code>&lt;Route&gt;</code>。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//路由表配置：src/routes/index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;../pages/About&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;../pages/Home&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Navigate</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">		<span class="attr">element</span>:<span class="language-xml"><span class="tag">&lt;<span class="name">About</span>/&gt;</span></span></span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">		<span class="attr">element</span>:<span class="language-xml"><span class="tag">&lt;<span class="name">Home</span>/&gt;</span></span></span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">		<span class="attr">element</span>:<span class="language-xml"><span class="tag">&lt;<span class="name">Navigate</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>/&gt;</span></span></span><br><span class="line">	&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">//App.jsx</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">NavLink</span>,useRoutes&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> routes <span class="keyword">from</span> <span class="string">&#x27;./routes&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="comment">//根据路由表生成对应的路由规则</span></span><br><span class="line">    <span class="comment">// UseRoutes ()只能在 &lt; Router &gt; 组件的上下文中使用</span></span><br><span class="line">	<span class="keyword">const</span> element = <span class="title function_">useRoutes</span>(routes)</span><br><span class="line">	<span class="keyword">return</span> (</span><br><span class="line">		<span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			......</span></span><br><span class="line"><span class="language-xml">      &#123;/* 注册路由 */&#125;</span></span><br><span class="line"><span class="language-xml">      &#123;element&#125;</span></span><br><span class="line"><span class="language-xml">		  ......</span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">	)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>UseRoutes ()只能在 &lt; Router &gt; 组件的上下文中使用</p>
</blockquote>
<h3 id="2-useNavigate-编程式导航"><a href="#2-useNavigate-编程式导航" class="headerlink" title="2. useNavigate()编程式导航"></a>2. useNavigate()编程式导航</h3><ol>
<li><p>作用：返回一个函数用来实现编程式导航。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;useNavigate&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> navigate = <span class="title function_">useNavigate</span>()</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handle</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">//第一种使用方式：指定具体的路径</span></span><br><span class="line">    <span class="title function_">navigate</span>(<span class="string">&#x27;/login&#x27;</span>, &#123;</span><br><span class="line">      <span class="attr">replace</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">state</span>: &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line">    &#125;) </span><br><span class="line">    <span class="comment">//第二种使用方式：传入数值进行前进或后退，类似于5.x中的 history.go()方法</span></span><br><span class="line">    <span class="title function_">navigate</span>(-<span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;handle&#125;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="3-useParams-路由传递params参数"><a href="#3-useParams-路由传递params参数" class="headerlink" title="3. useParams()路由传递params参数"></a>3. useParams()路由传递<code>params</code>参数</h3><ol>
<li><p>作用：回当前匹配路由的<code>params</code>参数，类似于5.x中的<code>match.params</code>。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Routes</span>, <span class="title class_">Route</span>, useParams &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">User</span> <span class="keyword">from</span> <span class="string">&#x27;./pages/User.jsx&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ProfilePage</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 获取URL中携带过来的params参数</span></span><br><span class="line">  <span class="keyword">let</span> &#123; id &#125; = <span class="title function_">useParams</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Routes</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;users/:id&quot;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">User</span> /&gt;</span>&#125;/&gt;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Routes</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="4-useSearchParams-路由传递seaech参数"><a href="#4-useSearchParams-路由传递seaech参数" class="headerlink" title="4. useSearchParams()路由传递seaech参数"></a>4. useSearchParams()路由传递seaech参数</h3><ol>
<li><p>作用：用于读取和修改当前位置的 URL 中的查询字符串。</p>
</li>
<li><p>返回一个包含两个值的数组，内容分别为：当前的seaech参数、更新search的函数。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;useSearchParams&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Detail</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">const</span> [search,setSearch] = <span class="title function_">useSearchParams</span>()</span><br><span class="line">	<span class="keyword">const</span> id = search.<span class="title function_">get</span>(<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line">	<span class="keyword">const</span> title = search.<span class="title function_">get</span>(<span class="string">&#x27;title&#x27;</span>)</span><br><span class="line">	<span class="keyword">const</span> content = search.<span class="title function_">get</span>(<span class="string">&#x27;content&#x27;</span>)</span><br><span class="line">	<span class="keyword">return</span> (</span><br><span class="line">		<span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span>=&gt;</span>setSearch(&#x27;id=008&amp;title=哈哈&amp;content=嘻嘻&#x27;)&#125;&gt;点我更新一下收到的search参数<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>消息编号：&#123;id&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>消息标题：&#123;title&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>消息内容：&#123;content&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">	)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="5-useLocation-路由传递state参数"><a href="#5-useLocation-路由传递state参数" class="headerlink" title="5. useLocation()路由传递state参数"></a>5. useLocation()路由传递state参数</h3><ol>
<li><p>作用：获取当前 location 信息，对标5.x中的路由组件的<code>location</code>属性。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;useLocation&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Detail</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">const</span> x = <span class="title function_">useLocation</span>()</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;@&#x27;</span>,x)</span><br><span class="line">  <span class="comment">// x就是location对象: </span></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		&#123;</span></span><br><span class="line"><span class="comment">      hash: &quot;&quot;,</span></span><br><span class="line"><span class="comment">      key: &quot;ah9nv6sz&quot;,</span></span><br><span class="line"><span class="comment">      pathname: &quot;/login&quot;,</span></span><br><span class="line"><span class="comment">      search: &quot;?name=zs&amp;age=18&quot;,</span></span><br><span class="line"><span class="comment">      state: &#123;a: 1, b: 2&#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="keyword">return</span> (</span><br><span class="line">		<span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>消息编号：&#123;id&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>消息标题：&#123;title&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>消息内容：&#123;content&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">	)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="6-useMatch"><a href="#6-useMatch" class="headerlink" title="6. useMatch()"></a>6. useMatch()</h3><ol>
<li><p>作用：返回当前匹配信息，对标5.x中的路由组件的<code>match</code>属性。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Route</span> path=<span class="string">&quot;/login/:page/:pageSize&quot;</span> element=&#123;<span class="language-xml"><span class="tag">&lt;<span class="name">Login</span> /&gt;</span></span>&#125;/&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">NavLink</span> <span class="attr">to</span>=<span class="string">&quot;/login/1/10&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">NavLink</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Login</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> match = <span class="title function_">useMatch</span>(<span class="string">&#x27;/login/:x/:y&#x27;</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(match) <span class="comment">//输出match对象</span></span><br><span class="line">  <span class="comment">//match对象内容如下：</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  	&#123;</span></span><br><span class="line"><span class="comment">      params: &#123;x: &#x27;1&#x27;, y: &#x27;10&#x27;&#125;</span></span><br><span class="line"><span class="comment">      pathname: &quot;/LoGin/1/10&quot;  </span></span><br><span class="line"><span class="comment">      pathnameBase: &quot;/LoGin/1/10&quot;</span></span><br><span class="line"><span class="comment">      pattern: &#123;</span></span><br><span class="line"><span class="comment">      	path: &#x27;/login/:x/:y&#x27;, </span></span><br><span class="line"><span class="comment">      	caseSensitive: false, </span></span><br><span class="line"><span class="comment">      	end: false</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">  	<span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Login<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="7-useInRouterContext"><a href="#7-useInRouterContext" class="headerlink" title="7. useInRouterContext()"></a>7. useInRouterContext()</h3><p>作用：如果组件在 <code>&lt;Router&gt;</code> 的上下文中呈现，则 <code>useInRouterContext</code> 钩子返回 true，否则返回 false。</p>
<h3 id="8-useNavigationType"><a href="#8-useNavigationType" class="headerlink" title="8. useNavigationType()"></a>8. useNavigationType()</h3><ol>
<li>作用：返回当前的导航类型（用户是如何来到当前页面的）。</li>
<li>返回值：<code>POP</code>、<code>PUSH</code>、<code>REPLACE</code>。</li>
<li>备注：<code>POP</code>是指在浏览器中直接打开了这个路由组件（刷新页面）。</li>
</ol>
<h3 id="9-useOutlet"><a href="#9-useOutlet" class="headerlink" title="9. useOutlet()"></a>9. useOutlet()</h3><ol>
<li><p>作用：用来呈现当前组件中渲染的嵌套路由。</p>
</li>
<li><p>示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = <span class="title function_">useOutlet</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line"><span class="comment">// 如果嵌套路由没有挂载,则result为null</span></span><br><span class="line"><span class="comment">// 如果嵌套路由已经挂载,则展示嵌套的路由对象</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="10-useResolvedPath"><a href="#10-useResolvedPath" class="headerlink" title="10.useResolvedPath()"></a>10.useResolvedPath()</h3><ol>
<li>作用：给定一个 URL值，解析其中的：path、search、hash值。</li>
</ol>

    

    
    <div class="page-reward">
      <a href="javascript:void(0);" class="page-reward-btn tooltip-top" target="_self">
        <div class="tooltip tooltip-east">
          <span class="tooltip-item">
            赏
          </span>
          <span class="tooltip-content">
            <span class="tooltip-text">
              <span class="tooltip-inner">
                <p class="reward-p"><i class="icon icon-quo-left"></i>谢谢你请我吃糖果<i
                    class="icon icon-quo-right"></i></p>
                <div class="reward-box">
                  
                  <div class="reward-box-item">
                    <img class="reward-img" src="/img/alipay.png">
                    <span class="reward-type">支付宝</span>
                  </div>
                  
                  
                  <div class="reward-box-item">
                    <img class="reward-img" src="/img/weixin.png">
                    <span class="reward-type">微信</span>
                  </div>
                  
                </div>
              </span>
            </span>
          </span>
        </div>
      </a>
    </div>
    

    
    <div class="declare"> 
      <ul class="post-copyright">
        <li>
          <strong>本文作者：</strong>
          沐澈
        </li>
        <li>
          <strong>本文链接：</strong>
          <a href="https://clear-liquid.github.io/React/" title="React" target="_blank">https://clear-liquid.github.io/React/</a>
        </li>
        
        <li>
          <strong>版权声明： </strong>
          
          本博客所有文章除特别声明外，均采用 <a href="https://github.com/JoeyBling/hexo-theme-yilia-plus/blob/master/LICENSE" rel="external nofollow" target="_blank">MIT</a> 许可协议。转载请注明出处！
        </li>
        
      </ul>
    </div>
    

  </div>
  <div class="article-info article-info-index">
    
    
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			
				<li class="article-tag-list-item">
					<a href="javascript:void(0)"
						class="js-tag article-tag-list-link color3">框架</a>
				</li>
				
		</ul>
	</div>
	
    
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/学习笔记//" class="article-tag-list-link color5">学习笔记</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="/categories/学习笔记/框架//" class="article-tag-list-link color3">框架</a>
        		</li>
      		
		</ul>
	</div>


    

    
    
<div class="share-btn share-icons tooltip-left">
  <div class="tooltip tooltip-east">
    <span class="tooltip-item">
      <a href="javascript:;" class="share-sns share-outer">
        <i class="icon icon-share"></i>
      </a>
    </span>
    <span class="tooltip-content">
      <div class="share-wrap">
        <div class="share-icons">
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="icon icon-weibo"></i>
          </a>
          <!-- <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="icon icon-weixin"></i>
          </a> -->
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="icon icon-qq"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="icon icon-douban"></i>
          </a>
          <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a>
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="icon icon-facebook"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="icon icon-twitter"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="icon icon-google"></i>
          </a>
        </div>
      </div>
    </span>
  </div>
</div>

<div class="page-modal wx-share js-wx-box">
    <a class="close js-modal-close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
     <!-- <img src="//pan.baidu.com/share/qrcode?url=https://clear-liquid.github.io/React/" alt="微信分享二维码"> -->
    </div>
</div>

<div class="mask js-mask"></div>

    
    <div class="clearfix"></div>
  </div>
  </div>
</article>


<nav id="article-nav">
  
    <a href="/Less/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          Less
        
      </div>
    </a>
  
  
    <a href="/TS/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">TS</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>


<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
        <div class="toc-container tooltip-left">
            <i class="icon-font icon-category"></i>
            <div class="tooltip tooltip-east">
                <span class="tooltip-item">
                </span>
                <span class="tooltip-content">
                    <div class="toc-article">
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#React"><span class="toc-number">1.</span> <span class="toc-text">React</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#React%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.</span> <span class="toc-text">React简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React%E5%85%A5%E9%97%A8"><span class="toc-number">1.2.</span> <span class="toc-text">React入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#React-%E5%9F%BA%E7%A1%80%E6%A1%88%E4%BE%8B"><span class="toc-number">1.2.1.</span> <span class="toc-text">React 基础案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9FDOM%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.2.</span> <span class="toc-text">两种创建虚拟DOM的方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9C%9F%E5%AE%9E-x2F-%E8%99%9A%E6%8B%9FDOM%E6%AF%94%E8%BE%83"><span class="toc-number">1.2.3.</span> <span class="toc-text">真实&#x2F;虚拟DOM比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSX%E5%9F%BA%E7%A1%80%E8%AF%AD%E8%A8%80%E6%B3%95"><span class="toc-number">1.2.4.</span> <span class="toc-text">JSX基础语言法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jsx%E8%AF%AD%E6%B3%95%E7%BB%83%E4%B9%A0"><span class="toc-number">1.2.5.</span> <span class="toc-text">jsx语法练习</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E7%BB%84%E4%BB%B6%E5%8C%96%E7%90%86%E8%A7%A3"><span class="toc-number">1.2.6.</span> <span class="toc-text">模块组件化理解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6"><span class="toc-number">1.3.</span> <span class="toc-text">组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BB%84%E4%BB%B6"><span class="toc-number">1.3.1.</span> <span class="toc-text">创建函数式组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%B1%BB%E5%BC%8F%E7%BB%84%E4%BB%B6"><span class="toc-number">1.3.2.</span> <span class="toc-text">创建类式组件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%AE%9E%E4%BE%8B%E7%9A%84%E4%B8%89%E5%A4%A7%E5%B1%9E%E6%80%A7"><span class="toc-number">1.4.</span> <span class="toc-text">组件实例的三大属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81state"><span class="toc-number">1.4.1.</span> <span class="toc-text">状态state</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%86%99%E5%BD%A2%E5%BC%8F"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">简写形式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E9%A1%B9"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">注意项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E9%A1%BE"><span class="toc-number">1.4.1.4.</span> <span class="toc-text">回顾</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#prop"><span class="toc-number">1.4.2.</span> <span class="toc-text">prop</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%86%99%E5%BD%A2%E5%BC%8F-1"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">简写形式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%95%E5%BC%80%E8%BF%90%E7%AE%97%E7%AC%A6%E5%9C%A8react%E7%9A%84%E7%89%B9%E6%AE%8A%E6%83%85%E5%86%B5"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">展开运算符在react的特殊情况</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9props%E8%BF%9B%E8%A1%8C%E9%99%90%E5%88%B6"><span class="toc-number">1.4.2.4.</span> <span class="toc-text">对props进行限制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E4%B8%AD%E7%9A%84%E6%9E%84%E9%80%A0%E5%99%A8%E4%B8%8Eprops"><span class="toc-number">1.4.2.5.</span> <span class="toc-text">类中的构造器与props</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E7%9A%84props"><span class="toc-number">1.4.2.6.</span> <span class="toc-text">函数组件的props</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ref"><span class="toc-number">1.4.3.</span> <span class="toc-text">ref</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BD%A2%E5%BC%8F%E7%9A%84ref%EF%BC%88%E4%B8%8D%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E4%BA%86%E4%B8%8D%E4%B9%85%E5%90%8E%E5%8F%AF%E8%83%BD%E4%BC%9A%E8%A2%AB%E5%BA%9F%E5%BC%83%EF%BC%89"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">字符串形式的ref（不推荐使用了不久后可能会被废弃）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E5%BD%A2%E5%BC%8F%E7%9A%84ref"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">回调函数形式的ref</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ref-%E7%9A%84%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E6%88%90-class-%E7%9A%84%E7%BB%91%E5%AE%9A%E5%87%BD%E6%95%B0%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">1.4.3.3.</span> <span class="toc-text">ref 的回调函数定义成 class 的绑定函数的方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#createRef-%E5%BD%A2%E5%BC%8F%E7%9A%84ref"><span class="toc-number">1.4.3.4.</span> <span class="toc-text">createRef() 形式的ref</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E9%A1%B9-1"><span class="toc-number">1.4.3.5.</span> <span class="toc-text">注意项</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#react%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">1.5.</span> <span class="toc-text">react事件处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#react%E6%94%B6%E9%9B%86%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="toc-number">1.6.</span> <span class="toc-text">react收集表单数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6"><span class="toc-number">1.6.1.</span> <span class="toc-text">受控组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6"><span class="toc-number">1.6.2.</span> <span class="toc-text">非受控组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%E5%B9%B6%E4%BC%A0%E5%8F%82%E6%95%B0"><span class="toc-number">1.6.3.</span> <span class="toc-text">绑定事件并传参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E6%9F%AF%E9%87%8C%E5%8C%96%E4%B8%8E%E9%9D%9E%E6%9F%AF%E9%87%8C%E5%8C%96%E5%86%99%E6%B3%95"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">函数的柯里化与非柯里化写法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90"><span class="toc-number">1.7.</span> <span class="toc-text">生命周期钩子</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%9F%E5%8A%A9%E7%94%9F%E5%87%BD%E6%95%B0%E9%92%A9%E5%AD%90"><span class="toc-number">1.7.1.</span> <span class="toc-text">借助生函数钩子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE%EF%BC%88%E6%97%A7%EF%BC%89"><span class="toc-number">1.7.2.</span> <span class="toc-text">生命周期流程图（旧）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE%EF%BC%88%E6%96%B0%EF%BC%89"><span class="toc-number">1.7.3.</span> <span class="toc-text">生命周期流程图（新）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#componentDidMount"><span class="toc-number">1.7.3.1.</span> <span class="toc-text">componentDidMount</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getDerivedStateFromProps"><span class="toc-number">1.7.3.2.</span> <span class="toc-text">getDerivedStateFromProps</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#componentDidUpdate"><span class="toc-number">1.7.3.3.</span> <span class="toc-text">componentDidUpdate()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getSnapshotBeforeUpdate"><span class="toc-number">1.7.3.4.</span> <span class="toc-text">getSnapshotBeforeUpdate</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E7%9A%84%E5%8B%BE%E5%AD%90"><span class="toc-number">1.7.4.</span> <span class="toc-text">重要的勾子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%B3%E5%B0%86%E5%BA%9F%E5%BC%83%E7%9A%84%E5%8B%BE%E5%AD%90"><span class="toc-number">1.7.5.</span> <span class="toc-text">即将废弃的勾子</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dom-diffing%E7%AE%97%E6%B3%95"><span class="toc-number">1.8.</span> <span class="toc-text">dom diffing算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81dom-diffing%E7%AE%97%E6%B3%95"><span class="toc-number">1.8.1.</span> <span class="toc-text">验证dom diffing算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#react%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.8.2.</span> <span class="toc-text">react实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%89%8B%E6%9E%B6"><span class="toc-number">1.9.</span> <span class="toc-text">脚手架</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#react%E8%84%9A%E6%89%8B%E6%9E%B6"><span class="toc-number">1.9.1.</span> <span class="toc-text">react脚手架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E5%B9%B6%E5%90%AF%E5%8A%A8"><span class="toc-number">1.9.2.</span> <span class="toc-text">创建项目并启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%89%8B%E6%9E%B6%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-number">1.9.3.</span> <span class="toc-text">脚手架项目结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E7%95%8C%E9%9D%A2%E7%9A%84%E7%BB%84%E4%BB%B6%E5%8C%96%E7%BC%96%E7%A0%81%E6%B5%81%E7%A8%8B%EF%BC%88%E9%80%9A%E7%94%A8%EF%BC%89"><span class="toc-number">1.9.4.</span> <span class="toc-text">功能界面的组件化编码流程（通用）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A5%E5%8F%A3%E6%96%87%E4%BB%B6%E5%86%99%E6%B3%95"><span class="toc-number">1.9.5.</span> <span class="toc-text">入口文件写法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E5%BC%8F%E5%86%B2%E7%AA%81"><span class="toc-number">1.9.6.</span> <span class="toc-text">样式冲突</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#react%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.9.7.</span> <span class="toc-text">react配置代理服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80package-json%E6%96%87%E4%BB%B6"><span class="toc-number">1.9.7.1.</span> <span class="toc-text">方法一package.json文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8CsetupProxy-js%E6%96%87%E4%BB%B6"><span class="toc-number">1.9.7.2.</span> <span class="toc-text">方法二setupProxy.js文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9A%B4%E9%9C%B2%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.9.8.</span> <span class="toc-text">暴露默认配置文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#todoList"><span class="toc-number">1.10.</span> <span class="toc-text">todoList</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#github%E6%A1%88%E4%BE%8B"><span class="toc-number">1.11.</span> <span class="toc-text">github案例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B6%88%E6%81%AF%E8%AE%A2%E9%98%85%E4%B8%8E%E5%8F%91%E5%B8%83"><span class="toc-number">1.12.</span> <span class="toc-text">消息订阅与发布</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-1"><span class="toc-number">1.12.1.</span> <span class="toc-text">使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#fetch"><span class="toc-number">1.13.</span> <span class="toc-text">fetch</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%A1%A3"><span class="toc-number">1.13.1.</span> <span class="toc-text">文档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">1.13.2.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3API"><span class="toc-number">1.13.3.</span> <span class="toc-text">相关API</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1-V5"><span class="toc-number">1.14.</span> <span class="toc-text">路由  V5</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#react-router-dom%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">1.14.1.</span> <span class="toc-text">react-router-dom的理解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#React-Router%E5%8C%85%E5%90%AB%E4%BA%86%E5%9B%9B%E4%B8%AA%E5%8C%85"><span class="toc-number">1.14.1.1.</span> <span class="toc-text">React Router包含了四个包:</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Router-%E5%8E%9F%E7%90%86"><span class="toc-number">1.14.2.</span> <span class="toc-text">Router 原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E4%B8%8E%E4%B8%80%E8%88%AC%E7%BB%84%E4%BB%B6"><span class="toc-number">1.14.3.</span> <span class="toc-text">路由组件与一般组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#react-router-dom%E7%9B%B8%E5%85%B3API"><span class="toc-number">1.14.4.</span> <span class="toc-text">react-router-dom相关API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E7%BB%84%E4%BB%B6"><span class="toc-number">1.14.4.1.</span> <span class="toc-text">内置组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E5%AE%83"><span class="toc-number">1.14.4.2.</span> <span class="toc-text">其它</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%B7%AF%E7%94%B1%E4%BD%BF%E7%94%A8"><span class="toc-number">1.14.5.</span> <span class="toc-text">基本路由使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%86%E5%A4%87"><span class="toc-number">1.14.5.1.</span> <span class="toc-text">准备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Route-%E5%B1%9E%E6%80%A7"><span class="toc-number">1.14.5.2.</span> <span class="toc-text">Route 属性</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#path-%E5%B1%9E%E6%80%A7"><span class="toc-number">1.14.5.2.1.</span> <span class="toc-text">path 属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#exact-%E5%B1%9E%E6%80%A7"><span class="toc-number">1.14.5.2.2.</span> <span class="toc-text">exact 属性</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Route-%E7%BB%84%E4%BB%B6"><span class="toc-number">1.14.5.3.</span> <span class="toc-text">Route 组件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#component"><span class="toc-number">1.14.5.3.1.</span> <span class="toc-text">component</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#render"><span class="toc-number">1.14.5.3.2.</span> <span class="toc-text">render</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#children"><span class="toc-number">1.14.5.3.3.</span> <span class="toc-text">children</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HashRouter"><span class="toc-number">1.14.5.4.</span> <span class="toc-text">HashRouter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BrowserRouter"><span class="toc-number">1.14.5.5.</span> <span class="toc-text">BrowserRouter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Link-%E5%92%8C-NavLink"><span class="toc-number">1.14.5.6.</span> <span class="toc-text">Link 和 NavLink</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%81%E8%A3%85-NavLink"><span class="toc-number">1.14.5.7.</span> <span class="toc-text">封装 NavLink</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Switch%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.14.6.</span> <span class="toc-text">Switch的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%84%E7%90%86-404-%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.14.6.1.</span> <span class="toc-text">处理 404 页面</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Redirect-%E4%BD%BF%E7%94%A8"><span class="toc-number">1.14.7.</span> <span class="toc-text">Redirect 使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%A0%B7%E5%BC%8F%E4%B8%A2%E5%A4%B1%E9%97%AE%E9%A2%98"><span class="toc-number">1.14.8.</span> <span class="toc-text">解决样式丢失问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%9A%84%E6%A8%A1%E7%B3%8A%E5%8C%B9%E9%85%8D%E4%B8%8E%E4%B8%A5%E6%A0%BC%E5%8C%B9%E9%85%8D"><span class="toc-number">1.14.9.</span> <span class="toc-text">路由的模糊匹配与严格匹配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1%E4%BD%BF%E7%94%A8"><span class="toc-number">1.14.10.</span> <span class="toc-text">嵌套路由使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92params%E5%8F%82%E6%95%B0"><span class="toc-number">1.14.11.</span> <span class="toc-text">路由组件传递params参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E9%80%92search%E5%8F%82%E6%95%B0"><span class="toc-number">1.14.12.</span> <span class="toc-text">传递search参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E9%80%92state%E5%8F%82%E6%95%B0"><span class="toc-number">1.14.13.</span> <span class="toc-text">传递state参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BrowserRouter%E4%B8%8EHashRouter%E5%8C%BA%E5%88%AB"><span class="toc-number">1.14.14.</span> <span class="toc-text">BrowserRouter与HashRouter区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%9A%84push%E4%B8%8Ereplace"><span class="toc-number">1.14.15.</span> <span class="toc-text">路由的push与replace</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lazyLoad"><span class="toc-number">1.14.16.</span> <span class="toc-text">lazyLoad</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E5%BC%8F%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA"><span class="toc-number">1.14.17.</span> <span class="toc-text">编程式路由导航</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#withRouter-%E5%87%BD%E6%95%B0"><span class="toc-number">1.14.18.</span> <span class="toc-text">withRouter 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">1.14.19.</span> <span class="toc-text">路由守卫</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React-UI%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="toc-number">1.15.</span> <span class="toc-text">React UI组件库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E8%A1%8C%E7%9A%84%E5%BC%80%E6%BA%90React-UI%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="toc-number">1.15.1.</span> <span class="toc-text">流行的开源React UI组件库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#redux"><span class="toc-number">1.16.</span> <span class="toc-text">redux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#redux%E7%90%86%E8%A7%A3"><span class="toc-number">1.16.1.</span> <span class="toc-text">redux理解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E6%96%87%E6%A1%A3"><span class="toc-number">1.16.1.1.</span> <span class="toc-text">学习文档</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#redux%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.16.2.</span> <span class="toc-text">redux是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8redux"><span class="toc-number">1.16.3.</span> <span class="toc-text">什么情况下需要使用redux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#redux%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-number">1.16.4.</span> <span class="toc-text">redux工作流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#redux%E7%9A%84%E4%B8%89%E4%B8%AA%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">1.16.5.</span> <span class="toc-text">redux的三个核心概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#action"><span class="toc-number">1.16.5.1.</span> <span class="toc-text">action</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reducer"><span class="toc-number">1.16.5.2.</span> <span class="toc-text">reducer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#store"><span class="toc-number">1.16.5.3.</span> <span class="toc-text">store</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#redux%E7%9A%84%E6%A0%B8%E5%BF%83API"><span class="toc-number">1.16.6.</span> <span class="toc-text">redux的核心API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#createstore"><span class="toc-number">1.16.6.1.</span> <span class="toc-text">createstore()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#store%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.16.6.2.</span> <span class="toc-text">store对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#applyMiddleware"><span class="toc-number">1.16.6.3.</span> <span class="toc-text">applyMiddleware()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#combineReducers"><span class="toc-number">1.16.6.4.</span> <span class="toc-text">combineReducers()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%86%99%E6%A1%88%E4%BE%8B"><span class="toc-number">1.16.7.</span> <span class="toc-text">简写案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E7%89%88%E6%A1%88%E4%BE%8B"><span class="toc-number">1.16.8.</span> <span class="toc-text">完整版案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5action"><span class="toc-number">1.16.9.</span> <span class="toc-text">异步action</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#redux%E5%BC%80%E5%8F%91%E8%BF%99%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8"><span class="toc-number">1.16.10.</span> <span class="toc-text">redux开发这工具使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A"><span class="toc-number">1.16.11.</span> <span class="toc-text">注意：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#react-redux"><span class="toc-number">1.17.</span> <span class="toc-text">react-redux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#connect"><span class="toc-number">1.17.1.</span> <span class="toc-text">connect</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mapStateToProps"><span class="toc-number">1.17.2.</span> <span class="toc-text">mapStateToProps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mapDispatchToProps"><span class="toc-number">1.17.3.</span> <span class="toc-text">mapDispatchToProps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Provider"><span class="toc-number">1.17.4.</span> <span class="toc-text">Provider</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#react%E6%89%93%E5%8C%85"><span class="toc-number">1.18.</span> <span class="toc-text">react打包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#setState"><span class="toc-number">1.19.</span> <span class="toc-text">setState</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hooks"><span class="toc-number">1.20.</span> <span class="toc-text">Hooks</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#React-Hook-x2F-Hooks%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.20.1.</span> <span class="toc-text">React Hook&#x2F;Hooks是什么?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E4%B8%AA%E5%B8%B8%E7%94%A8%E7%9A%84Hook"><span class="toc-number">1.20.2.</span> <span class="toc-text">三个常用的Hook</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#State-Hook"><span class="toc-number">1.20.3.</span> <span class="toc-text">State Hook</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Effect-Hook"><span class="toc-number">1.20.4.</span> <span class="toc-text">Effect Hook</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ref-Hook"><span class="toc-number">1.20.5.</span> <span class="toc-text">Ref Hook</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Fragment"><span class="toc-number">1.21.</span> <span class="toc-text">Fragment</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-2"><span class="toc-number">1.21.1.</span> <span class="toc-text">使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8"><span class="toc-number">1.21.2.</span> <span class="toc-text">作用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Context"><span class="toc-number">1.22.</span> <span class="toc-text">Context</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%90%86%E8%A7%A3"><span class="toc-number">1.22.1.</span> <span class="toc-text">理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-3"><span class="toc-number">1.22.2.</span> <span class="toc-text">使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">1.22.3.</span> <span class="toc-text">注意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.22.4.</span> <span class="toc-text">存在的问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BFcomponent%E5%88%9B%E5%BB%BA%E7%BB%84%E4%BB%B6%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.23.</span> <span class="toc-text">继承component创建组件存在的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Component%E7%9A%842%E4%B8%AA%E9%97%AE%E9%A2%98"><span class="toc-number">1.23.1.</span> <span class="toc-text">Component的2个问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%88%E7%8E%87%E9%AB%98%E7%9A%84%E5%81%9A%E6%B3%95"><span class="toc-number">1.23.2.</span> <span class="toc-text">效率高的做法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9B%A0"><span class="toc-number">1.23.3.</span> <span class="toc-text">原因</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3"><span class="toc-number">1.23.4.</span> <span class="toc-text">解决</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PureComponent"><span class="toc-number">1.23.5.</span> <span class="toc-text">PureComponent</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#render-props-%E6%8F%92%E6%A7%BD"><span class="toc-number">1.24.</span> <span class="toc-text">render props(插槽)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%90%91%E7%BB%84%E4%BB%B6%E5%86%85%E9%83%A8%E5%8A%A8%E6%80%81%E4%BC%A0%E5%85%A5%E5%B8%A6%E5%86%85%E5%AE%B9%E7%9A%84%E7%BB%93%E6%9E%84-%E6%A0%87%E7%AD%BE"><span class="toc-number">1.24.1.</span> <span class="toc-text">如何向组件内部动态传入带内容的结构(标签)?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#children-props"><span class="toc-number">1.24.2.</span> <span class="toc-text">children props</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#render-props"><span class="toc-number">1.24.3.</span> <span class="toc-text">render props</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E8%BE%B9%E7%95%8C"><span class="toc-number">1.25.</span> <span class="toc-text">错误边界</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%90%86%E8%A7%A3%EF%BC%9A"><span class="toc-number">1.25.1.</span> <span class="toc-text">理解：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9%EF%BC%9A"><span class="toc-number">1.25.2.</span> <span class="toc-text">特点：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="toc-number">1.25.3.</span> <span class="toc-text">使用方式：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F%E6%80%BB"><span class="toc-number">1.26.</span> <span class="toc-text">组件通信方式总</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="toc-number">1.26.1.</span> <span class="toc-text">方式：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">1.26.2.</span> <span class="toc-text">组件间的关系</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React-Router-v6"><span class="toc-number">1.27.</span> <span class="toc-text">React-Router v6</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.27.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Component"><span class="toc-number">1.27.2.</span> <span class="toc-text">Component</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-lt-BrowserRouter-gt"><span class="toc-number">1.27.3.</span> <span class="toc-text">1. &lt;BrowserRouter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-lt-HashRouter-gt"><span class="toc-number">1.27.4.</span> <span class="toc-text">2. &lt;HashRouter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-lt-Routes-gt-%E4%B8%8E-lt-Route-gt"><span class="toc-number">1.27.5.</span> <span class="toc-text">3. &lt;Routes&#x2F;&gt; 与 &lt;Route&#x2F;&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-lt-Link-gt"><span class="toc-number">1.27.6.</span> <span class="toc-text">4. &lt;Link&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-lt-NavLink-gt"><span class="toc-number">1.27.7.</span> <span class="toc-text">5. &lt;NavLink&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-lt-Navigate-gt"><span class="toc-number">1.27.8.</span> <span class="toc-text">6. &lt;Navigate&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-lt-Outlet-gt"><span class="toc-number">1.27.9.</span> <span class="toc-text">7. &lt;Outlet&gt;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#react-router-dom-v6-%E7%9A%84%E7%B1%BB%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E8%B7%AF%E7%94%B1%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-number">1.28.</span> <span class="toc-text">react-router-dom v6 的类组件使用路由的参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hooks-1"><span class="toc-number">1.29.</span> <span class="toc-text">Hooks</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-useRoutes"><span class="toc-number">1.29.1.</span> <span class="toc-text">1. useRoutes()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-useNavigate-%E7%BC%96%E7%A8%8B%E5%BC%8F%E5%AF%BC%E8%88%AA"><span class="toc-number">1.29.2.</span> <span class="toc-text">2. useNavigate()编程式导航</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-useParams-%E8%B7%AF%E7%94%B1%E4%BC%A0%E9%80%92params%E5%8F%82%E6%95%B0"><span class="toc-number">1.29.3.</span> <span class="toc-text">3. useParams()路由传递params参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-useSearchParams-%E8%B7%AF%E7%94%B1%E4%BC%A0%E9%80%92seaech%E5%8F%82%E6%95%B0"><span class="toc-number">1.29.4.</span> <span class="toc-text">4. useSearchParams()路由传递seaech参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-useLocation-%E8%B7%AF%E7%94%B1%E4%BC%A0%E9%80%92state%E5%8F%82%E6%95%B0"><span class="toc-number">1.29.5.</span> <span class="toc-text">5. useLocation()路由传递state参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-useMatch"><span class="toc-number">1.29.6.</span> <span class="toc-text">6. useMatch()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-useInRouterContext"><span class="toc-number">1.29.7.</span> <span class="toc-text">7. useInRouterContext()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-useNavigationType"><span class="toc-number">1.29.8.</span> <span class="toc-text">8. useNavigationType()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-useOutlet"><span class="toc-number">1.29.9.</span> <span class="toc-text">9. useOutlet()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-useResolvedPath"><span class="toc-number">1.29.10.</span> <span class="toc-text">10.useResolvedPath()</span></a></li></ol></li></ol></li></ol>
                    </div>
                </span>
            </div>
        </div>
        
    </div>
</aside>

















          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2023 <a href="https://clear-liquid.github.io/" target="_blank">沐澈</a>
    	</div>
      	<div class="footer-right">
			
			
      		GitHub:<a href="https://github.com/JoeyBling/hexo-theme-yilia-plus" target="_blank">hexo-theme-yilia-plus</a> by Litten
      	</div>
    </div>
  </div>
  
  
	<script src="/lib/busuanzi.pure.js"></script>
	
  
  
	
	<span id="busuanzi_container_site_pv" style="display:none">
		本站总访问量<span id="busuanzi_value_site_pv"></span>次	
	        <span class="post-meta-divider" >|</span>
	</span>
  	<span id="busuanzi_container_site_uv" style='display:none'>
  		本站访客数<span id="busuanzi_value_site_uv"></span>人
  	</span>
  
</footer>

    </div>
    <script>
	var yiliaConfig = {
		mathjax: false,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: true,
		toc_hide_index: true,
		root: "/",
		innerArchive: true,
		showTags: false
	}
</script>

<script>!function (r) { function e(t) { if (i[t]) return i[t].exports; var n = i[t] = { exports: {}, id: t, loaded: !1 }; return r[t].call(n.exports, n, n.exports, e), n.loaded = !0, n.exports } var i = {}; e.m = r, e.c = i, e.p = "./", e(0) }([function (t, n, r) { r(208), t.exports = r(205) }, function (t, n, r) { var d = r(3), y = r(46), g = r(26), b = r(27), x = r(47), m = "prototype", S = function (t, n, r) { var e, i, o, u, c = t & S.F, f = t & S.G, a = t & S.S, s = t & S.P, l = t & S.B, h = f ? d : a ? d[n] || (d[n] = {}) : (d[n] || {})[m], v = f ? y : y[n] || (y[n] = {}), p = v[m] || (v[m] = {}); for (e in f && (r = n), r) o = ((i = !c && h && void 0 !== h[e]) ? h : r)[e], u = l && i ? x(o, d) : s && "function" == typeof o ? x(Function.call, o) : o, h && b(h, e, o, t & S.U), v[e] != o && g(v, e, u), s && p[e] != o && (p[e] = o) }; d.core = y, S.F = 1, S.G = 2, S.S = 4, S.P = 8, S.B = 16, S.W = 32, S.U = 64, S.R = 128, t.exports = S }, function (t, n, r) { var e = r(5); t.exports = function (t) { if (!e(t)) throw TypeError(t + " is not an object!"); return t } }, function (t, n) { var r = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(); "number" == typeof __g && (__g = r) }, function (t, n) { t.exports = function (t) { try { return !!t() } catch (t) { return !0 } } }, function (t, n) { t.exports = function (t) { return "object" == typeof t ? null !== t : "function" == typeof t } }, function (t, n) { var r = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(); "number" == typeof __g && (__g = r) }, function (t, n, r) { var e = r(118)("wks"), i = r(79), o = r(3).Symbol, u = "function" == typeof o; (t.exports = function (t) { return e[t] || (e[t] = u && o[t] || (u ? o : i)("Symbol." + t)) }).store = e }, function (t, n, r) { var e = r(49), i = Math.min; t.exports = function (t) { return 0 < t ? i(e(t), 9007199254740991) : 0 } }, function (t, n) { var r = {}.hasOwnProperty; t.exports = function (t, n) { return r.call(t, n) } }, function (t, n, r) { t.exports = !r(4)(function () { return 7 != Object.defineProperty({}, "a", { get: function () { return 7 } }).a }) }, function (t, n, r) { var e = r(2), i = r(174), o = r(53), u = Object.defineProperty; n.f = r(10) ? Object.defineProperty : function (t, n, r) { if (e(t), n = o(n, !0), e(r), i) try { return u(t, n, r) } catch (t) { } if ("get" in r || "set" in r) throw TypeError("Accessors not supported!"); return "value" in r && (t[n] = r.value), t } }, function (t, n, r) { t.exports = !r(20)(function () { return 7 != Object.defineProperty({}, "a", { get: function () { return 7 } }).a }) }, function (t, n, r) { var e = r(14), i = r(24); t.exports = r(12) ? function (t, n, r) { return e.f(t, n, i(1, r)) } : function (t, n, r) { return t[n] = r, t } }, function (t, n, r) { var e = r(22), i = r(60), o = r(42), u = Object.defineProperty; n.f = r(12) ? Object.defineProperty : function (t, n, r) { if (e(t), n = o(n, !0), e(r), i) try { return u(t, n, r) } catch (t) { } if ("get" in r || "set" in r) throw TypeError("Accessors not supported!"); return "value" in r && (t[n] = r.value), t } }, function (t, n, r) { var e = r(96), i = r(34); t.exports = function (t) { return e(i(t)) } }, function (t, n, r) { var e = r(40)("wks"), i = r(25), o = r(6).Symbol, u = "function" == typeof o; (t.exports = function (t) { return e[t] || (e[t] = u && o[t] || (u ? o : i)("Symbol." + t)) }).store = e }, function (t, n, r) { var e = r(51); t.exports = function (t) { return Object(e(t)) } }, function (t, n) { t.exports = function (t) { return "object" == typeof t ? null !== t : "function" == typeof t } }, function (t, n) { var r = t.exports = { version: "2.6.9" }; "number" == typeof __e && (__e = r) }, function (t, n) { t.exports = function (t) { try { return !!t() } catch (t) { return !0 } } }, function (t, n) { t.exports = function (t) { if ("function" != typeof t) throw TypeError(t + " is not a function!"); return t } }, function (t, n, r) { var e = r(18); t.exports = function (t) { if (!e(t)) throw TypeError(t + " is not an object!"); return t } }, function (t, n) { t.exports = !0 }, function (t, n) { t.exports = function (t, n) { return { enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: n } } }, function (t, n) { var r = 0, e = Math.random(); t.exports = function (t) { return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++r + e).toString(36)) } }, function (t, n, r) { var e = r(11), i = r(75); t.exports = r(10) ? function (t, n, r) { return e.f(t, n, i(1, r)) } : function (t, n, r) { return t[n] = r, t } }, function (t, n, r) { var o = r(3), u = r(26), c = r(30), f = r(79)("src"), e = r(219), i = "toString", a = ("" + e).split(i); r(46).inspectSource = function (t) { return e.call(t) }, (t.exports = function (t, n, r, e) { var i = "function" == typeof r; i && (c(r, "name") || u(r, "name", n)), t[n] !== r && (i && (c(r, f) || u(r, f, t[n] ? "" + t[n] : a.join(String(n)))), t === o ? t[n] = r : e ? t[n] ? t[n] = r : u(t, n, r) : (delete t[n], u(t, n, r))) })(Function.prototype, i, function () { return "function" == typeof this && this[f] || e.call(this) }) }, function (t, n, r) { var e = r(1), i = r(4), u = r(51), c = /"/g, o = function (t, n, r, e) { var i = String(u(t)), o = "<" + n; return "" !== r && (o += " " + r + '="' + String(e).replace(c, "&quot;") + '"'), o + ">" + i + "</" + n + ">" }; t.exports = function (n, t) { var r = {}; r[n] = t(o), e(e.P + e.F * i(function () { var t = ""[n]('"'); return t !== t.toLowerCase() || 3 < t.split('"').length }), "String", r) } }, function (t, n, r) { var e = r(65), i = r(35); t.exports = Object.keys || function (t) { return e(t, i) } }, function (t, n) { var r = {}.hasOwnProperty; t.exports = function (t, n) { return r.call(t, n) } }, function (t, n, r) { var e = r(117), i = r(75), o = r(33), u = r(53), c = r(30), f = r(174), a = Object.getOwnPropertyDescriptor; n.f = r(10) ? a : function (t, n) { if (t = o(t), n = u(n, !0), f) try { return a(t, n) } catch (t) { } if (c(t, n)) return i(!e.f.call(t, n), t[n]) } }, function (t, n, r) { var e = r(30), i = r(17), o = r(154)("IE_PROTO"), u = Object.prototype; t.exports = Object.getPrototypeOf || function (t) { return t = i(t), e(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? u : null } }, function (t, n, r) { var e = r(116), i = r(51); t.exports = function (t) { return e(i(t)) } }, function (t, n) { t.exports = function (t) { if (null == t) throw TypeError("Can't call method on  " + t); return t } }, function (t, n) { t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",") }, function (t, n) { t.exports = {} }, function (t, n) { n.f = {}.propertyIsEnumerable }, function (t, n, r) { var e = r(14).f, i = r(9), o = r(16)("toStringTag"); t.exports = function (t, n, r) { t && !i(t = r ? t : t.prototype, o) && e(t, o, { configurable: !0, value: n }) } }, function (t, n, r) { var e = r(40)("keys"), i = r(25); t.exports = function (t) { return e[t] || (e[t] = i(t)) } }, function (t, n, r) { var e = r(19), i = r(6), o = "__core-js_shared__", u = i[o] || (i[o] = {}); (t.exports = function (t, n) { return u[t] || (u[t] = void 0 !== n ? n : {}) })("versions", []).push({ version: e.version, mode: r(23) ? "pure" : "global", copyright: "© 2019 Denis Pushkarev (zloirock.ru)" }) }, function (t, n) { var r = Math.ceil, e = Math.floor; t.exports = function (t) { return isNaN(t = +t) ? 0 : (0 < t ? e : r)(t) } }, function (t, n, r) { var i = r(18); t.exports = function (t, n) { if (!i(t)) return t; var r, e; if (n && "function" == typeof (r = t.toString) && !i(e = r.call(t))) return e; if ("function" == typeof (r = t.valueOf) && !i(e = r.call(t))) return e; if (!n && "function" == typeof (r = t.toString) && !i(e = r.call(t))) return e; throw TypeError("Can't convert object to primitive value") } }, function (t, n, r) { var e = r(6), i = r(19), o = r(23), u = r(44), c = r(14).f; t.exports = function (t) { var n = i.Symbol || (i.Symbol = o ? {} : e.Symbol || {}); "_" == t.charAt(0) || t in n || c(n, t, { value: u.f(t) }) } }, function (t, n, r) { n.f = r(16) }, function (t, n) { var r = {}.toString; t.exports = function (t) { return r.call(t).slice(8, -1) } }, function (t, n) { var r = t.exports = { version: "2.6.9" }; "number" == typeof __e && (__e = r) }, function (t, n, r) { var o = r(21); t.exports = function (e, i, t) { if (o(e), void 0 === i) return e; switch (t) { case 1: return function (t) { return e.call(i, t) }; case 2: return function (t, n) { return e.call(i, t, n) }; case 3: return function (t, n, r) { return e.call(i, t, n, r) } }return function () { return e.apply(i, arguments) } } }, function (t, n, r) { "use strict"; var e = r(4); t.exports = function (t, n) { return !!t && e(function () { n ? t.call(null, function () { }, 1) : t.call(null) }) } }, function (t, n) { var r = Math.ceil, e = Math.floor; t.exports = function (t) { return isNaN(t = +t) ? 0 : (0 < t ? e : r)(t) } }, function (t, n, r) { var x = r(47), m = r(116), S = r(17), w = r(8), e = r(138); t.exports = function (l, t) { var h = 1 == l, v = 2 == l, p = 3 == l, d = 4 == l, y = 6 == l, g = 5 == l || y, b = t || e; return function (t, n, r) { for (var e, i, o = S(t), u = m(o), c = x(n, r, 3), f = w(u.length), a = 0, s = h ? b(t, f) : v ? b(t, 0) : void 0; a < f; a++)if ((g || a in u) && (i = c(e = u[a], a, o), l)) if (h) s[a] = i; else if (i) switch (l) { case 3: return !0; case 5: return e; case 6: return a; case 2: s.push(e) } else if (d) return !1; return y ? -1 : p || d ? d : s } } }, function (t, n) { t.exports = function (t) { if (null == t) throw TypeError("Can't call method on  " + t); return t } }, function (t, n, r) { var i = r(1), o = r(46), u = r(4); t.exports = function (t, n) { var r = (o.Object || {})[t] || Object[t], e = {}; e[t] = n(r), i(i.S + i.F * u(function () { r(1) }), "Object", e) } }, function (t, n, r) { var i = r(5); t.exports = function (t, n) { if (!i(t)) return t; var r, e; if (n && "function" == typeof (r = t.toString) && !i(e = r.call(t))) return e; if ("function" == typeof (r = t.valueOf) && !i(e = r.call(t))) return e; if (!n && "function" == typeof (r = t.toString) && !i(e = r.call(t))) return e; throw TypeError("Can't convert object to primitive value") } }, function (t, n, r) { var d = r(6), y = r(19), g = r(93), b = r(13), x = r(9), m = "prototype", S = function (t, n, r) { var e, i, o, u = t & S.F, c = t & S.G, f = t & S.S, a = t & S.P, s = t & S.B, l = t & S.W, h = c ? y : y[n] || (y[n] = {}), v = h[m], p = c ? d : f ? d[n] : (d[n] || {})[m]; for (e in c && (r = n), r) (i = !u && p && void 0 !== p[e]) && x(h, e) || (o = i ? p[e] : r[e], h[e] = c && "function" != typeof p[e] ? r[e] : s && i ? g(o, d) : l && p[e] == o ? function (e) { var t = function (t, n, r) { if (this instanceof e) { switch (arguments.length) { case 0: return new e; case 1: return new e(t); case 2: return new e(t, n) }return new e(t, n, r) } return e.apply(this, arguments) }; return t[m] = e[m], t }(o) : a && "function" == typeof o ? g(Function.call, o) : o, a && ((h.virtual || (h.virtual = {}))[e] = o, t & S.R && v && !v[e] && b(v, e, o))) }; S.F = 1, S.G = 2, S.S = 4, S.P = 8, S.B = 16, S.W = 32, S.U = 64, S.R = 128, t.exports = S }, function (t, n, r) { var e = r(34); t.exports = function (t) { return Object(e(t)) } }, function (t, n, r) { var o = r(196), e = r(1), i = r(118)("metadata"), u = i.store || (i.store = new (r(200))), c = function (t, n, r) { var e = u.get(t); if (!e) { if (!r) return; u.set(t, e = new o) } var i = e.get(n); if (!i) { if (!r) return; e.set(n, i = new o) } return i }; t.exports = { store: u, map: c, has: function (t, n, r) { var e = c(n, r, !1); return void 0 !== e && e.has(t) }, get: function (t, n, r) { var e = c(n, r, !1); return void 0 === e ? void 0 : e.get(t) }, set: function (t, n, r, e) { c(r, e, !0).set(t, n) }, keys: function (t, n) { var r = c(t, n, !1), e = []; return r && r.forEach(function (t, n) { e.push(n) }), e }, key: function (t) { return void 0 === t || "symbol" == typeof t ? t : String(t) }, exp: function (t) { e(e.S, "Reflect", t) } } }, function (t, n, r) { "use strict"; if (r(10)) { var g = r(68), b = r(3), x = r(4), m = r(1), S = r(132), e = r(159), h = r(47), w = r(70), i = r(75), _ = r(26), o = r(76), u = r(49), O = r(8), E = r(194), c = r(78), f = r(53), a = r(30), M = r(81), P = r(5), v = r(17), p = r(145), j = r(72), F = r(32), A = r(73).f, d = r(161), s = r(79), l = r(7), y = r(50), I = r(120), L = r(119), N = r(162), T = r(82), k = r(125), R = r(77), C = r(137), D = r(166), G = r(11), W = r(31), U = G.f, V = W.f, B = b.RangeError, q = b.TypeError, z = b.Uint8Array, K = "ArrayBuffer", H = "Shared" + K, J = "BYTES_PER_ELEMENT", $ = "prototype", Y = Array[$], X = e.ArrayBuffer, Q = e.DataView, Z = y(0), tt = y(2), nt = y(3), rt = y(4), et = y(5), it = y(6), ot = I(!0), ut = I(!1), ct = N.values, ft = N.keys, at = N.entries, st = Y.lastIndexOf, lt = Y.reduce, ht = Y.reduceRight, vt = Y.join, pt = Y.sort, dt = Y.slice, yt = Y.toString, gt = Y.toLocaleString, bt = l("iterator"), xt = l("toStringTag"), mt = s("typed_constructor"), St = s("def_constructor"), wt = S.CONSTR, _t = S.TYPED, Ot = S.VIEW, Et = "Wrong length!", Mt = y(1, function (t, n) { return It(L(t, t[St]), n) }), Pt = x(function () { return 1 === new z(new Uint16Array([1]).buffer)[0] }), jt = !!z && !!z[$].set && x(function () { new z(1).set({}) }), Ft = function (t, n) { var r = u(t); if (r < 0 || r % n) throw B("Wrong offset!"); return r }, At = function (t) { if (P(t) && _t in t) return t; throw q(t + " is not a typed array!") }, It = function (t, n) { if (!(P(t) && mt in t)) throw q("It is not a typed array constructor!"); return new t(n) }, Lt = function (t, n) { return Nt(L(t, t[St]), n) }, Nt = function (t, n) { for (var r = 0, e = n.length, i = It(t, e); r < e;)i[r] = n[r++]; return i }, Tt = function (t, n, r) { U(t, n, { get: function () { return this._d[r] } }) }, kt = function (t) { var n, r, e, i, o, u, c = v(t), f = arguments.length, a = 1 < f ? arguments[1] : void 0, s = void 0 !== a, l = d(c); if (null != l && !p(l)) { for (u = l.call(c), e = [], n = 0; !(o = u.next()).done; n++)e.push(o.value); c = e } for (s && 2 < f && (a = h(a, arguments[2], 2)), n = 0, r = O(c.length), i = It(this, r); n < r; n++)i[n] = s ? a(c[n], n) : c[n]; return i }, Rt = function () { for (var t = 0, n = arguments.length, r = It(this, n); t < n;)r[t] = arguments[t++]; return r }, Ct = !!z && x(function () { gt.call(new z(1)) }), Dt = function () { return gt.apply(Ct ? dt.call(At(this)) : At(this), arguments) }, Gt = { copyWithin: function (t, n) { return D.call(At(this), t, n, 2 < arguments.length ? arguments[2] : void 0) }, every: function (t) { return rt(At(this), t, 1 < arguments.length ? arguments[1] : void 0) }, fill: function (t) { return C.apply(At(this), arguments) }, filter: function (t) { return Lt(this, tt(At(this), t, 1 < arguments.length ? arguments[1] : void 0)) }, find: function (t) { return et(At(this), t, 1 < arguments.length ? arguments[1] : void 0) }, findIndex: function (t) { return it(At(this), t, 1 < arguments.length ? arguments[1] : void 0) }, forEach: function (t) { Z(At(this), t, 1 < arguments.length ? arguments[1] : void 0) }, indexOf: function (t) { return ut(At(this), t, 1 < arguments.length ? arguments[1] : void 0) }, includes: function (t) { return ot(At(this), t, 1 < arguments.length ? arguments[1] : void 0) }, join: function (t) { return vt.apply(At(this), arguments) }, lastIndexOf: function (t) { return st.apply(At(this), arguments) }, map: function (t) { return Mt(At(this), t, 1 < arguments.length ? arguments[1] : void 0) }, reduce: function (t) { return lt.apply(At(this), arguments) }, reduceRight: function (t) { return ht.apply(At(this), arguments) }, reverse: function () { for (var t, n = this, r = At(n).length, e = Math.floor(r / 2), i = 0; i < e;)t = n[i], n[i++] = n[--r], n[r] = t; return n }, some: function (t) { return nt(At(this), t, 1 < arguments.length ? arguments[1] : void 0) }, sort: function (t) { return pt.call(At(this), t) }, subarray: function (t, n) { var r = At(this), e = r.length, i = c(t, e); return new (L(r, r[St]))(r.buffer, r.byteOffset + i * r.BYTES_PER_ELEMENT, O((void 0 === n ? e : c(n, e)) - i)) } }, Wt = function (t, n) { return Lt(this, dt.call(At(this), t, n)) }, Ut = function (t) { At(this); var n = Ft(arguments[1], 1), r = this.length, e = v(t), i = O(e.length), o = 0; if (r < i + n) throw B(Et); for (; o < i;)this[n + o] = e[o++] }, Vt = { entries: function () { return at.call(At(this)) }, keys: function () { return ft.call(At(this)) }, values: function () { return ct.call(At(this)) } }, Bt = function (t, n) { return P(t) && t[_t] && "symbol" != typeof n && n in t && String(+n) == String(n) }, qt = function (t, n) { return Bt(t, n = f(n, !0)) ? i(2, t[n]) : V(t, n) }, zt = function (t, n, r) { return !(Bt(t, n = f(n, !0)) && P(r) && a(r, "value")) || a(r, "get") || a(r, "set") || r.configurable || a(r, "writable") && !r.writable || a(r, "enumerable") && !r.enumerable ? U(t, n, r) : (t[n] = r.value, t) }; wt || (W.f = qt, G.f = zt), m(m.S + m.F * !wt, "Object", { getOwnPropertyDescriptor: qt, defineProperty: zt }), x(function () { yt.call({}) }) && (yt = gt = function () { return vt.call(this) }); var Kt = o({}, Gt); o(Kt, Vt), _(Kt, bt, Vt.values), o(Kt, { slice: Wt, set: Ut, constructor: function () { }, toString: yt, toLocaleString: Dt }), Tt(Kt, "buffer", "b"), Tt(Kt, "byteOffset", "o"), Tt(Kt, "byteLength", "l"), Tt(Kt, "length", "e"), U(Kt, xt, { get: function () { return this[_t] } }), t.exports = function (t, l, n, o) { var h = t + ((o = !!o) ? "Clamped" : "") + "Array", r = "get" + t, u = "set" + t, v = b[h], c = v || {}, e = v && F(v), i = !v || !S.ABV, f = {}, a = v && v[$], p = function (t, i) { U(t, i, { get: function () { return t = i, (n = this._d).v[r](t * l + n.o, Pt); var t, n }, set: function (t) { return n = i, r = t, e = this._d, o && (r = (r = Math.round(r)) < 0 ? 0 : 255 < r ? 255 : 255 & r), void e.v[u](n * l + e.o, r, Pt); var n, r, e }, enumerable: !0 }) }; i ? (v = n(function (t, n, r, e) { w(t, v, h, "_d"); var i, o, u, c, f = 0, a = 0; if (P(n)) { if (!(n instanceof X || (c = M(n)) == K || c == H)) return _t in n ? Nt(v, n) : kt.call(v, n); i = n, a = Ft(r, l); var s = n.byteLength; if (void 0 === e) { if (s % l) throw B(Et); if ((o = s - a) < 0) throw B(Et) } else if (s < (o = O(e) * l) + a) throw B(Et); u = o / l } else u = E(n), i = new X(o = u * l); for (_(t, "_d", { b: i, o: a, l: o, e: u, v: new Q(i) }); f < u;)p(t, f++) }), a = v[$] = j(Kt), _(a, "constructor", v)) : x(function () { v(1) }) && x(function () { new v(-1) }) && k(function (t) { new v, new v(null), new v(1.5), new v(t) }, !0) || (v = n(function (t, n, r, e) { var i; return w(t, v, h), P(n) ? n instanceof X || (i = M(n)) == K || i == H ? void 0 !== e ? new c(n, Ft(r, l), e) : void 0 !== r ? new c(n, Ft(r, l)) : new c(n) : _t in n ? Nt(v, n) : kt.call(v, n) : new c(E(n)) }), Z(e !== Function.prototype ? A(c).concat(A(e)) : A(c), function (t) { t in v || _(v, t, c[t]) }), v[$] = a, g || (a.constructor = v)); var s = a[bt], d = !!s && ("values" == s.name || null == s.name), y = Vt.values; _(v, mt, !0), _(a, _t, h), _(a, Ot, !0), _(a, St, v), (o ? new v(1)[xt] == h : xt in a) || U(a, xt, { get: function () { return h } }), f[h] = v, m(m.G + m.W + m.F * (v != c), f), m(m.S, h, { BYTES_PER_ELEMENT: l }), m(m.S + m.F * x(function () { c.of.call(v, 1) }), h, { from: kt, of: Rt }), J in a || _(a, J, l), m(m.P, h, Gt), R(h), m(m.P + m.F * jt, h, { set: Ut }), m(m.P + m.F * !d, h, Vt), g || a.toString == yt || (a.toString = yt), m(m.P + m.F * x(function () { new v(1).slice() }), h, { slice: Wt }), m(m.P + m.F * (x(function () { return [1, 2].toLocaleString() != new v([1, 2]).toLocaleString() }) || !x(function () { a.toLocaleString.call([1, 2]) })), h, { toLocaleString: Dt }), T[h] = d ? s : y, g || d || _(a, bt, y) } } else t.exports = function () { } }, function (t, n) { var r = {}.toString; t.exports = function (t) { return r.call(t).slice(8, -1) } }, function (t, n, r) { var e = r(18), i = r(6).document, o = e(i) && e(i.createElement); t.exports = function (t) { return o ? i.createElement(t) : {} } }, function (t, n, r) { t.exports = !r(12) && !r(20)(function () { return 7 != Object.defineProperty(r(59)("div"), "a", { get: function () { return 7 } }).a }) }, function (t, n, r) { "use strict"; var x = r(23), m = r(54), S = r(66), w = r(13), _ = r(36), O = r(98), E = r(38), M = r(104), P = r(16)("iterator"), j = !([].keys && "next" in [].keys()), F = "values", A = function () { return this }; t.exports = function (t, n, r, e, i, o, u) { O(r, n, e); var c, f, a, s = function (t) { if (!j && t in p) return p[t]; switch (t) { case "keys": case F: return function () { return new r(this, t) } }return function () { return new r(this, t) } }, l = n + " Iterator", h = i == F, v = !1, p = t.prototype, d = p[P] || p["@@iterator"] || i && p[i], y = d || s(i), g = i ? h ? s("entries") : y : void 0, b = "Array" == n && p.entries || d; if (b && ((a = M(b.call(new t))) !== Object.prototype && a.next && (E(a, l, !0), x || "function" == typeof a[P] || w(a, P, A))), h && d && d.name !== F && (v = !0, y = function () { return d.call(this) }), x && !u || !j && !v && p[P] || w(p, P, y), _[n] = y, _[l] = A, i) if (c = { values: h ? y : s(F), keys: o ? y : s("keys"), entries: g }, u) for (f in c) f in p || S(p, f, c[f]); else m(m.P + m.F * (j || v), n, c); return c } }, function (t, n, e) { var i = e(22), o = e(101), u = e(35), c = e(39)("IE_PROTO"), f = function () { }, a = "prototype", s = function () { var t, n = e(59)("iframe"), r = u.length; for (n.style.display = "none", e(95).appendChild(n), n.src = "javascript:", (t = n.contentWindow.document).open(), t.write("<script>document.F=Object<\/script>"), t.close(), s = t.F; r--;)delete s[a][u[r]]; return s() }; t.exports = Object.create || function (t, n) { var r; return null !== t ? (f[a] = i(t), r = new f, f[a] = null, r[c] = t) : r = s(), void 0 === n ? r : o(r, n) } }, function (t, n, r) { var e = r(65), i = r(35).concat("length", "prototype"); n.f = Object.getOwnPropertyNames || function (t) { return e(t, i) } }, function (t, n) { n.f = Object.getOwnPropertySymbols }, function (t, n, r) { var u = r(9), c = r(15), f = r(92)(!1), a = r(39)("IE_PROTO"); t.exports = function (t, n) { var r, e = c(t), i = 0, o = []; for (r in e) r != a && u(e, r) && o.push(r); for (; n.length > i;)u(e, r = n[i++]) && (~f(o, r) || o.push(r)); return o } }, function (t, n, r) { t.exports = r(13) }, function (t, n, r) { var e = r(7)("unscopables"), i = Array.prototype; null == i[e] && r(26)(i, e, {}), t.exports = function (t) { i[e][t] = !0 } }, function (t, n) { t.exports = !1 }, function (t, n, r) { var e = r(79)("meta"), i = r(5), o = r(30), u = r(11).f, c = 0, f = Object.isExtensible || function () { return !0 }, a = !r(4)(function () { return f(Object.preventExtensions({})) }), s = function (t) { u(t, e, { value: { i: "O" + ++c, w: {} } }) }, l = t.exports = { KEY: e, NEED: !1, fastKey: function (t, n) { if (!i(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t; if (!o(t, e)) { if (!f(t)) return "F"; if (!n) return "E"; s(t) } return t[e].i }, getWeak: function (t, n) { if (!o(t, e)) { if (!f(t)) return !0; if (!n) return !1; s(t) } return t[e].w }, onFreeze: function (t) { return a && l.NEED && f(t) && !o(t, e) && s(t), t } } }, function (t, n) { t.exports = function (t, n, r, e) { if (!(t instanceof n) || void 0 !== e && e in t) throw TypeError(r + ": incorrect invocation!"); return t } }, function (t, n, r) { var h = r(47), v = r(177), p = r(145), d = r(2), y = r(8), g = r(161), b = {}, x = {}; (n = t.exports = function (t, n, r, e, i) { var o, u, c, f, a = i ? function () { return t } : g(t), s = h(r, e, n ? 2 : 1), l = 0; if ("function" != typeof a) throw TypeError(t + " is not iterable!"); if (p(a)) { for (o = y(t.length); l < o; l++)if ((f = n ? s(d(u = t[l])[0], u[1]) : s(t[l])) === b || f === x) return f } else for (c = a.call(t); !(u = c.next()).done;)if ((f = v(c, s, u.value, n)) === b || f === x) return f }).BREAK = b, n.RETURN = x }, function (t, n, e) { var i = e(2), o = e(183), u = e(141), c = e(154)("IE_PROTO"), f = function () { }, a = "prototype", s = function () { var t, n = e(140)("iframe"), r = u.length; for (n.style.display = "none", e(143).appendChild(n), n.src = "javascript:", (t = n.contentWindow.document).open(), t.write("<script>document.F=Object<\/script>"), t.close(), s = t.F; r--;)delete s[a][u[r]]; return s() }; t.exports = Object.create || function (t, n) { var r; return null !== t ? (f[a] = i(t), r = new f, f[a] = null, r[c] = t) : r = s(), void 0 === n ? r : o(r, n) } }, function (t, n, r) { var e = r(185), i = r(141).concat("length", "prototype"); n.f = Object.getOwnPropertyNames || function (t) { return e(t, i) } }, function (t, n, r) { var e = r(185), i = r(141); t.exports = Object.keys || function (t) { return e(t, i) } }, function (t, n) { t.exports = function (t, n) { return { enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: n } } }, function (t, n, r) { var i = r(27); t.exports = function (t, n, r) { for (var e in n) i(t, e, n[e], r); return t } }, function (t, n, r) { "use strict"; var e = r(3), i = r(11), o = r(10), u = r(7)("species"); t.exports = function (t) { var n = e[t]; o && n && !n[u] && i.f(n, u, { configurable: !0, get: function () { return this } }) } }, function (t, n, r) { var e = r(49), i = Math.max, o = Math.min; t.exports = function (t, n) { return (t = e(t)) < 0 ? i(t + n, 0) : o(t, n) } }, function (t, n) { var r = 0, e = Math.random(); t.exports = function (t) { return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++r + e).toString(36)) } }, function (t, n, r) { var e = r(5); t.exports = function (t, n) { if (!e(t) || t._t !== n) throw TypeError("Incompatible receiver, " + n + " required!"); return t } }, function (t, n, r) { var i = r(45), o = r(7)("toStringTag"), u = "Arguments" == i(function () { return arguments }()); t.exports = function (t) { var n, r, e; return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (r = function (t, n) { try { return t[n] } catch (t) { } }(n = Object(t), o)) ? r : u ? i(n) : "Object" == (e = i(n)) && "function" == typeof n.callee ? "Arguments" : e } }, function (t, n) { t.exports = {} }, function (t, n, r) { var e = r(11).f, i = r(30), o = r(7)("toStringTag"); t.exports = function (t, n, r) { t && !i(t = r ? t : t.prototype, o) && e(t, o, { configurable: !0, value: n }) } }, function (t, n, r) { var u = r(1), e = r(51), c = r(4), f = r(157), i = "[" + f + "]", o = RegExp("^" + i + i + "*"), a = RegExp(i + i + "*$"), s = function (t, n, r) { var e = {}, i = c(function () { return !!f[t]() || "​" != "​"[t]() }), o = e[t] = i ? n(l) : f[t]; r && (e[r] = o), u(u.P + u.F * i, "String", e) }, l = s.trim = function (t, n) { return t = String(e(t)), 1 & n && (t = t.replace(o, "")), 2 & n && (t = t.replace(a, "")), t }; t.exports = s }, function (t, n, r) { t.exports = { default: r(88), __esModule: !0 } }, function (t, n, r) { t.exports = { default: r(89), __esModule: !0 } }, function (t, n, r) { "use strict"; function e(t) { return t && t.__esModule ? t : { default: t } } n.__esModule = !0; var i = e(r(86)), o = e(r(85)), u = "function" == typeof o.default && "symbol" == typeof i.default ? function (t) { return typeof t } : function (t) { return t && "function" == typeof o.default && t.constructor === o.default && t !== o.default.prototype ? "symbol" : typeof t }; n.default = "function" == typeof o.default && "symbol" === u(i.default) ? function (t) { return void 0 === t ? "undefined" : u(t) } : function (t) { return t && "function" == typeof o.default && t.constructor === o.default && t !== o.default.prototype ? "symbol" : void 0 === t ? "undefined" : u(t) } }, function (t, n, r) { r(111), r(109), r(112), r(113), t.exports = r(19).Symbol }, function (t, n, r) { r(110), r(114), t.exports = r(44).f("iterator") }, function (t, n) { t.exports = function (t) { if ("function" != typeof t) throw TypeError(t + " is not a function!"); return t } }, function (t, n) { t.exports = function () { } }, function (t, n, r) { var f = r(15), a = r(107), s = r(106); t.exports = function (c) { return function (t, n, r) { var e, i = f(t), o = a(i.length), u = s(r, o); if (c && n != n) { for (; u < o;)if ((e = i[u++]) != e) return !0 } else for (; u < o; u++)if ((c || u in i) && i[u] === n) return c || u || 0; return !c && -1 } } }, function (t, n, r) { var o = r(90); t.exports = function (e, i, t) { if (o(e), void 0 === i) return e; switch (t) { case 1: return function (t) { return e.call(i, t) }; case 2: return function (t, n) { return e.call(i, t, n) }; case 3: return function (t, n, r) { return e.call(i, t, n, r) } }return function () { return e.apply(i, arguments) } } }, function (t, n, r) { var c = r(29), f = r(64), a = r(37); t.exports = function (t) { var n = c(t), r = f.f; if (r) for (var e, i = r(t), o = a.f, u = 0; i.length > u;)o.call(t, e = i[u++]) && n.push(e); return n } }, function (t, n, r) { var e = r(6).document; t.exports = e && e.documentElement }, function (t, n, r) { var e = r(58); t.exports = Object("z").propertyIsEnumerable(0) ? Object : function (t) { return "String" == e(t) ? t.split("") : Object(t) } }, function (t, n, r) { var e = r(58); t.exports = Array.isArray || function (t) { return "Array" == e(t) } }, function (t, n, r) { "use strict"; var e = r(62), i = r(24), o = r(38), u = {}; r(13)(u, r(16)("iterator"), function () { return this }), t.exports = function (t, n, r) { t.prototype = e(u, { next: i(1, r) }), o(t, n + " Iterator") } }, function (t, n) { t.exports = function (t, n) { return { value: n, done: !!t } } }, function (t, n, r) { var e = r(25)("meta"), i = r(18), o = r(9), u = r(14).f, c = 0, f = Object.isExtensible || function () { return !0 }, a = !r(20)(function () { return f(Object.preventExtensions({})) }), s = function (t) { u(t, e, { value: { i: "O" + ++c, w: {} } }) }, l = t.exports = { KEY: e, NEED: !1, fastKey: function (t, n) { if (!i(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t; if (!o(t, e)) { if (!f(t)) return "F"; if (!n) return "E"; s(t) } return t[e].i }, getWeak: function (t, n) { if (!o(t, e)) { if (!f(t)) return !0; if (!n) return !1; s(t) } return t[e].w }, onFreeze: function (t) { return a && l.NEED && f(t) && !o(t, e) && s(t), t } } }, function (t, n, r) { var u = r(14), c = r(22), f = r(29); t.exports = r(12) ? Object.defineProperties : function (t, n) { c(t); for (var r, e = f(n), i = e.length, o = 0; o < i;)u.f(t, r = e[o++], n[r]); return t } }, function (t, n, r) { var e = r(37), i = r(24), o = r(15), u = r(42), c = r(9), f = r(60), a = Object.getOwnPropertyDescriptor; n.f = r(12) ? a : function (t, n) { if (t = o(t), n = u(n, !0), f) try { return a(t, n) } catch (t) { } if (c(t, n)) return i(!e.f.call(t, n), t[n]) } }, function (t, n, r) { var e = r(15), i = r(63).f, o = {}.toString, u = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []; t.exports.f = function (t) { return u && "[object Window]" == o.call(t) ? function (t) { try { return i(t) } catch (t) { return u.slice() } }(t) : i(e(t)) } }, function (t, n, r) { var e = r(9), i = r(55), o = r(39)("IE_PROTO"), u = Object.prototype; t.exports = Object.getPrototypeOf || function (t) { return t = i(t), e(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? u : null } }, function (t, n, r) { var f = r(41), a = r(34); t.exports = function (c) { return function (t, n) { var r, e, i = String(a(t)), o = f(n), u = i.length; return o < 0 || u <= o ? c ? "" : void 0 : (r = i.charCodeAt(o)) < 55296 || 56319 < r || o + 1 === u || (e = i.charCodeAt(o + 1)) < 56320 || 57343 < e ? c ? i.charAt(o) : r : c ? i.slice(o, o + 2) : e - 56320 + (r - 55296 << 10) + 65536 } } }, function (t, n, r) { var e = r(41), i = Math.max, o = Math.min; t.exports = function (t, n) { return (t = e(t)) < 0 ? i(t + n, 0) : o(t, n) } }, function (t, n, r) { var e = r(41), i = Math.min; t.exports = function (t) { return 0 < t ? i(e(t), 9007199254740991) : 0 } }, function (t, n, r) { "use strict"; var e = r(91), i = r(99), o = r(36), u = r(15); t.exports = r(61)(Array, "Array", function (t, n) { this._t = u(t), this._i = 0, this._k = n }, function () { var t = this._t, n = this._k, r = this._i++; return !t || r >= t.length ? (this._t = void 0, i(1)) : i(0, "keys" == n ? r : "values" == n ? t[r] : [r, t[r]]) }, "values"), o.Arguments = o.Array, e("keys"), e("values"), e("entries") }, function (t, n) { }, function (t, n, r) { "use strict"; var e = r(105)(!0); r(61)(String, "String", function (t) { this._t = String(t), this._i = 0 }, function () { var t, n = this._t, r = this._i; return r >= n.length ? { value: void 0, done: !0 } : (t = e(n, r), this._i += t.length, { value: t, done: !1 }) }) }, function (t, n, r) { "use strict"; var e = r(6), u = r(9), i = r(12), o = r(54), c = r(66), f = r(100).KEY, a = r(20), s = r(40), l = r(38), h = r(25), v = r(16), p = r(44), d = r(43), y = r(94), g = r(97), b = r(22), x = r(18), m = r(55), S = r(15), w = r(42), _ = r(24), O = r(62), E = r(103), M = r(102), P = r(64), j = r(14), F = r(29), A = M.f, I = j.f, L = E.f, N = e.Symbol, T = e.JSON, k = T && T.stringify, R = "prototype", C = v("_hidden"), D = v("toPrimitive"), G = {}.propertyIsEnumerable, W = s("symbol-registry"), U = s("symbols"), V = s("op-symbols"), B = Object[R], q = "function" == typeof N && !!P.f, z = e.QObject, K = !z || !z[R] || !z[R].findChild, H = i && a(function () { return 7 != O(I({}, "a", { get: function () { return I(this, "a", { value: 7 }).a } })).a }) ? function (t, n, r) { var e = A(B, n); e && delete B[n], I(t, n, r), e && t !== B && I(B, n, e) } : I, J = function (t) { var n = U[t] = O(N[R]); return n._k = t, n }, $ = q && "symbol" == typeof N.iterator ? function (t) { return "symbol" == typeof t } : function (t) { return t instanceof N }, Y = function (t, n, r) { return t === B && Y(V, n, r), b(t), n = w(n, !0), b(r), u(U, n) ? (r.enumerable ? (u(t, C) && t[C][n] && (t[C][n] = !1), r = O(r, { enumerable: _(0, !1) })) : (u(t, C) || I(t, C, _(1, {})), t[C][n] = !0), H(t, n, r)) : I(t, n, r) }, X = function (t, n) { b(t); for (var r, e = y(n = S(n)), i = 0, o = e.length; i < o;)Y(t, r = e[i++], n[r]); return t }, Q = function (t) { var n = G.call(this, t = w(t, !0)); return !(this === B && u(U, t) && !u(V, t)) && (!(n || !u(this, t) || !u(U, t) || u(this, C) && this[C][t]) || n) }, Z = function (t, n) { if (t = S(t), n = w(n, !0), t !== B || !u(U, n) || u(V, n)) { var r = A(t, n); return !r || !u(U, n) || u(t, C) && t[C][n] || (r.enumerable = !0), r } }, tt = function (t) { for (var n, r = L(S(t)), e = [], i = 0; r.length > i;)u(U, n = r[i++]) || n == C || n == f || e.push(n); return e }, nt = function (t) { for (var n, r = t === B, e = L(r ? V : S(t)), i = [], o = 0; e.length > o;)!u(U, n = e[o++]) || r && !u(B, n) || i.push(U[n]); return i }; q || (c((N = function () { if (this instanceof N) throw TypeError("Symbol is not a constructor!"); var n = h(0 < arguments.length ? arguments[0] : void 0), r = function (t) { this === B && r.call(V, t), u(this, C) && u(this[C], n) && (this[C][n] = !1), H(this, n, _(1, t)) }; return i && K && H(B, n, { configurable: !0, set: r }), J(n) })[R], "toString", function () { return this._k }), M.f = Z, j.f = Y, r(63).f = E.f = tt, r(37).f = Q, P.f = nt, i && !r(23) && c(B, "propertyIsEnumerable", Q, !0), p.f = function (t) { return J(v(t)) }), o(o.G + o.W + o.F * !q, { Symbol: N }); for (var rt = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), et = 0; rt.length > et;)v(rt[et++]); for (var it = F(v.store), ot = 0; it.length > ot;)d(it[ot++]); o(o.S + o.F * !q, "Symbol", { for: function (t) { return u(W, t += "") ? W[t] : W[t] = N(t) }, keyFor: function (t) { if (!$(t)) throw TypeError(t + " is not a symbol!"); for (var n in W) if (W[n] === t) return n }, useSetter: function () { K = !0 }, useSimple: function () { K = !1 } }), o(o.S + o.F * !q, "Object", { create: function (t, n) { return void 0 === n ? O(t) : X(O(t), n) }, defineProperty: Y, defineProperties: X, getOwnPropertyDescriptor: Z, getOwnPropertyNames: tt, getOwnPropertySymbols: nt }); var ut = a(function () { P.f(1) }); o(o.S + o.F * ut, "Object", { getOwnPropertySymbols: function (t) { return P.f(m(t)) } }), T && o(o.S + o.F * (!q || a(function () { var t = N(); return "[null]" != k([t]) || "{}" != k({ a: t }) || "{}" != k(Object(t)) })), "JSON", { stringify: function (t) { for (var n, r, e = [t], i = 1; arguments.length > i;)e.push(arguments[i++]); if (r = n = e[1], (x(n) || void 0 !== t) && !$(t)) return g(n) || (n = function (t, n) { if ("function" == typeof r && (n = r.call(this, t, n)), !$(n)) return n }), e[1] = n, k.apply(T, e) } }), N[R][D] || r(13)(N[R], D, N[R].valueOf), l(N, "Symbol"), l(Math, "Math", !0), l(e.JSON, "JSON", !0) }, function (t, n, r) { r(43)("asyncIterator") }, function (t, n, r) { r(43)("observable") }, function (t, n, r) { r(108); for (var e = r(6), i = r(13), o = r(36), u = r(16)("toStringTag"), c = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","), f = 0; f < c.length; f++) { var a = c[f], s = e[a], l = s && s.prototype; l && !l[u] && i(l, u, a), o[a] = o.Array } }, function (t, n, r) { "use strict"; var e = r(2); t.exports = function () { var t = e(this), n = ""; return t.global && (n += "g"), t.ignoreCase && (n += "i"), t.multiline && (n += "m"), t.unicode && (n += "u"), t.sticky && (n += "y"), n } }, function (t, n, r) { var e = r(45); t.exports = Object("z").propertyIsEnumerable(0) ? Object : function (t) { return "String" == e(t) ? t.split("") : Object(t) } }, function (t, n) { n.f = {}.propertyIsEnumerable }, function (t, n, r) { var e = r(46), i = r(3), o = "__core-js_shared__", u = i[o] || (i[o] = {}); (t.exports = function (t, n) { return u[t] || (u[t] = void 0 !== n ? n : {}) })("versions", []).push({ version: e.version, mode: r(68) ? "pure" : "global", copyright: "© 2019 Denis Pushkarev (zloirock.ru)" }) }, function (t, n, r) { var i = r(2), o = r(21), u = r(7)("species"); t.exports = function (t, n) { var r, e = i(t).constructor; return void 0 === e || null == (r = i(e)[u]) ? n : o(r) } }, function (t, n, r) { var f = r(33), a = r(8), s = r(78); t.exports = function (c) { return function (t, n, r) { var e, i = f(t), o = a(i.length), u = s(r, o); if (c && n != n) { for (; u < o;)if ((e = i[u++]) != e) return !0 } else for (; u < o; u++)if ((c || u in i) && i[u] === n) return c || u || 0; return !c && -1 } } }, function (t, n, r) { "use strict"; var g = r(3), b = r(1), x = r(27), m = r(76), S = r(69), w = r(71), _ = r(70), O = r(5), E = r(4), M = r(125), P = r(83), j = r(144); t.exports = function (e, t, n, r, i, o) { var u = g[e], c = u, f = i ? "set" : "add", a = c && c.prototype, s = {}, l = function (t) { var r = a[t]; x(a, t, "delete" == t ? function (t) { return !(o && !O(t)) && r.call(this, 0 === t ? 0 : t) } : "has" == t ? function (t) { return !(o && !O(t)) && r.call(this, 0 === t ? 0 : t) } : "get" == t ? function (t) { return o && !O(t) ? void 0 : r.call(this, 0 === t ? 0 : t) } : "add" == t ? function (t) { return r.call(this, 0 === t ? 0 : t), this } : function (t, n) { return r.call(this, 0 === t ? 0 : t, n), this }) }; if ("function" == typeof c && (o || a.forEach && !E(function () { (new c).entries().next() }))) { var h = new c, v = h[f](o ? {} : -0, 1) != h, p = E(function () { h.has(1) }), d = M(function (t) { new c(t) }), y = !o && E(function () { for (var t = new c, n = 5; n--;)t[f](n, n); return !t.has(-0) }); d || (((c = t(function (t, n) { _(t, c, e); var r = j(new u, t, c); return null != n && w(n, i, r[f], r), r })).prototype = a).constructor = c), (p || y) && (l("delete"), l("has"), i && l("get")), (y || v) && l(f), o && a.clear && delete a.clear } else c = r.getConstructor(t, e, i, f), m(c.prototype, n), S.NEED = !0; return P(c, e), s[e] = c, b(b.G + b.W + b.F * (c != u), s), o || r.setStrong(c, e, i), c } }, function (t, n, r) { "use strict"; r(197); var s = r(27), l = r(26), h = r(4), v = r(51), p = r(7), d = r(152), y = p("species"), g = !h(function () { var t = /./; return t.exec = function () { var t = []; return t.groups = { a: "7" }, t }, "7" !== "".replace(t, "$<a>") }), b = function () { var t = /(?:)/, n = t.exec; t.exec = function () { return n.apply(this, arguments) }; var r = "ab".split(t); return 2 === r.length && "a" === r[0] && "b" === r[1] }(); t.exports = function (r, t, n) { var e = p(r), o = !h(function () { var t = {}; return t[e] = function () { return 7 }, 7 != ""[r](t) }), i = o ? !h(function () { var t = !1, n = /a/; return n.exec = function () { return t = !0, null }, "split" === r && (n.constructor = {}, n.constructor[y] = function () { return n }), n[e](""), !t }) : void 0; if (!o || !i || "replace" === r && !g || "split" === r && !b) { var u = /./[e], c = n(v, e, ""[r], function (t, n, r, e, i) { return n.exec === d ? o && !i ? { done: !0, value: u.call(n, r, e) } : { done: !0, value: t.call(r, n, e) } : { done: !1 } }), f = c[0], a = c[1]; s(String.prototype, r, f), l(RegExp.prototype, e, 2 == t ? function (t, n) { return a.call(t, this, n) } : function (t) { return a.call(t, this) }) } } }, function (t, n, r) { var e = r(45); t.exports = Array.isArray || function (t) { return "Array" == e(t) } }, function (t, n, r) { var e = r(5), i = r(45), o = r(7)("match"); t.exports = function (t) { var n; return e(t) && (void 0 !== (n = t[o]) ? !!n : "RegExp" == i(t)) } }, function (t, n, r) { var o = r(7)("iterator"), u = !1; try { var e = [7][o](); e.return = function () { u = !0 }, Array.from(e, function () { throw 2 }) } catch (t) { } t.exports = function (t, n) { if (!n && !u) return !1; var r = !1; try { var e = [7], i = e[o](); i.next = function () { return { done: r = !0 } }, e[o] = function () { return i }, t(e) } catch (t) { } return r } }, function (t, n, r) { "use strict"; t.exports = r(68) || !r(4)(function () { var t = Math.random(); __defineSetter__.call(null, t, function () { }), delete r(3)[t] }) }, function (t, n) { n.f = Object.getOwnPropertySymbols }, function (t, n, r) { "use strict"; var i = r(81), o = RegExp.prototype.exec; t.exports = function (t, n) { var r = t.exec; if ("function" == typeof r) { var e = r.call(t, n); if ("object" != typeof e) throw new TypeError("RegExp exec method returned something other than an Object or null"); return e } if ("RegExp" !== i(t)) throw new TypeError("RegExp#exec called on incompatible receiver"); return o.call(t, n) } }, function (t, n, r) { "use strict"; var e = r(1), u = r(21), c = r(47), f = r(71); t.exports = function (t) { e(e.S, t, { from: function (t) { var n, r, e, i, o = arguments[1]; return u(this), (n = void 0 !== o) && u(o), null == t ? new this : (r = [], n ? (e = 0, i = c(o, arguments[2], 2), f(t, !1, function (t) { r.push(i(t, e++)) })) : f(t, !1, r.push, r), new this(r)) } }) } }, function (t, n, r) { "use strict"; var e = r(1); t.exports = function (t) { e(e.S, t, { of: function () { for (var t = arguments.length, n = new Array(t); t--;)n[t] = arguments[t]; return new this(n) } }) } }, function (t, n, r) { var f = r(49), a = r(51); t.exports = function (c) { return function (t, n) { var r, e, i = String(a(t)), o = f(n), u = i.length; return o < 0 || u <= o ? c ? "" : void 0 : (r = i.charCodeAt(o)) < 55296 || 56319 < r || o + 1 === u || (e = i.charCodeAt(o + 1)) < 56320 || 57343 < e ? c ? i.charAt(o) : r : c ? i.slice(o, o + 2) : e - 56320 + (r - 55296 << 10) + 65536 } } }, function (t, n, r) { for (var e, i = r(3), o = r(26), u = r(79), c = u("typed_array"), f = u("view"), a = !(!i.ArrayBuffer || !i.DataView), s = a, l = 0, h = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); l < 9;)(e = i[h[l++]]) ? (o(e.prototype, c, !0), o(e.prototype, f, !0)) : s = !1; t.exports = { ABV: a, CONSTR: s, TYPED: c, VIEW: f } }, function (t, n, r) { var e = r(3).navigator; t.exports = e && e.userAgent || "" }, function (t, n) { "use strict"; var r, e = { versions: (r = window.navigator.userAgent, { trident: -1 < r.indexOf("Trident"), presto: -1 < r.indexOf("Presto"), webKit: -1 < r.indexOf("AppleWebKit"), gecko: -1 < r.indexOf("Gecko") && -1 == r.indexOf("KHTML"), mobile: !!r.match(/AppleWebKit.*Mobile.*/), ios: !!r.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), android: -1 < r.indexOf("Android") || -1 < r.indexOf("Linux"), iPhone: -1 < r.indexOf("iPhone") || -1 < r.indexOf("Mac"), iPad: -1 < r.indexOf("iPad"), webApp: -1 == r.indexOf("Safari"), weixin: -1 == r.indexOf("MicroMessenger") }) }; t.exports = e }, function (t, n, r) { "use strict"; var e, i = r(87), l = (e = i) && e.__esModule ? e : { default: e }, h = function () { function n(t, n, r) { return n || r ? String.fromCharCode(n || r) : o[t] || t } function r(t) { return s[t] } var e = /&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g, i = /['<> "&]/g, o = { "&quot;": '"', "&lt;": "<", "&gt;": ">", "&amp;": "&", "&nbsp;": " " }, u = /\u00a0/g, c = /<br\s*\/?>/gi, f = /\r?\n/g, a = /\s/g, s = {}; for (var t in o) s[o[t]] = t; return o["&apos;"] = "'", s["'"] = "&#39;", { encode: function (t) { return t ? ("" + t).replace(i, r).replace(f, "<br/>").replace(a, "&nbsp;") : "" }, decode: function (t) { return t ? ("" + t).replace(c, "\n").replace(e, n).replace(u, " ") : "" }, encodeBase16: function (t) { if (!t) return t; for (var n = [], r = 0, e = (t += "").length; r < e; r++)n.push(t.charCodeAt(r).toString(16).toUpperCase()); return n.join("") }, encodeBase16forJSON: function (t) { if (!t) return t; for (var n = [], r = 0, e = (t = t.replace(/[\u4E00-\u9FBF]/gi, function (t) { return escape(t).replace("%u", "\\u") })).length; r < e; r++)n.push(t.charCodeAt(r).toString(16).toUpperCase()); return n.join("") }, decodeBase16: function (t) { if (!t) return t; for (var n = [], r = 0, e = (t += "").length; r < e; r += 2)n.push(String.fromCharCode("0x" + t.slice(r, r + 2))); return n.join("") }, encodeObject: function (t) { if (t instanceof Array) for (var n = 0, r = t.length; n < r; n++)t[n] = h.encodeObject(t[n]); else if ("object" == (void 0 === t ? "undefined" : (0, l.default)(t))) for (var e in t) t[e] = h.encodeObject(t[e]); else if ("string" == typeof t) return h.encode(t); return t }, loadScript: function (t) { var n = document.createElement("script"); document.getElementsByTagName("body")[0].appendChild(n), n.setAttribute("src", t) }, addLoadEvent: function (t) { var n = window.onload; "function" != typeof window.onload ? window.onload = t : window.onload = function () { n(), t() } } } }(); t.exports = h }, function (t, n, r) { "use strict"; var e = r(131)(!0); t.exports = function (t, n, r) { return n + (r ? e(t, n).length : 1) } }, function (t, n, r) { "use strict"; var c = r(17), f = r(78), a = r(8); t.exports = function (t) { for (var n = c(this), r = a(n.length), e = arguments.length, i = f(1 < e ? arguments[1] : void 0, r), o = 2 < e ? arguments[2] : void 0, u = void 0 === o ? r : f(o, r); i < u;)n[i++] = t; return n } }, function (t, n, r) { var e = r(215); t.exports = function (t, n) { return new (e(t))(n) } }, function (t, n, r) { "use strict"; var e = r(11), i = r(75); t.exports = function (t, n, r) { n in t ? e.f(t, n, i(0, r)) : t[n] = r } }, function (t, n, r) { var e = r(5), i = r(3).document, o = e(i) && e(i.createElement); t.exports = function (t) { return o ? i.createElement(t) : {} } }, function (t, n) { t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",") }, function (t, n, r) { var e = r(7)("match"); t.exports = function (n) { var r = /./; try { "/./"[n](r) } catch (t) { try { return r[e] = !1, !"/./"[n](r) } catch (n) { } } return !0 } }, function (t, n, r) { var e = r(3).document; t.exports = e && e.documentElement }, function (t, n, r) { var o = r(5), u = r(153).set; t.exports = function (t, n, r) { var e, i = n.constructor; return i !== r && "function" == typeof i && (e = i.prototype) !== r.prototype && o(e) && u && u(t, e), t } }, function (t, n, r) { var e = r(82), i = r(7)("iterator"), o = Array.prototype; t.exports = function (t) { return void 0 !== t && (e.Array === t || o[i] === t) } }, function (t, n, r) { "use strict"; var e = r(72), i = r(75), o = r(83), u = {}; r(26)(u, r(7)("iterator"), function () { return this }), t.exports = function (t, n, r) { t.prototype = e(u, { next: i(1, r) }), o(t, n + " Iterator") } }, function (t, n, r) { "use strict"; var x = r(68), m = r(1), S = r(27), w = r(26), _ = r(82), O = r(146), E = r(83), M = r(32), P = r(7)("iterator"), j = !([].keys && "next" in [].keys()), F = "values", A = function () { return this }; t.exports = function (t, n, r, e, i, o, u) { O(r, n, e); var c, f, a, s = function (t) { if (!j && t in p) return p[t]; switch (t) { case "keys": case F: return function () { return new r(this, t) } }return function () { return new r(this, t) } }, l = n + " Iterator", h = i == F, v = !1, p = t.prototype, d = p[P] || p["@@iterator"] || i && p[i], y = d || s(i), g = i ? h ? s("entries") : y : void 0, b = "Array" == n && p.entries || d; if (b && ((a = M(b.call(new t))) !== Object.prototype && a.next && (E(a, l, !0), x || "function" == typeof a[P] || w(a, P, A))), h && d && d.name !== F && (v = !0, y = function () { return d.call(this) }), x && !u || !j && !v && p[P] || w(p, P, y), _[n] = y, _[l] = A, i) if (c = { values: h ? y : s(F), keys: o ? y : s("keys"), entries: g }, u) for (f in c) f in p || S(p, f, c[f]); else m(m.P + m.F * (j || v), n, c); return c } }, function (t, n) { var r = Math.expm1; t.exports = !r || 22025.465794806718 < r(10) || r(10) < 22025.465794806718 || -2e-17 != r(-2e-17) ? function (t) { return 0 == (t = +t) ? t : -1e-6 < t && t < 1e-6 ? t + t * t / 2 : Math.exp(t) - 1 } : r }, function (t, n) { t.exports = Math.sign || function (t) { return 0 == (t = +t) || t != t ? t : t < 0 ? -1 : 1 } }, function (t, n, r) { var c = r(3), f = r(158).set, a = c.MutationObserver || c.WebKitMutationObserver, s = c.process, l = c.Promise, h = "process" == r(45)(s); t.exports = function () { var r, e, i, t = function () { var t, n; for (h && (t = s.domain) && t.exit(); r;) { n = r.fn, r = r.next; try { n() } catch (t) { throw r ? i() : e = void 0, t } } e = void 0, t && t.enter() }; if (h) i = function () { s.nextTick(t) }; else if (!a || c.navigator && c.navigator.standalone) if (l && l.resolve) { var n = l.resolve(void 0); i = function () { n.then(t) } } else i = function () { f.call(c, t) }; else { var o = !0, u = document.createTextNode(""); new a(t).observe(u, { characterData: !0 }), i = function () { u.data = o = !o } } return function (t) { var n = { fn: t, next: void 0 }; e && (e.next = n), r || (r = n, i()), e = n } } }, function (t, n, r) { "use strict"; function e(t) { var r, e; this.promise = new t(function (t, n) { if (void 0 !== r || void 0 !== e) throw TypeError("Bad Promise constructor"); r = t, e = n }), this.resolve = i(r), this.reject = i(e) } var i = r(21); t.exports.f = function (t) { return new e(t) } }, function (t, n, r) { "use strict"; var e, i, u = r(115), c = RegExp.prototype.exec, f = String.prototype.replace, o = c, a = "lastIndex", s = (e = /a/, i = /b*/g, c.call(e, "a"), c.call(i, "a"), 0 !== e[a] || 0 !== i[a]), l = void 0 !== /()??/.exec("")[1]; (s || l) && (o = function (t) { var n, r, e, i, o = this; return l && (r = new RegExp("^" + o.source + "$(?!\\s)", u.call(o))), s && (n = o[a]), e = c.call(o, t), s && e && (o[a] = o.global ? e.index + e[0].length : n), l && e && 1 < e.length && f.call(e[0], r, function () { for (i = 1; i < arguments.length - 2; i++)void 0 === arguments[i] && (e[i] = void 0) }), e }), t.exports = o }, function (t, n, i) { var r = i(5), e = i(2), o = function (t, n) { if (e(t), !r(n) && null !== n) throw TypeError(n + ": can't set as prototype!") }; t.exports = { set: Object.setPrototypeOf || ("__proto__" in {} ? function (t, r, e) { try { (e = i(47)(Function.call, i(31).f(Object.prototype, "__proto__").set, 2))(t, []), r = !(t instanceof Array) } catch (t) { r = !0 } return function (t, n) { return o(t, n), r ? t.__proto__ = n : e(t, n), t } }({}, !1) : void 0), check: o } }, function (t, n, r) { var e = r(118)("keys"), i = r(79); t.exports = function (t) { return e[t] || (e[t] = i(t)) } }, function (t, n, r) { var e = r(124), i = r(51); t.exports = function (t, n, r) { if (e(n)) throw TypeError("String#" + r + " doesn't accept regex!"); return String(i(t)) } }, function (t, n, r) { "use strict"; var i = r(49), o = r(51); t.exports = function (t) { var n = String(o(this)), r = "", e = i(t); if (e < 0 || e == 1 / 0) throw RangeError("Count can't be negative"); for (; 0 < e; (e >>>= 1) && (n += n))1 & e && (r += n); return r } }, function (t, n) { t.exports = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff" }, function (t, n, r) { var e, i, o, u = r(47), c = r(175), f = r(143), a = r(140), s = r(3), l = s.process, h = s.setImmediate, v = s.clearImmediate, p = s.MessageChannel, d = s.Dispatch, y = 0, g = {}, b = "onreadystatechange", x = function () { var t = +this; if (g.hasOwnProperty(t)) { var n = g[t]; delete g[t], n() } }, m = function (t) { x.call(t.data) }; h && v || (h = function (t) { for (var n = [], r = 1; arguments.length > r;)n.push(arguments[r++]); return g[++y] = function () { c("function" == typeof t ? t : Function(t), n) }, e(y), y }, v = function (t) { delete g[t] }, "process" == r(45)(l) ? e = function (t) { l.nextTick(u(x, t, 1)) } : d && d.now ? e = function (t) { d.now(u(x, t, 1)) } : p ? (o = (i = new p).port2, i.port1.onmessage = m, e = u(o.postMessage, o, 1)) : s.addEventListener && "function" == typeof postMessage && !s.importScripts ? (e = function (t) { s.postMessage(t + "", "*") }, s.addEventListener("message", m, !1)) : e = b in a("script") ? function (t) { f.appendChild(a("script"))[b] = function () { f.removeChild(this), x.call(t) } } : function (t) { setTimeout(u(x, t, 1), 0) }), t.exports = { set: h, clear: v } }, function (t, n, r) { "use strict"; function e(t, n, r) { var e, i, o, u = new Array(r), c = 8 * r - n - 1, f = (1 << c) - 1, a = f >> 1, s = 23 === n ? W(2, -24) - W(2, -77) : 0, l = 0, h = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0; for ((t = G(t)) != t || t === C ? (i = t != t ? 1 : 0, e = f) : (e = U(V(t) / B), t * (o = W(2, -e)) < 1 && (e--, o *= 2), 2 <= (t += 1 <= e + a ? s / o : s * W(2, 1 - a)) * o && (e++, o /= 2), f <= e + a ? (i = 0, e = f) : 1 <= e + a ? (i = (t * o - 1) * W(2, n), e += a) : (i = t * W(2, a - 1) * W(2, n), e = 0)); 8 <= n; u[l++] = 255 & i, i /= 256, n -= 8); for (e = e << n | i, c += n; 0 < c; u[l++] = 255 & e, e /= 256, c -= 8); return u[--l] |= 128 * h, u } function i(t, n, r) { var e, i = 8 * r - n - 1, o = (1 << i) - 1, u = o >> 1, c = i - 7, f = r - 1, a = t[f--], s = 127 & a; for (a >>= 7; 0 < c; s = 256 * s + t[f], f--, c -= 8); for (e = s & (1 << -c) - 1, s >>= -c, c += n; 0 < c; e = 256 * e + t[f], f--, c -= 8); if (0 === s) s = 1 - u; else { if (s === o) return e ? NaN : a ? -C : C; e += W(2, n), s -= u } return (a ? -1 : 1) * e * W(2, s - n) } function o(t) { return t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0] } function u(t) { return [255 & t] } function c(t) { return [255 & t, t >> 8 & 255] } function f(t) { return [255 & t, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255] } function a(t) { return e(t, 52, 8) } function s(t) { return e(t, 23, 4) } function l(t, n, r) { M(t[I], n, { get: function () { return this[r] } }) } function h(t, n, r, e) { var i = O(+r); if (i + n > t[H]) throw R(L); var o = t[K]._b, u = i + t[J], c = o.slice(u, u + n); return e ? c : c.reverse() } function v(t, n, r, e, i, o) { var u = O(+r); if (u + n > t[H]) throw R(L); for (var c = t[K]._b, f = u + t[J], a = e(+i), s = 0; s < n; s++)c[f + s] = a[o ? s : n - s - 1] } var p = r(3), d = r(10), y = r(68), g = r(132), b = r(26), x = r(76), m = r(4), S = r(70), w = r(49), _ = r(8), O = r(194), E = r(73).f, M = r(11).f, P = r(137), j = r(83), F = "ArrayBuffer", A = "DataView", I = "prototype", L = "Wrong index!", N = p[F], T = p[A], k = p.Math, R = p.RangeError, C = p.Infinity, D = N, G = k.abs, W = k.pow, U = k.floor, V = k.log, B = k.LN2, q = "byteLength", z = "byteOffset", K = d ? "_b" : "buffer", H = d ? "_l" : q, J = d ? "_o" : z; if (g.ABV) { if (!m(function () { N(1) }) || !m(function () { new N(-1) }) || m(function () { return new N, new N(1.5), new N(NaN), N.name != F })) { for (var $, Y = (N = function (t) { return S(this, N), new D(O(t)) })[I] = D[I], X = E(D), Q = 0; X.length > Q;)($ = X[Q++]) in N || b(N, $, D[$]); y || (Y.constructor = N) } var Z = new T(new N(2)), tt = T[I].setInt8; Z.setInt8(0, 2147483648), Z.setInt8(1, 2147483649), !Z.getInt8(0) && Z.getInt8(1) || x(T[I], { setInt8: function (t, n) { tt.call(this, t, n << 24 >> 24) }, setUint8: function (t, n) { tt.call(this, t, n << 24 >> 24) } }, !0) } else N = function (t) { S(this, N, F); var n = O(t); this._b = P.call(new Array(n), 0), this[H] = n }, T = function (t, n, r) { S(this, T, A), S(t, N, A); var e = t[H], i = w(n); if (i < 0 || e < i) throw R("Wrong offset!"); if (e < i + (r = void 0 === r ? e - i : _(r))) throw R("Wrong length!"); this[K] = t, this[J] = i, this[H] = r }, d && (l(N, q, "_l"), l(T, "buffer", "_b"), l(T, q, "_l"), l(T, z, "_o")), x(T[I], { getInt8: function (t) { return h(this, 1, t)[0] << 24 >> 24 }, getUint8: function (t) { return h(this, 1, t)[0] }, getInt16: function (t) { var n = h(this, 2, t, arguments[1]); return (n[1] << 8 | n[0]) << 16 >> 16 }, getUint16: function (t) { var n = h(this, 2, t, arguments[1]); return n[1] << 8 | n[0] }, getInt32: function (t) { return o(h(this, 4, t, arguments[1])) }, getUint32: function (t) { return o(h(this, 4, t, arguments[1])) >>> 0 }, getFloat32: function (t) { return i(h(this, 4, t, arguments[1]), 23, 4) }, getFloat64: function (t) { return i(h(this, 8, t, arguments[1]), 52, 8) }, setInt8: function (t, n) { v(this, 1, t, u, n) }, setUint8: function (t, n) { v(this, 1, t, u, n) }, setInt16: function (t, n) { v(this, 2, t, c, n, arguments[2]) }, setUint16: function (t, n) { v(this, 2, t, c, n, arguments[2]) }, setInt32: function (t, n) { v(this, 4, t, f, n, arguments[2]) }, setUint32: function (t, n) { v(this, 4, t, f, n, arguments[2]) }, setFloat32: function (t, n) { v(this, 4, t, s, n, arguments[2]) }, setFloat64: function (t, n) { v(this, 8, t, a, n, arguments[2]) } }); j(N, F), j(T, A), b(T[I], g.VIEW, !0), n[F] = N, n[A] = T }, function (t, n, r) { var e = r(3), i = r(46), o = r(68), u = r(195), c = r(11).f; t.exports = function (t) { var n = i.Symbol || (i.Symbol = o ? {} : e.Symbol || {}); "_" == t.charAt(0) || t in n || c(n, t, { value: u.f(t) }) } }, function (t, n, r) { var e = r(81), i = r(7)("iterator"), o = r(82); t.exports = r(46).getIteratorMethod = function (t) { if (null != t) return t[i] || t["@@iterator"] || o[e(t)] } }, function (t, n, r) { "use strict"; var e = r(67), i = r(178), o = r(82), u = r(33); t.exports = r(147)(Array, "Array", function (t, n) { this._t = u(t), this._i = 0, this._k = n }, function () { var t = this._t, n = this._k, r = this._i++; return !t || r >= t.length ? (this._t = void 0, i(1)) : i(0, "keys" == n ? r : "values" == n ? t[r] : [r, t[r]]) }, "values"), o.Arguments = o.Array, e("keys"), e("values"), e("entries") }, function (t, n) { t.exports = function (t, n) { t.classList ? t.classList.add(n) : t.className += " " + n } }, function (t, n) { t.exports = function (t, n) { if (t.classList) t.classList.remove(n); else { var r = new RegExp("(^|\\b)" + n.split(" ").join("|") + "(\\b|$)", "gi"); t.className = t.className.replace(r, " ") } } }, function (t, n, r) { var e = r(45); t.exports = function (t, n) { if ("number" != typeof t && "Number" != e(t)) throw TypeError(n); return +t } }, function (t, n, r) { "use strict"; var a = r(17), s = r(78), l = r(8); t.exports = [].copyWithin || function (t, n) { var r = a(this), e = l(r.length), i = s(t, e), o = s(n, e), u = 2 < arguments.length ? arguments[2] : void 0, c = Math.min((void 0 === u ? e : s(u, e)) - o, e - i), f = 1; for (o < i && i < o + c && (f = -1, o += c - 1, i += c - 1); 0 < c--;)o in r ? r[i] = r[o] : delete r[i], i += f, o += f; return r } }, function (t, n, r) { var e = r(71); t.exports = function (t, n) { var r = []; return e(t, !1, r.push, r, n), r } }, function (t, n, r) { var s = r(21), l = r(17), h = r(116), v = r(8); t.exports = function (t, n, r, e, i) { s(n); var o = l(t), u = h(o), c = v(o.length), f = i ? c - 1 : 0, a = i ? -1 : 1; if (r < 2) for (; ;) { if (f in u) { e = u[f], f += a; break } if (f += a, i ? f < 0 : c <= f) throw TypeError("Reduce of empty array with no initial value") } for (; i ? 0 <= f : f < c; f += a)f in u && (e = n(e, u[f], f, o)); return e } }, function (t, n, r) { "use strict"; var o = r(21), u = r(5), c = r(175), f = [].slice, a = {}; t.exports = Function.bind || function (n) { var r = o(this), e = f.call(arguments, 1), i = function () { var t = e.concat(f.call(arguments)); return this instanceof i ? function (t, n, r) { if (!(n in a)) { for (var e = [], i = 0; i < n; i++)e[i] = "a[" + i + "]"; a[n] = Function("F,a", "return new F(" + e.join(",") + ")") } return a[n](t, r) }(r, t.length, t) : c(r, t, n) }; return u(r.prototype) && (i.prototype = r.prototype), i } }, function (t, n, r) { "use strict"; var u = r(11).f, c = r(72), f = r(76), a = r(47), s = r(70), l = r(71), e = r(147), i = r(178), o = r(77), h = r(10), v = r(69).fastKey, p = r(80), d = h ? "_s" : "size", y = function (t, n) { var r, e = v(n); if ("F" !== e) return t._i[e]; for (r = t._f; r; r = r.n)if (r.k == n) return r }; t.exports = { getConstructor: function (t, o, r, e) { var i = t(function (t, n) { s(t, i, o, "_i"), t._t = o, t._i = c(null), t._f = void 0, t._l = void 0, t[d] = 0, null != n && l(n, r, t[e], t) }); return f(i.prototype, { clear: function () { for (var t = p(this, o), n = t._i, r = t._f; r; r = r.n)r.r = !0, r.p && (r.p = r.p.n = void 0), delete n[r.i]; t._f = t._l = void 0, t[d] = 0 }, delete: function (t) { var n = p(this, o), r = y(n, t); if (r) { var e = r.n, i = r.p; delete n._i[r.i], r.r = !0, i && (i.n = e), e && (e.p = i), n._f == r && (n._f = e), n._l == r && (n._l = i), n[d]-- } return !!r }, forEach: function (t) { p(this, o); for (var n, r = a(t, 1 < arguments.length ? arguments[1] : void 0, 3); n = n ? n.n : this._f;)for (r(n.v, n.k, this); n && n.r;)n = n.p }, has: function (t) { return !!y(p(this, o), t) } }), h && u(i.prototype, "size", { get: function () { return p(this, o)[d] } }), i }, def: function (t, n, r) { var e, i, o = y(t, n); return o ? o.v = r : (t._l = o = { i: i = v(n, !0), k: n, v: r, p: e = t._l, n: void 0, r: !1 }, t._f || (t._f = o), e && (e.n = o), t[d]++, "F" !== i && (t._i[i] = o)), t }, getEntry: y, setStrong: function (t, r, n) { e(t, r, function (t, n) { this._t = p(t, r), this._k = n, this._l = void 0 }, function () { for (var t = this, n = t._k, r = t._l; r && r.r;)r = r.p; return t._t && (t._l = r = r ? r.n : t._t._f) ? i(0, "keys" == n ? r.k : "values" == n ? r.v : [r.k, r.v]) : (t._t = void 0, i(1)) }, n ? "entries" : "values", !n, !0), o(r) } } }, function (t, n, r) { var e = r(81), i = r(167); t.exports = function (t) { return function () { if (e(this) != t) throw TypeError(t + "#toJSON isn't generic"); return i(this) } } }, function (t, n, r) { "use strict"; var u = r(76), c = r(69).getWeak, i = r(2), f = r(5), a = r(70), s = r(71), e = r(50), l = r(30), h = r(80), o = e(5), v = e(6), p = 0, d = function (t) { return t._l || (t._l = new y) }, y = function () { this.a = [] }, g = function (t, n) { return o(t.a, function (t) { return t[0] === n }) }; y.prototype = { get: function (t) { var n = g(this, t); if (n) return n[1] }, has: function (t) { return !!g(this, t) }, set: function (t, n) { var r = g(this, t); r ? r[1] = n : this.a.push([t, n]) }, delete: function (n) { var t = v(this.a, function (t) { return t[0] === n }); return ~t && this.a.splice(t, 1), !!~t } }, t.exports = { getConstructor: function (t, r, e, i) { var o = t(function (t, n) { a(t, o, r, "_i"), t._t = r, t._i = p++, t._l = void 0, null != n && s(n, e, t[i], t) }); return u(o.prototype, { delete: function (t) { if (!f(t)) return !1; var n = c(t); return !0 === n ? d(h(this, r)).delete(t) : n && l(n, this._i) && delete n[this._i] }, has: function (t) { if (!f(t)) return !1; var n = c(t); return !0 === n ? d(h(this, r)).has(t) : n && l(n, this._i) } }), o }, def: function (t, n, r) { var e = c(i(n), !0); return !0 === e ? d(t).set(n, r) : e[t._i] = r, t }, ufstore: d } }, function (t, n, r) { "use strict"; var p = r(123), d = r(5), y = r(8), g = r(47), b = r(7)("isConcatSpreadable"); t.exports = function t(n, r, e, i, o, u, c, f) { for (var a, s, l = o, h = 0, v = !!c && g(c, f, 3); h < i;) { if (h in e) { if (a = v ? v(e[h], h, r) : e[h], s = !1, d(a) && (s = void 0 !== (s = a[b]) ? !!s : p(a)), s && 0 < u) l = t(n, r, a, y(a.length), l, u - 1) - 1; else { if (9007199254740991 <= l) throw TypeError(); n[l] = a } l++ } h++ } return l } }, function (t, n, r) { t.exports = !r(10) && !r(4)(function () { return 7 != Object.defineProperty(r(140)("div"), "a", { get: function () { return 7 } }).a }) }, function (t, n) { t.exports = function (t, n, r) { var e = void 0 === r; switch (n.length) { case 0: return e ? t() : t.call(r); case 1: return e ? t(n[0]) : t.call(r, n[0]); case 2: return e ? t(n[0], n[1]) : t.call(r, n[0], n[1]); case 3: return e ? t(n[0], n[1], n[2]) : t.call(r, n[0], n[1], n[2]); case 4: return e ? t(n[0], n[1], n[2], n[3]) : t.call(r, n[0], n[1], n[2], n[3]) }return t.apply(r, n) } }, function (t, n, r) { var e = r(5), i = Math.floor; t.exports = function (t) { return !e(t) && isFinite(t) && i(t) === t } }, function (t, n, r) { var o = r(2); t.exports = function (t, n, r, e) { try { return e ? n(o(r)[0], r[1]) : n(r) } catch (n) { var i = t.return; throw void 0 !== i && o(i.call(t)), n } } }, function (t, n) { t.exports = function (t, n) { return { value: n, done: !!t } } }, function (t, n, r) { var o = r(149), e = Math.pow, u = e(2, -52), c = e(2, -23), f = e(2, 127) * (2 - c), a = e(2, -126); t.exports = Math.fround || function (t) { var n, r, e = Math.abs(t), i = o(t); return e < a ? i * (e / a / c + 1 / u - 1 / u) * a * c : f < (r = (n = (1 + c / u) * e) - (n - e)) || r != r ? i * (1 / 0) : i * r } }, function (t, n) { t.exports = Math.log1p || function (t) { return -1e-8 < (t = +t) && t < 1e-8 ? t - t * t / 2 : Math.log(1 + t) } }, function (t, n) { t.exports = Math.scale || function (t, n, r, e, i) { return 0 === arguments.length || t != t || n != n || r != r || e != e || i != i ? NaN : t === 1 / 0 || t === -1 / 0 ? t : (t - n) * (i - e) / (r - n) + e } }, function (t, n, r) { "use strict"; var h = r(10), v = r(74), p = r(127), d = r(117), y = r(17), g = r(116), i = Object.assign; t.exports = !i || r(4)(function () { var t = {}, n = {}, r = Symbol(), e = "abcdefghijklmnopqrst"; return t[r] = 7, e.split("").forEach(function (t) { n[t] = t }), 7 != i({}, t)[r] || Object.keys(i({}, n)).join("") != e }) ? function (t, n) { for (var r = y(t), e = arguments.length, i = 1, o = p.f, u = d.f; i < e;)for (var c, f = g(arguments[i++]), a = o ? v(f).concat(o(f)) : v(f), s = a.length, l = 0; l < s;)c = a[l++], h && !u.call(f, c) || (r[c] = f[c]); return r } : i }, function (t, n, r) { var u = r(11), c = r(2), f = r(74); t.exports = r(10) ? Object.defineProperties : function (t, n) { c(t); for (var r, e = f(n), i = e.length, o = 0; o < i;)u.f(t, r = e[o++], n[r]); return t } }, function (t, n, r) { var e = r(33), i = r(73).f, o = {}.toString, u = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []; t.exports.f = function (t) { return u && "[object Window]" == o.call(t) ? function (t) { try { return i(t) } catch (t) { return u.slice() } }(t) : i(e(t)) } }, function (t, n, r) { var u = r(30), c = r(33), f = r(120)(!1), a = r(154)("IE_PROTO"); t.exports = function (t, n) { var r, e = c(t), i = 0, o = []; for (r in e) r != a && u(e, r) && o.push(r); for (; n.length > i;)u(e, r = n[i++]) && (~f(o, r) || o.push(r)); return o } }, function (t, n, r) { var f = r(10), a = r(74), s = r(33), l = r(117).f; t.exports = function (c) { return function (t) { for (var n, r = s(t), e = a(r), i = e.length, o = 0, u = []; o < i;)n = e[o++], f && !l.call(r, n) || u.push(c ? [n, r[n]] : r[n]); return u } } }, function (t, n, r) { var e = r(73), i = r(127), o = r(2), u = r(3).Reflect; t.exports = u && u.ownKeys || function (t) { var n = e.f(o(t)), r = i.f; return r ? n.concat(r(t)) : n } }, function (t, n, r) { var e = r(3).parseFloat, i = r(84).trim; t.exports = 1 / e(r(157) + "-0") != -1 / 0 ? function (t) { var n = i(String(t), 3), r = e(n); return 0 === r && "-" == n.charAt(0) ? -0 : r } : e }, function (t, n, r) { var e = r(3).parseInt, i = r(84).trim, o = r(157), u = /^[-+]?0[xX]/; t.exports = 8 !== e(o + "08") || 22 !== e(o + "0x16") ? function (t, n) { var r = i(String(t), 3); return e(r, n >>> 0 || (u.test(r) ? 16 : 10)) } : e }, function (t, n) { t.exports = function (t) { try { return { e: !1, v: t() } } catch (t) { return { e: !0, v: t } } } }, function (t, n, r) { var e = r(2), i = r(5), o = r(151); t.exports = function (t, n) { if (e(t), i(n) && n.constructor === t) return n; var r = o.f(t); return (0, r.resolve)(n), r.promise } }, function (t, n) { t.exports = Object.is || function (t, n) { return t === n ? 0 !== t || 1 / t == 1 / n : t != t && n != n } }, function (t, n, r) { var s = r(8), l = r(156), h = r(51); t.exports = function (t, n, r, e) { var i = String(h(t)), o = i.length, u = void 0 === r ? " " : String(r), c = s(n); if (c <= o || "" == u) return i; var f = c - o, a = l.call(u, Math.ceil(f / u.length)); return a.length > f && (a = a.slice(0, f)), e ? a + i : i + a } }, function (t, n, r) { var e = r(49), i = r(8); t.exports = function (t) { if (void 0 === t) return 0; var n = e(t), r = i(n); if (n !== r) throw RangeError("Wrong length!"); return r } }, function (t, n, r) { n.f = r(7) }, function (t, n, r) { "use strict"; var e = r(170), i = r(80); t.exports = r(121)("Map", function (t) { return function () { return t(this, 0 < arguments.length ? arguments[0] : void 0) } }, { get: function (t) { var n = e.getEntry(i(this, "Map"), t); return n && n.v }, set: function (t, n) { return e.def(i(this, "Map"), 0 === t ? 0 : t, n) } }, e, !0) }, function (t, n, r) { "use strict"; var e = r(152); r(1)({ target: "RegExp", proto: !0, forced: e !== /./.exec }, { exec: e }) }, function (t, n, r) { r(10) && "g" != /./g.flags && r(11).f(RegExp.prototype, "flags", { configurable: !0, get: r(115) }) }, function (t, n, r) { "use strict"; var e = r(170), i = r(80); t.exports = r(121)("Set", function (t) { return function () { return t(this, 0 < arguments.length ? arguments[0] : void 0) } }, { add: function (t) { return e.def(i(this, "Set"), t = 0 === t ? 0 : t, t) } }, e) }, function (t, n, r) { "use strict"; var o, e = r(3), i = r(50)(0), u = r(27), c = r(69), f = r(182), a = r(172), s = r(5), l = r(80), h = r(80), v = !e.ActiveXObject && "ActiveXObject" in e, p = "WeakMap", d = c.getWeak, y = Object.isExtensible, g = a.ufstore, b = function (t) { return function () { return t(this, 0 < arguments.length ? arguments[0] : void 0) } }, x = { get: function (t) { if (s(t)) { var n = d(t); return !0 === n ? g(l(this, p)).get(t) : n ? n[this._i] : void 0 } }, set: function (t, n) { return a.def(l(this, p), t, n) } }, m = t.exports = r(121)(p, b, x, a, !0, !0); h && v && (f((o = a.getConstructor(b, p)).prototype, x), c.NEED = !0, i(["delete", "has", "get", "set"], function (e) { var t = m.prototype, i = t[e]; u(t, e, function (t, n) { if (!s(t) || y(t)) return i.call(this, t, n); this._f || (this._f = new o); var r = this._f[e](t, n); return "set" == e ? this : r }) })) }, , , , function (t, n) { "use strict"; t.exports = { init: function () { var t = document.querySelector("#page-nav"); t && !document.querySelector("#page-nav .extend.prev") && (t.innerHTML = '<a class="extend prev disabled" rel="prev">&laquo; Prev</a>' + t.innerHTML), t && !document.querySelector("#page-nav .extend.next") && (t.innerHTML = t.innerHTML + '<a class="extend next disabled" rel="next">Next &raquo;</a>'), yiliaConfig && yiliaConfig.open_in_new && document.querySelectorAll(".article-entry a:not(.article-more-a)").forEach(function (t) { var n = t.getAttribute("target"); n && "" !== n || t.setAttribute("target", "_blank") }), yiliaConfig && yiliaConfig.toc_hide_index && document.querySelectorAll(".toc-number").forEach(function (t) { t.style.display = "none" }) } } }, function (t, n, r) { "use strict"; function e(t) { return t && t.__esModule ? t : { default: t } } function i(t, n, r, e, i) { var o = function (t) { for (var n = t.offsetLeft, r = t.offsetParent; null !== r;)n += r.offsetLeft, r = r.offsetParent; return n }(t), u = function (t) { for (var n = t.offsetTop, r = t.offsetParent; null !== r;)n += r.offsetTop, r = r.offsetParent; return n }(t) - n; if (u - r <= i) { var c = t.$newDom; c || (c = t.cloneNode(!0), (0, a.default)(t, c), (t.$newDom = c).style.position = "fixed", c.style.top = (r || u) + "px", c.style.left = o + "px", c.style.zIndex = e || 2, c.style.width = "100%", c.style.color = "#fff"), c.style.visibility = "visible", t.style.visibility = "hidden" } else { t.style.visibility = "visible"; var f = t.$newDom; f && (f.style.visibility = "hidden") } } function o() { var t = document.querySelector(".js-overlay"), n = document.querySelector(".js-header-menu"); i(t, document.body.scrollTop, -63, 2, 0), i(n, document.body.scrollTop, 1, 3, 0) } var f = e(r(163)), a = e((e(r(164)), r(414))), u = e(r(134)), c = e(r(204)), s = r(135); u.default.versions.mobile && window.screen.width < 800 && (function () { for (var t = document.querySelectorAll(".js-header-menu li a"), n = window.location.pathname, r = 0, e = t.length; r < e; r++) { var i = t[r]; o = n, u = i.getAttribute("href"), c = /\/|index.html/g, o.replace(c, "") === u.replace(c, "") && (0, f.default)(i, "active") } var o, u, c }(), document.querySelector("#container").addEventListener("scroll", function (t) { o() }), window.addEventListener("scroll", function (t) { o() }), o()), (0, s.addLoadEvent)(function () { c.default.init() }), t.exports = {} }, , , function (t, n, r) { (function (t) { "use strict"; function n(t, n, r) { t[n] || Object.defineProperty(t, n, { writable: !0, configurable: !0, value: r }) } if (r(413), r(209), r(211), t._babelPolyfill) throw new Error("only one instance of babel-polyfill is allowed"); t._babelPolyfill = !0; n(String.prototype, "padLeft", "".padStart), n(String.prototype, "padRight", "".padEnd), "pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function (t) { [][t] && n(Array, t, Function.call.bind([][t])) }) }).call(n, function () { return this }()) }, function (L, t) { (function (t) { !function (t) { "use strict"; function o(t, n, r, e) { var o, u, c, f, i = n && n.prototype instanceof h ? n : h, a = Object.create(i.prototype), s = new p(e || []); return a._invoke = (o = t, u = r, c = s, f = _, function (t, n) { if (f === E) throw new Error("Generator is already running"); if (f === M) { if ("throw" === t) throw n; return d() } for (c.method = t, c.arg = n; ;) { var r = c.delegate; if (r) { var e = v(r, c); if (e) { if (e === P) continue; return e } } if ("next" === c.method) c.sent = c._sent = c.arg; else if ("throw" === c.method) { if (f === _) throw f = M, c.arg; c.dispatchException(c.arg) } else "return" === c.method && c.abrupt("return", c.arg); f = E; var i = l(o, u, c); if ("normal" === i.type) { if (f = c.done ? M : O, i.arg === P) continue; return { value: i.arg, done: c.done } } "throw" === i.type && (f = M, c.method = "throw", c.arg = i.arg) } }), a } function l(t, n, r) { try { return { type: "normal", arg: t.call(n, r) } } catch (t) { return { type: "throw", arg: t } } } function h() { } function r() { } function n() { } function e(t) { ["next", "throw", "return"].forEach(function (n) { t[n] = function (t) { return this._invoke(n, t) } }) } function u(c) { function f(t, n, r, e) { var i = l(c[t], c, n); if ("throw" !== i.type) { var o = i.arg, u = o.value; return u && "object" == typeof u && y.call(u, "__await") ? Promise.resolve(u.__await).then(function (t) { f("next", t, r, e) }, function (t) { f("throw", t, r, e) }) : Promise.resolve(u).then(function (t) { o.value = t, r(o) }, e) } e(i.arg) } var n; "object" == typeof t.process && t.process.domain && (f = t.process.domain.bind(f)), this._invoke = function (r, e) { function t() { return new Promise(function (t, n) { f(r, e, t, n) }) } return n = n ? n.then(t, t) : t() } } function v(t, n) { var r = t.iterator[n.method]; if (r === a) { if (n.delegate = null, "throw" === n.method) { if (t.iterator.return && (n.method = "return", n.arg = a, v(t, n), "throw" === n.method)) return P; n.method = "throw", n.arg = new TypeError("The iterator does not provide a 'throw' method") } return P } var e = l(r, t.iterator, n.arg); if ("throw" === e.type) return n.method = "throw", n.arg = e.arg, n.delegate = null, P; var i = e.arg; return i ? i.done ? (n[t.resultName] = i.value, n.next = t.nextLoc, "return" !== n.method && (n.method = "next", n.arg = a), n.delegate = null, P) : i : (n.method = "throw", n.arg = new TypeError("iterator result is not an object"), n.delegate = null, P) } function i(t) { var n = { tryLoc: t[0] }; 1 in t && (n.catchLoc = t[1]), 2 in t && (n.finallyLoc = t[2], n.afterLoc = t[3]), this.tryEntries.push(n) } function c(t) { var n = t.completion || {}; n.type = "normal", delete n.arg, t.completion = n } function p(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(i, this), this.reset(!0) } function f(n) { if (n) { var t = n[b]; if (t) return t.call(n); if ("function" == typeof n.next) return n; if (!isNaN(n.length)) { var r = -1, e = function t() { for (; ++r < n.length;)if (y.call(n, r)) return t.value = n[r], t.done = !1, t; return t.value = a, t.done = !0, t }; return e.next = e } } return { next: d } } function d() { return { value: a, done: !0 } } var a, s = Object.prototype, y = s.hasOwnProperty, g = "function" == typeof Symbol ? Symbol : {}, b = g.iterator || "@@iterator", x = g.asyncIterator || "@@asyncIterator", m = g.toStringTag || "@@toStringTag", S = "object" == typeof L, w = t.regeneratorRuntime; if (w) S && (L.exports = w); else { (w = t.regeneratorRuntime = S ? L.exports : {}).wrap = o; var _ = "suspendedStart", O = "suspendedYield", E = "executing", M = "completed", P = {}, j = {}; j[b] = function () { return this }; var F = Object.getPrototypeOf, A = F && F(F(f([]))); A && A !== s && y.call(A, b) && (j = A); var I = n.prototype = h.prototype = Object.create(j); r.prototype = I.constructor = n, n.constructor = r, n[m] = r.displayName = "GeneratorFunction", w.isGeneratorFunction = function (t) { var n = "function" == typeof t && t.constructor; return !!n && (n === r || "GeneratorFunction" === (n.displayName || n.name)) }, w.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, n) : (t.__proto__ = n, m in t || (t[m] = "GeneratorFunction")), t.prototype = Object.create(I), t }, w.awrap = function (t) { return { __await: t } }, e(u.prototype), u.prototype[x] = function () { return this }, w.AsyncIterator = u, w.async = function (t, n, r, e) { var i = new u(o(t, n, r, e)); return w.isGeneratorFunction(n) ? i : i.next().then(function (t) { return t.done ? t.value : i.next() }) }, e(I), I[m] = "Generator", I[b] = function () { return this }, I.toString = function () { return "[object Generator]" }, w.keys = function (r) { var e = []; for (var t in r) e.push(t); return e.reverse(), function t() { for (; e.length;) { var n = e.pop(); if (n in r) return t.value = n, t.done = !1, t } return t.done = !0, t } }, w.values = f, p.prototype = { constructor: p, reset: function (t) { if (this.prev = 0, this.next = 0, this.sent = this._sent = a, this.done = !1, this.delegate = null, this.method = "next", this.arg = a, this.tryEntries.forEach(c), !t) for (var n in this) "t" === n.charAt(0) && y.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = a) }, stop: function () { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval }, dispatchException: function (r) { function t(t, n) { return o.type = "throw", o.arg = r, e.next = t, n && (e.method = "next", e.arg = a), !!n } if (this.done) throw r; for (var e = this, n = this.tryEntries.length - 1; 0 <= n; --n) { var i = this.tryEntries[n], o = i.completion; if ("root" === i.tryLoc) return t("end"); if (i.tryLoc <= this.prev) { var u = y.call(i, "catchLoc"), c = y.call(i, "finallyLoc"); if (u && c) { if (this.prev < i.catchLoc) return t(i.catchLoc, !0); if (this.prev < i.finallyLoc) return t(i.finallyLoc) } else if (u) { if (this.prev < i.catchLoc) return t(i.catchLoc, !0) } else { if (!c) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return t(i.finallyLoc) } } } }, abrupt: function (t, n) { for (var r = this.tryEntries.length - 1; 0 <= r; --r) { var e = this.tryEntries[r]; if (e.tryLoc <= this.prev && y.call(e, "finallyLoc") && this.prev < e.finallyLoc) { var i = e; break } } i && ("break" === t || "continue" === t) && i.tryLoc <= n && n <= i.finallyLoc && (i = null); var o = i ? i.completion : {}; return o.type = t, o.arg = n, i ? (this.method = "next", this.next = i.finallyLoc, P) : this.complete(o) }, complete: function (t, n) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && n && (this.next = n), P }, finish: function (t) { for (var n = this.tryEntries.length - 1; 0 <= n; --n) { var r = this.tryEntries[n]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), c(r), P } }, catch: function (t) { for (var n = this.tryEntries.length - 1; 0 <= n; --n) { var r = this.tryEntries[n]; if (r.tryLoc === t) { var e = r.completion; if ("throw" === e.type) { var i = e.arg; c(r) } return i } } throw new Error("illegal catch attempt") }, delegateYield: function (t, n, r) { return this.delegate = { iterator: f(t), resultName: n, nextLoc: r }, "next" === this.method && (this.arg = a), P } } } }("object" == typeof t ? t : "object" == typeof window ? window : "object" == typeof self ? self : this) }).call(t, function () { return this }()) }, , function (t, n, r) { r(221), t.exports = r(46).RegExp.escape }, , , , function (t, n, r) { var e = r(5), i = r(123), o = r(7)("species"); t.exports = function (t) { var n; return i(t) && ("function" != typeof (n = t.constructor) || n !== Array && !i(n.prototype) || (n = void 0), e(n) && (null === (n = n[o]) && (n = void 0))), void 0 === n ? Array : n } }, function (t, n, r) { "use strict"; var e = r(4), i = Date.prototype.getTime, o = Date.prototype.toISOString, u = function (t) { return 9 < t ? t : "0" + t }; t.exports = e(function () { return "0385-07-25T07:06:39.999Z" != o.call(new Date(-5e13 - 1)) }) || !e(function () { o.call(new Date(NaN)) }) ? function () { if (!isFinite(i.call(this))) throw RangeError("Invalid time value"); var t = this, n = t.getUTCFullYear(), r = t.getUTCMilliseconds(), e = n < 0 ? "-" : 9999 < n ? "+" : ""; return e + ("00000" + Math.abs(n)).slice(e ? -6 : -4) + "-" + u(t.getUTCMonth() + 1) + "-" + u(t.getUTCDate()) + "T" + u(t.getUTCHours()) + ":" + u(t.getUTCMinutes()) + ":" + u(t.getUTCSeconds()) + "." + (99 < r ? r : "0" + u(r)) + "Z" } : o }, function (t, n, r) { "use strict"; var e = r(2), i = r(53); t.exports = function (t) { if ("string" !== t && "number" !== t && "default" !== t) throw TypeError("Incorrect hint"); return i(e(this), "number" != t) } }, function (t, n, r) { var c = r(74), f = r(127), a = r(117); t.exports = function (t) { var n = c(t), r = f.f; if (r) for (var e, i = r(t), o = a.f, u = 0; i.length > u;)o.call(t, e = i[u++]) && n.push(e); return n } }, function (t, n, r) { t.exports = r(118)("native-function-to-string", Function.toString) }, function (t, n) { t.exports = function (n, r) { var e = r === Object(r) ? function (t) { return r[t] } : r; return function (t) { return String(t).replace(n, e) } } }, function (t, n, r) { var e = r(1), i = r(220)(/[\\^$*+?.()|[\]{}]/g, "\\$&"); e(e.S, "RegExp", { escape: function (t) { return i(t) } }) }, function (t, n, r) { var e = r(1); e(e.P, "Array", { copyWithin: r(166) }), r(67)("copyWithin") }, function (t, n, r) { "use strict"; var e = r(1), i = r(50)(4); e(e.P + e.F * !r(48)([].every, !0), "Array", { every: function (t) { return i(this, t, arguments[1]) } }) }, function (t, n, r) { var e = r(1); e(e.P, "Array", { fill: r(137) }), r(67)("fill") }, function (t, n, r) { "use strict"; var e = r(1), i = r(50)(2); e(e.P + e.F * !r(48)([].filter, !0), "Array", { filter: function (t) { return i(this, t, arguments[1]) } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(50)(6), o = "findIndex", u = !0; o in [] && Array(1)[o](function () { u = !1 }), e(e.P + e.F * u, "Array", { findIndex: function (t) { return i(this, t, 1 < arguments.length ? arguments[1] : void 0) } }), r(67)(o) }, function (t, n, r) { "use strict"; var e = r(1), i = r(50)(5), o = "find", u = !0; o in [] && Array(1)[o](function () { u = !1 }), e(e.P + e.F * u, "Array", { find: function (t) { return i(this, t, 1 < arguments.length ? arguments[1] : void 0) } }), r(67)(o) }, function (t, n, r) { "use strict"; var e = r(1), i = r(50)(0), o = r(48)([].forEach, !0); e(e.P + e.F * !o, "Array", { forEach: function (t) { return i(this, t, arguments[1]) } }) }, function (t, n, r) { "use strict"; var h = r(47), e = r(1), v = r(17), p = r(177), d = r(145), y = r(8), g = r(139), b = r(161); e(e.S + e.F * !r(125)(function (t) { Array.from(t) }), "Array", { from: function (t) { var n, r, e, i, o = v(t), u = "function" == typeof this ? this : Array, c = arguments.length, f = 1 < c ? arguments[1] : void 0, a = void 0 !== f, s = 0, l = b(o); if (a && (f = h(f, 2 < c ? arguments[2] : void 0, 2)), null == l || u == Array && d(l)) for (r = new u(n = y(o.length)); s < n; s++)g(r, s, a ? f(o[s], s) : o[s]); else for (i = l.call(o), r = new u; !(e = i.next()).done; s++)g(r, s, a ? p(i, f, [e.value, s], !0) : e.value); return r.length = s, r } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(120)(!1), o = [].indexOf, u = !!o && 1 / [1].indexOf(1, -0) < 0; e(e.P + e.F * (u || !r(48)(o)), "Array", { indexOf: function (t) { return u ? o.apply(this, arguments) || 0 : i(this, t, arguments[1]) } }) }, function (t, n, r) { var e = r(1); e(e.S, "Array", { isArray: r(123) }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(33), o = [].join; e(e.P + e.F * (r(116) != Object || !r(48)(o)), "Array", { join: function (t) { return o.call(i(this), void 0 === t ? "," : t) } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(33), o = r(49), u = r(8), c = [].lastIndexOf, f = !!c && 1 / [1].lastIndexOf(1, -0) < 0; e(e.P + e.F * (f || !r(48)(c)), "Array", { lastIndexOf: function (t) { if (f) return c.apply(this, arguments) || 0; var n = i(this), r = u(n.length), e = r - 1; for (1 < arguments.length && (e = Math.min(e, o(arguments[1]))), e < 0 && (e = r + e); 0 <= e; e--)if (e in n && n[e] === t) return e || 0; return -1 } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(50)(1); e(e.P + e.F * !r(48)([].map, !0), "Array", { map: function (t) { return i(this, t, arguments[1]) } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(139); e(e.S + e.F * r(4)(function () { function t() { } return !(Array.of.call(t) instanceof t) }), "Array", { of: function () { for (var t = 0, n = arguments.length, r = new ("function" == typeof this ? this : Array)(n); t < n;)i(r, t, arguments[t++]); return r.length = n, r } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(168); e(e.P + e.F * !r(48)([].reduceRight, !0), "Array", { reduceRight: function (t) { return i(this, t, arguments.length, arguments[1], !0) } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(168); e(e.P + e.F * !r(48)([].reduce, !0), "Array", { reduce: function (t) { return i(this, t, arguments.length, arguments[1], !1) } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(143), a = r(45), s = r(78), l = r(8), h = [].slice; e(e.P + e.F * r(4)(function () { i && h.call(i) }), "Array", { slice: function (t, n) { var r = l(this.length), e = a(this); if (n = void 0 === n ? r : n, "Array" == e) return h.call(this, t, n); for (var i = s(t, r), o = s(n, r), u = l(o - i), c = new Array(u), f = 0; f < u; f++)c[f] = "String" == e ? this.charAt(i + f) : this[i + f]; return c } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(50)(3); e(e.P + e.F * !r(48)([].some, !0), "Array", { some: function (t) { return i(this, t, arguments[1]) } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(21), o = r(17), u = r(4), c = [].sort, f = [1, 2, 3]; e(e.P + e.F * (u(function () { f.sort(void 0) }) || !u(function () { f.sort(null) }) || !r(48)(c)), "Array", { sort: function (t) { return void 0 === t ? c.call(o(this)) : c.call(o(this), i(t)) } }) }, function (t, n, r) { r(77)("Array") }, function (t, n, r) { var e = r(1); e(e.S, "Date", { now: function () { return (new Date).getTime() } }) }, function (t, n, r) { var e = r(1), i = r(216); e(e.P + e.F * (Date.prototype.toISOString !== i), "Date", { toISOString: i }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(17), o = r(53); e(e.P + e.F * r(4)(function () { return null !== new Date(NaN).toJSON() || 1 !== Date.prototype.toJSON.call({ toISOString: function () { return 1 } }) }), "Date", { toJSON: function (t) { var n = i(this), r = o(n); return "number" != typeof r || isFinite(r) ? n.toISOString() : null } }) }, function (t, n, r) { var e = r(7)("toPrimitive"), i = Date.prototype; e in i || r(26)(i, e, r(217)) }, function (t, n, r) { var e = Date.prototype, i = "Invalid Date", o = "toString", u = e[o], c = e.getTime; new Date(NaN) + "" != i && r(27)(e, o, function () { var t = c.call(this); return t == t ? u.call(this) : i }) }, function (t, n, r) { var e = r(1); e(e.P, "Function", { bind: r(169) }) }, function (t, n, r) { "use strict"; var e = r(5), i = r(32), o = r(7)("hasInstance"), u = Function.prototype; o in u || r(11).f(u, o, { value: function (t) { if ("function" != typeof this || !e(t)) return !1; if (!e(this.prototype)) return t instanceof this; for (; t = i(t);)if (this.prototype === t) return !0; return !1 } }) }, function (t, n, r) { var e = r(11).f, i = Function.prototype, o = /^\s*function ([^ (]*)/; "name" in i || r(10) && e(i, "name", { configurable: !0, get: function () { try { return ("" + this).match(o)[1] } catch (t) { return "" } } }) }, function (t, n, r) { var e = r(1), i = r(180), o = Math.sqrt, u = Math.acosh; e(e.S + e.F * !(u && 710 == Math.floor(u(Number.MAX_VALUE)) && u(1 / 0) == 1 / 0), "Math", { acosh: function (t) { return (t = +t) < 1 ? NaN : 94906265.62425156 < t ? Math.log(t) + Math.LN2 : i(t - 1 + o(t - 1) * o(t + 1)) } }) }, function (t, n, r) { var e = r(1), i = Math.asinh; e(e.S + e.F * !(i && 0 < 1 / i(0)), "Math", { asinh: function t(n) { return isFinite(n = +n) && 0 != n ? n < 0 ? -t(-n) : Math.log(n + Math.sqrt(n * n + 1)) : n } }) }, function (t, n, r) { var e = r(1), i = Math.atanh; e(e.S + e.F * !(i && 1 / i(-0) < 0), "Math", { atanh: function (t) { return 0 == (t = +t) ? t : Math.log((1 + t) / (1 - t)) / 2 } }) }, function (t, n, r) { var e = r(1), i = r(149); e(e.S, "Math", { cbrt: function (t) { return i(t = +t) * Math.pow(Math.abs(t), 1 / 3) } }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { clz32: function (t) { return (t >>>= 0) ? 31 - Math.floor(Math.log(t + .5) * Math.LOG2E) : 32 } }) }, function (t, n, r) { var e = r(1), i = Math.exp; e(e.S, "Math", { cosh: function (t) { return (i(t = +t) + i(-t)) / 2 } }) }, function (t, n, r) { var e = r(1), i = r(148); e(e.S + e.F * (i != Math.expm1), "Math", { expm1: i }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { fround: r(179) }) }, function (t, n, r) { var e = r(1), f = Math.abs; e(e.S, "Math", { hypot: function (t, n) { for (var r, e, i = 0, o = 0, u = arguments.length, c = 0; o < u;)c < (r = f(arguments[o++])) ? (i = i * (e = c / r) * e + 1, c = r) : 0 < r ? i += (e = r / c) * e : i += r; return c === 1 / 0 ? 1 / 0 : c * Math.sqrt(i) } }) }, function (t, n, r) { var e = r(1), i = Math.imul; e(e.S + e.F * r(4)(function () { return -5 != i(4294967295, 5) || 2 != i.length }), "Math", { imul: function (t, n) { var r = 65535, e = +t, i = +n, o = r & e, u = r & i; return 0 | o * u + ((r & e >>> 16) * u + o * (r & i >>> 16) << 16 >>> 0) } }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { log10: function (t) { return Math.log(t) * Math.LOG10E } }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { log1p: r(180) }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { log2: function (t) { return Math.log(t) / Math.LN2 } }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { sign: r(149) }) }, function (t, n, r) { var e = r(1), i = r(148), o = Math.exp; e(e.S + e.F * r(4)(function () { return -2e-17 != !Math.sinh(-2e-17) }), "Math", { sinh: function (t) { return Math.abs(t = +t) < 1 ? (i(t) - i(-t)) / 2 : (o(t - 1) - o(-t - 1)) * (Math.E / 2) } }) }, function (t, n, r) { var e = r(1), i = r(148), o = Math.exp; e(e.S, "Math", { tanh: function (t) { var n = i(t = +t), r = i(-t); return n == 1 / 0 ? 1 : r == 1 / 0 ? -1 : (n - r) / (o(t) + o(-t)) } }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { trunc: function (t) { return (0 < t ? Math.floor : Math.ceil)(t) } }) }, function (t, n, r) { "use strict"; var e = r(3), i = r(30), o = r(45), u = r(144), s = r(53), c = r(4), f = r(73).f, a = r(31).f, l = r(11).f, h = r(84).trim, v = "Number", p = e[v], d = p, y = p.prototype, g = o(r(72)(y)) == v, b = "trim" in String.prototype, x = function (t) { var n = s(t, !1); if ("string" == typeof n && 2 < n.length) { var r, e, i, o = (n = b ? n.trim() : h(n, 3)).charCodeAt(0); if (43 === o || 45 === o) { if (88 === (r = n.charCodeAt(2)) || 120 === r) return NaN } else if (48 === o) { switch (n.charCodeAt(1)) { case 66: case 98: e = 2, i = 49; break; case 79: case 111: e = 8, i = 55; break; default: return +n }for (var u, c = n.slice(2), f = 0, a = c.length; f < a; f++)if ((u = c.charCodeAt(f)) < 48 || i < u) return NaN; return parseInt(c, e) } } return +n }; if (!p(" 0o1") || !p("0b1") || p("+0x1")) { p = function (t) { var n = arguments.length < 1 ? 0 : t, r = this; return r instanceof p && (g ? c(function () { y.valueOf.call(r) }) : o(r) != v) ? u(new d(x(n)), r, p) : x(n) }; for (var m, S = r(10) ? f(d) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), w = 0; S.length > w; w++)i(d, m = S[w]) && !i(p, m) && l(p, m, a(d, m)); (p.prototype = y).constructor = p, r(27)(e, v, p) } }, function (t, n, r) { var e = r(1); e(e.S, "Number", { EPSILON: Math.pow(2, -52) }) }, function (t, n, r) { var e = r(1), i = r(3).isFinite; e(e.S, "Number", { isFinite: function (t) { return "number" == typeof t && i(t) } }) }, function (t, n, r) { var e = r(1); e(e.S, "Number", { isInteger: r(176) }) }, function (t, n, r) { var e = r(1); e(e.S, "Number", { isNaN: function (t) { return t != t } }) }, function (t, n, r) { var e = r(1), i = r(176), o = Math.abs; e(e.S, "Number", { isSafeInteger: function (t) { return i(t) && o(t) <= 9007199254740991 } }) }, function (t, n, r) { var e = r(1); e(e.S, "Number", { MAX_SAFE_INTEGER: 9007199254740991 }) }, function (t, n, r) { var e = r(1); e(e.S, "Number", { MIN_SAFE_INTEGER: -9007199254740991 }) }, function (t, n, r) { var e = r(1), i = r(188); e(e.S + e.F * (Number.parseFloat != i), "Number", { parseFloat: i }) }, function (t, n, r) { var e = r(1), i = r(189); e(e.S + e.F * (Number.parseInt != i), "Number", { parseInt: i }) }, function (t, n, r) { "use strict"; var e = r(1), a = r(49), s = r(165), l = r(156), i = 1..toFixed, o = Math.floor, u = [0, 0, 0, 0, 0, 0], h = "Number.toFixed: incorrect invocation!", v = function (t, n) { for (var r = -1, e = n; ++r < 6;)e += t * u[r], u[r] = e % 1e7, e = o(e / 1e7) }, p = function (t) { for (var n = 6, r = 0; 0 <= --n;)r += u[n], u[n] = o(r / t), r = r % t * 1e7 }, d = function () { for (var t = 6, n = ""; 0 <= --t;)if ("" !== n || 0 === t || 0 !== u[t]) { var r = String(u[t]); n = "" === n ? r : n + l.call("0", 7 - r.length) + r } return n }, y = function (t, n, r) { return 0 === n ? r : n % 2 == 1 ? y(t, n - 1, r * t) : y(t * t, n / 2, r) }; e(e.P + e.F * (!!i && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== (0xde0b6b3a7640080).toFixed(0)) || !r(4)(function () { i.call({}) })), "Number", { toFixed: function (t) { var n, r, e, i, o = s(this, h), u = a(t), c = "", f = "0"; if (u < 0 || 20 < u) throw RangeError(h); if (o != o) return "NaN"; if (o <= -1e21 || 1e21 <= o) return String(o); if (o < 0 && (c = "-", o = -o), 1e-21 < o) if (r = (n = function (t) { for (var n = 0, r = t; 4096 <= r;)n += 12, r /= 4096; for (; 2 <= r;)n += 1, r /= 2; return n }(o * y(2, 69, 1)) - 69) < 0 ? o * y(2, -n, 1) : o / y(2, n, 1), r *= 4503599627370496, 0 < (n = 52 - n)) { for (v(0, r), e = u; 7 <= e;)v(1e7, 0), e -= 7; for (v(y(10, e, 1), 0), e = n - 1; 23 <= e;)p(1 << 23), e -= 23; p(1 << e), v(1, 1), p(2), f = d() } else v(0, r), v(1 << -n, 0), f = d() + l.call("0", u); return f = 0 < u ? c + ((i = f.length) <= u ? "0." + l.call("0", u - i) + f : f.slice(0, i - u) + "." + f.slice(i - u)) : c + f } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(4), o = r(165), u = 1..toPrecision; e(e.P + e.F * (i(function () { return "1" !== u.call(1, void 0) }) || !i(function () { u.call({}) })), "Number", { toPrecision: function (t) { var n = o(this, "Number#toPrecision: incorrect invocation!"); return void 0 === t ? u.call(n) : u.call(n, t) } }) }, function (t, n, r) { var e = r(1); e(e.S + e.F, "Object", { assign: r(182) }) }, function (t, n, r) { var e = r(1); e(e.S, "Object", { create: r(72) }) }, function (t, n, r) { var e = r(1); e(e.S + e.F * !r(10), "Object", { defineProperties: r(183) }) }, function (t, n, r) { var e = r(1); e(e.S + e.F * !r(10), "Object", { defineProperty: r(11).f }) }, function (t, n, r) { var e = r(5), i = r(69).onFreeze; r(52)("freeze", function (n) { return function (t) { return n && e(t) ? n(i(t)) : t } }) }, function (t, n, r) { var e = r(33), i = r(31).f; r(52)("getOwnPropertyDescriptor", function () { return function (t, n) { return i(e(t), n) } }) }, function (t, n, r) { r(52)("getOwnPropertyNames", function () { return r(184).f }) }, function (t, n, r) { var e = r(17), i = r(32); r(52)("getPrototypeOf", function () { return function (t) { return i(e(t)) } }) }, function (t, n, r) { var e = r(5); r(52)("isExtensible", function (n) { return function (t) { return !!e(t) && (!n || n(t)) } }) }, function (t, n, r) { var e = r(5); r(52)("isFrozen", function (n) { return function (t) { return !e(t) || !!n && n(t) } }) }, function (t, n, r) { var e = r(5); r(52)("isSealed", function (n) { return function (t) { return !e(t) || !!n && n(t) } }) }, function (t, n, r) { var e = r(1); e(e.S, "Object", { is: r(192) }) }, function (t, n, r) { var e = r(17), i = r(74); r(52)("keys", function () { return function (t) { return i(e(t)) } }) }, function (t, n, r) { var e = r(5), i = r(69).onFreeze; r(52)("preventExtensions", function (n) { return function (t) { return n && e(t) ? n(i(t)) : t } }) }, function (t, n, r) { var e = r(5), i = r(69).onFreeze; r(52)("seal", function (n) { return function (t) { return n && e(t) ? n(i(t)) : t } }) }, function (t, n, r) { var e = r(1); e(e.S, "Object", { setPrototypeOf: r(153).set }) }, function (t, n, r) { "use strict"; var e = r(81), i = {}; i[r(7)("toStringTag")] = "z", i + "" != "[object z]" && r(27)(Object.prototype, "toString", function () { return "[object " + e(this) + "]" }, !0) }, function (t, n, r) { var e = r(1), i = r(188); e(e.G + e.F * (parseFloat != i), { parseFloat: i }) }, function (t, n, r) { var e = r(1), i = r(189); e(e.G + e.F * (parseInt != i), { parseInt: i }) }, function (t, n, r) { "use strict"; var e, i, o, u, c = r(68), f = r(3), a = r(47), s = r(81), l = r(1), h = r(5), v = r(21), p = r(70), d = r(71), y = r(119), g = r(158).set, b = r(150)(), x = r(151), m = r(190), S = r(133), w = r(191), _ = "Promise", O = f.TypeError, E = f.process, M = E && E.versions, P = M && M.v8 || "", j = f[_], F = "process" == s(E), A = function () { }, I = i = x.f, L = !!function () { try { var t = j.resolve(1), n = (t.constructor = {})[r(7)("species")] = function (t) { t(A, A) }; return (F || "function" == typeof PromiseRejectionEvent) && t.then(A) instanceof n && 0 !== P.indexOf("6.6") && -1 === S.indexOf("Chrome/66") } catch (t) { } }(), N = function (t) { var n; return !(!h(t) || "function" != typeof (n = t.then)) && n }, T = function (s, r) { if (!s._n) { s._n = !0; var e = s._c; b(function () { for (var f = s._v, a = 1 == s._s, t = 0, n = function (t) { var n, r, e, i = a ? t.ok : t.fail, o = t.resolve, u = t.reject, c = t.domain; try { i ? (a || (2 == s._h && C(s), s._h = 1), !0 === i ? n = f : (c && c.enter(), n = i(f), c && (c.exit(), e = !0)), n === t.promise ? u(O("Promise-chain cycle")) : (r = N(n)) ? r.call(n, o, u) : o(n)) : u(f) } catch (t) { c && !e && c.exit(), u(t) } }; e.length > t;)n(e[t++]); s._c = [], s._n = !1, r && !s._h && k(s) }) } }, k = function (o) { g.call(f, function () { var t, n, r, e = o._v, i = R(o); if (i && (t = m(function () { F ? E.emit("unhandledRejection", e, o) : (n = f.onunhandledrejection) ? n({ promise: o, reason: e }) : (r = f.console) && r.error && r.error("Unhandled promise rejection", e) }), o._h = F || R(o) ? 2 : 1), o._a = void 0, i && t.e) throw t.v }) }, R = function (t) { return 1 !== t._h && 0 === (t._a || t._c).length }, C = function (n) { g.call(f, function () { var t; F ? E.emit("rejectionHandled", n) : (t = f.onrejectionhandled) && t({ promise: n, reason: n._v }) }) }, D = function (t) { var n = this; n._d || (n._d = !0, (n = n._w || n)._v = t, n._s = 2, n._a || (n._a = n._c.slice()), T(n, !0)) }, G = function (t) { var r, e = this; if (!e._d) { e._d = !0, e = e._w || e; try { if (e === t) throw O("Promise can't be resolved itself"); (r = N(t)) ? b(function () { var n = { _w: e, _d: !1 }; try { r.call(t, a(G, n, 1), a(D, n, 1)) } catch (t) { D.call(n, t) } }) : (e._v = t, e._s = 1, T(e, !1)) } catch (t) { D.call({ _w: e, _d: !1 }, t) } } }; L || (j = function (t) { p(this, j, _, "_h"), v(t), e.call(this); try { t(a(G, this, 1), a(D, this, 1)) } catch (t) { D.call(this, t) } }, (e = function (t) { this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0, this._h = 0, this._n = !1 }).prototype = r(76)(j.prototype, { then: function (t, n) { var r = I(y(this, j)); return r.ok = "function" != typeof t || t, r.fail = "function" == typeof n && n, r.domain = F ? E.domain : void 0, this._c.push(r), this._a && this._a.push(r), this._s && T(this, !1), r.promise }, catch: function (t) { return this.then(void 0, t) } }), o = function () { var t = new e; this.promise = t, this.resolve = a(G, t, 1), this.reject = a(D, t, 1) }, x.f = I = function (t) { return t === j || t === u ? new o(t) : i(t) }), l(l.G + l.W + l.F * !L, { Promise: j }), r(83)(j, _), r(77)(_), u = r(46)[_], l(l.S + l.F * !L, _, { reject: function (t) { var n = I(this); return (0, n.reject)(t), n.promise } }), l(l.S + l.F * (c || !L), _, { resolve: function (t) { return w(c && this === u ? j : this, t) } }), l(l.S + l.F * !(L && r(125)(function (t) { j.all(t).catch(A) })), _, { all: function (t) { var u = this, n = I(u), c = n.resolve, f = n.reject, r = m(function () { var e = [], i = 0, o = 1; d(t, !1, function (t) { var n = i++, r = !1; e.push(void 0), o++, u.resolve(t).then(function (t) { r || (r = !0, e[n] = t, --o || c(e)) }, f) }), --o || c(e) }); return r.e && f(r.v), n.promise }, race: function (t) { var n = this, r = I(n), e = r.reject, i = m(function () { d(t, !1, function (t) { n.resolve(t).then(r.resolve, e) }) }); return i.e && e(i.v), r.promise } }) }, function (t, n, r) { var e = r(1), o = r(21), u = r(2), c = (r(3).Reflect || {}).apply, f = Function.apply; e(e.S + e.F * !r(4)(function () { c(function () { }) }), "Reflect", { apply: function (t, n, r) { var e = o(t), i = u(r); return c ? c(e, n, i) : f.call(e, n, i) } }) }, function (t, n, r) { var e = r(1), c = r(72), f = r(21), a = r(2), s = r(5), i = r(4), l = r(169), h = (r(3).Reflect || {}).construct, v = i(function () { function t() { } return !(h(function () { }, [], t) instanceof t) }), p = !i(function () { h(function () { }) }); e(e.S + e.F * (v || p), "Reflect", { construct: function (t, n) { f(t), a(n); var r = arguments.length < 3 ? t : f(arguments[2]); if (p && !v) return h(t, n, r); if (t == r) { switch (n.length) { case 0: return new t; case 1: return new t(n[0]); case 2: return new t(n[0], n[1]); case 3: return new t(n[0], n[1], n[2]); case 4: return new t(n[0], n[1], n[2], n[3]) }var e = [null]; return e.push.apply(e, n), new (l.apply(t, e)) } var i = r.prototype, o = c(s(i) ? i : Object.prototype), u = Function.apply.call(t, o, n); return s(u) ? u : o } }) }, function (t, n, r) { var e = r(11), i = r(1), o = r(2), u = r(53); i(i.S + i.F * r(4)(function () { Reflect.defineProperty(e.f({}, 1, { value: 1 }), 1, { value: 2 }) }), "Reflect", { defineProperty: function (t, n, r) { o(t), n = u(n, !0), o(r); try { return e.f(t, n, r), !0 } catch (t) { return !1 } } }) }, function (t, n, r) { var e = r(1), i = r(31).f, o = r(2); e(e.S, "Reflect", { deleteProperty: function (t, n) { var r = i(o(t), n); return !(r && !r.configurable) && delete t[n] } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(2), o = function (t) { this._t = i(t), this._i = 0; var n, r = this._k = []; for (n in t) r.push(n) }; r(146)(o, "Object", function () { var t, n = this._k; do { if (this._i >= n.length) return { value: void 0, done: !0 } } while (!((t = n[this._i++]) in this._t)); return { value: t, done: !1 } }), e(e.S, "Reflect", { enumerate: function (t) { return new o(t) } }) }, function (t, n, r) { var e = r(31), i = r(1), o = r(2); i(i.S, "Reflect", { getOwnPropertyDescriptor: function (t, n) { return e.f(o(t), n) } }) }, function (t, n, r) { var e = r(1), i = r(32), o = r(2); e(e.S, "Reflect", { getPrototypeOf: function (t) { return i(o(t)) } }) }, function (t, n, r) { var u = r(31), c = r(32), f = r(30), e = r(1), a = r(5), s = r(2); e(e.S, "Reflect", { get: function t(n, r) { var e, i, o = arguments.length < 3 ? n : arguments[2]; return s(n) === o ? n[r] : (e = u.f(n, r)) ? f(e, "value") ? e.value : void 0 !== e.get ? e.get.call(o) : void 0 : a(i = c(n)) ? t(i, r, o) : void 0 } }) }, function (t, n, r) { var e = r(1); e(e.S, "Reflect", { has: function (t, n) { return n in t } }) }, function (t, n, r) { var e = r(1), i = r(2), o = Object.isExtensible; e(e.S, "Reflect", { isExtensible: function (t) { return i(t), !o || o(t) } }) }, function (t, n, r) { var e = r(1); e(e.S, "Reflect", { ownKeys: r(187) }) }, function (t, n, r) { var e = r(1), i = r(2), o = Object.preventExtensions; e(e.S, "Reflect", { preventExtensions: function (t) { i(t); try { return o && o(t), !0 } catch (t) { return !1 } } }) }, function (t, n, r) { var e = r(1), i = r(153); i && e(e.S, "Reflect", { setPrototypeOf: function (t, n) { i.check(t, n); try { return i.set(t, n), !0 } catch (t) { return !1 } } }) }, function (t, n, r) { var f = r(11), a = r(31), s = r(32), l = r(30), e = r(1), h = r(75), v = r(2), p = r(5); e(e.S, "Reflect", { set: function t(n, r, e) { var i, o, u = arguments.length < 4 ? n : arguments[3], c = a.f(v(n), r); if (!c) { if (p(o = s(n))) return t(o, r, e, u); c = h(0) } if (l(c, "value")) { if (!1 === c.writable || !p(u)) return !1; if (i = a.f(u, r)) { if (i.get || i.set || !1 === i.writable) return !1; i.value = e, f.f(u, r, i) } else f.f(u, r, h(0, e)); return !0 } return void 0 !== c.set && (c.set.call(u, e), !0) } }) }, function (t, n, r) { var e = r(3), o = r(144), i = r(11).f, u = r(73).f, c = r(124), f = r(115), a = e.RegExp, s = a, l = a.prototype, h = /a/g, v = /a/g, p = new a(h) !== h; if (r(10) && (!p || r(4)(function () { return v[r(7)("match")] = !1, a(h) != h || a(v) == v || "/a/i" != a(h, "i") }))) { a = function (t, n) { var r = this instanceof a, e = c(t), i = void 0 === n; return !r && e && t.constructor === a && i ? t : o(p ? new s(e && !i ? t.source : t, n) : s((e = t instanceof a) ? t.source : t, e && i ? f.call(t) : n), r ? this : l, a) }; for (var d = function (n) { n in a || i(a, n, { configurable: !0, get: function () { return s[n] }, set: function (t) { s[n] = t } }) }, y = u(s), g = 0; y.length > g;)d(y[g++]); (l.constructor = a).prototype = l, r(27)(e, "RegExp", a) } r(77)("RegExp") }, function (t, n, r) { "use strict"; var l = r(2), h = r(8), v = r(136), p = r(128); r(122)("match", 1, function (e, i, a, s) { return [function (t) { var n = e(this), r = null == t ? void 0 : t[i]; return void 0 !== r ? r.call(t, n) : new RegExp(t)[i](String(n)) }, function (t) { var n = s(a, t, this); if (n.done) return n.value; var r = l(t), e = String(this); if (!r.global) return p(r, e); for (var i, o = r.unicode, u = [], c = r.lastIndex = 0; null !== (i = p(r, e));) { var f = String(i[0]); "" === (u[c] = f) && (r.lastIndex = v(e, h(r.lastIndex), o)), c++ } return 0 === c ? null : u }] }) }, function (t, n, r) { "use strict"; var O = r(2), e = r(17), E = r(8), M = r(49), P = r(136), j = r(128), F = Math.max, A = Math.min, h = Math.floor, v = /\$([$&`']|\d\d?|<[^>]*>)/g, p = /\$([$&`']|\d\d?)/g; r(122)("replace", 2, function (i, o, S, w) { function _(o, u, c, f, a, t) { var s = c + o.length, l = f.length, n = p; return void 0 !== a && (a = e(a), n = v), S.call(t, n, function (t, n) { var r; switch (n.charAt(0)) { case "$": return "$"; case "&": return o; case "`": return u.slice(0, c); case "'": return u.slice(s); case "<": r = a[n.slice(1, -1)]; break; default: var e = +n; if (0 === e) return t; if (l < e) { var i = h(e / 10); return 0 === i ? t : i <= l ? void 0 === f[i - 1] ? n.charAt(1) : f[i - 1] + n.charAt(1) : t } r = f[e - 1] }return void 0 === r ? "" : r }) } return [function (t, n) { var r = i(this), e = null == t ? void 0 : t[o]; return void 0 !== e ? e.call(t, r, n) : S.call(String(r), t, n) }, function (t, n) { var r = w(S, t, this, n); if (r.done) return r.value; var e = O(t), i = String(this), o = "function" == typeof n; o || (n = String(n)); var u, c = e.global; if (c) { var f = e.unicode; e.lastIndex = 0 } for (var a = []; ;) { var s = j(e, i); if (null === s) break; if (a.push(s), !c) break; "" === String(s[0]) && (e.lastIndex = P(i, E(e.lastIndex), f)) } for (var l = "", h = 0, v = 0; v < a.length; v++) { s = a[v]; for (var p = String(s[0]), d = F(A(M(s.index), i.length), 0), y = [], g = 1; g < s.length; g++)y.push(void 0 === (u = s[g]) ? u : String(u)); var b = s.groups; if (o) { var x = [p].concat(y, d, i); void 0 !== b && x.push(b); var m = String(n.apply(void 0, x)) } else m = _(p, i, d, y, b, n); h <= d && (l += i.slice(h, d) + m, h = d + p.length) } return l + i.slice(h) }] }) }, function (t, n, r) { "use strict"; var f = r(2), a = r(192), s = r(128); r(122)("search", 1, function (e, i, u, c) { return [function (t) { var n = e(this), r = null == t ? void 0 : t[i]; return void 0 !== r ? r.call(t, n) : new RegExp(t)[i](String(n)) }, function (t) { var n = c(u, t, this); if (n.done) return n.value; var r = f(t), e = String(this), i = r.lastIndex; a(i, 0) || (r.lastIndex = 0); var o = s(r, e); return a(r.lastIndex, i) || (r.lastIndex = i), null === o ? -1 : o.index }] }) }, function (t, n, r) { "use strict"; var l = r(124), x = r(2), m = r(119), S = r(136), w = r(8), _ = r(128), h = r(152), e = r(4), O = Math.min, v = [].push, u = "split", p = "length", d = "lastIndex", E = 4294967295, M = !e(function () { RegExp(E, "y") }); r(122)("split", 2, function (i, o, y, g) { var b; return b = "c" == "abbc"[u](/(b)*/)[1] || 4 != "test"[u](/(?:)/, -1)[p] || 2 != "ab"[u](/(?:ab)*/)[p] || 4 != "."[u](/(.?)(.?)/)[p] || 1 < "."[u](/()()/)[p] || ""[u](/.?/)[p] ? function (t, n) { var r = String(this); if (void 0 === t && 0 === n) return []; if (!l(t)) return y.call(r, t, n); for (var e, i, o, u = [], c = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.unicode ? "u" : "") + (t.sticky ? "y" : ""), f = 0, a = void 0 === n ? E : n >>> 0, s = new RegExp(t.source, c + "g"); (e = h.call(s, r)) && !(f < (i = s[d]) && (u.push(r.slice(f, e.index)), 1 < e[p] && e.index < r[p] && v.apply(u, e.slice(1)), o = e[0][p], f = i, u[p] >= a));)s[d] === e.index && s[d]++; return f === r[p] ? !o && s.test("") || u.push("") : u.push(r.slice(f)), u[p] > a ? u.slice(0, a) : u } : "0"[u](void 0, 0)[p] ? function (t, n) { return void 0 === t && 0 === n ? [] : y.call(this, t, n) } : y, [function (t, n) { var r = i(this), e = null == t ? void 0 : t[o]; return void 0 !== e ? e.call(t, r, n) : b.call(String(r), t, n) }, function (t, n) { var r = g(b, t, this, n, b !== y); if (r.done) return r.value; var e = x(t), i = String(this), o = m(e, RegExp), u = e.unicode, c = (e.ignoreCase ? "i" : "") + (e.multiline ? "m" : "") + (e.unicode ? "u" : "") + (M ? "y" : "g"), f = new o(M ? e : "^(?:" + e.source + ")", c), a = void 0 === n ? E : n >>> 0; if (0 === a) return []; if (0 === i.length) return null === _(f, i) ? [i] : []; for (var s = 0, l = 0, h = []; l < i.length;) { f.lastIndex = M ? l : 0; var v, p = _(f, M ? i : i.slice(l)); if (null === p || (v = O(w(f.lastIndex + (M ? 0 : l)), i.length)) === s) l = S(i, l, u); else { if (h.push(i.slice(s, l)), h.length === a) return h; for (var d = 1; d <= p.length - 1; d++)if (h.push(p[d]), h.length === a) return h; l = s = v } } return h.push(i.slice(s)), h }] }) }, function (t, n, r) { "use strict"; r(198); var e = r(2), i = r(115), o = r(10), u = "toString", c = /./[u], f = function (t) { r(27)(RegExp.prototype, u, t, !0) }; r(4)(function () { return "/a/b" != c.call({ source: "a", flags: "b" }) }) ? f(function () { var t = e(this); return "/".concat(t.source, "/", "flags" in t ? t.flags : !o && t instanceof RegExp ? i.call(t) : void 0) }) : c.name != u && f(function () { return c.call(this) }) }, function (t, n, r) { "use strict"; r(28)("anchor", function (n) { return function (t) { return n(this, "a", "name", t) } }) }, function (t, n, r) { "use strict"; r(28)("big", function (t) { return function () { return t(this, "big", "", "") } }) }, function (t, n, r) { "use strict"; r(28)("blink", function (t) { return function () { return t(this, "blink", "", "") } }) }, function (t, n, r) { "use strict"; r(28)("bold", function (t) { return function () { return t(this, "b", "", "") } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(131)(!1); e(e.P, "String", { codePointAt: function (t) { return i(this, t) } }) }, function (t, n, r) { "use strict"; var e = r(1), u = r(8), c = r(155), f = "endsWith", a = ""[f]; e(e.P + e.F * r(142)(f), "String", { endsWith: function (t) { var n = c(this, t, f), r = 1 < arguments.length ? arguments[1] : void 0, e = u(n.length), i = void 0 === r ? e : Math.min(u(r), e), o = String(t); return a ? a.call(n, o, i) : n.slice(i - o.length, i) === o } }) }, function (t, n, r) { "use strict"; r(28)("fixed", function (t) { return function () { return t(this, "tt", "", "") } }) }, function (t, n, r) { "use strict"; r(28)("fontcolor", function (n) { return function (t) { return n(this, "font", "color", t) } }) }, function (t, n, r) { "use strict"; r(28)("fontsize", function (n) { return function (t) { return n(this, "font", "size", t) } }) }, function (t, n, r) { var e = r(1), o = r(78), u = String.fromCharCode, i = String.fromCodePoint; e(e.S + e.F * (!!i && 1 != i.length), "String", { fromCodePoint: function (t) { for (var n, r = [], e = arguments.length, i = 0; i < e;) { if (n = +arguments[i++], o(n, 1114111) !== n) throw RangeError(n + " is not a valid code point"); r.push(n < 65536 ? u(n) : u(55296 + ((n -= 65536) >> 10), n % 1024 + 56320)) } return r.join("") } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(155); e(e.P + e.F * r(142)("includes"), "String", { includes: function (t) { return !!~i(this, t, "includes").indexOf(t, 1 < arguments.length ? arguments[1] : void 0) } }) }, function (t, n, r) { "use strict"; r(28)("italics", function (t) { return function () { return t(this, "i", "", "") } }) }, function (t, n, r) { "use strict"; var e = r(131)(!0); r(147)(String, "String", function (t) { this._t = String(t), this._i = 0 }, function () { var t, n = this._t, r = this._i; return r >= n.length ? { value: void 0, done: !0 } : (t = e(n, r), this._i += t.length, { value: t, done: !1 }) }) }, function (t, n, r) { "use strict"; r(28)("link", function (n) { return function (t) { return n(this, "a", "href", t) } }) }, function (t, n, r) { var e = r(1), u = r(33), c = r(8); e(e.S, "String", { raw: function (t) { for (var n = u(t.raw), r = c(n.length), e = arguments.length, i = [], o = 0; o < r;)i.push(String(n[o++])), o < e && i.push(String(arguments[o])); return i.join("") } }) }, function (t, n, r) { var e = r(1); e(e.P, "String", { repeat: r(156) }) }, function (t, n, r) { "use strict"; r(28)("small", function (t) { return function () { return t(this, "small", "", "") } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(8), o = r(155), u = "startsWith", c = ""[u]; e(e.P + e.F * r(142)(u), "String", { startsWith: function (t) { var n = o(this, t, u), r = i(Math.min(1 < arguments.length ? arguments[1] : void 0, n.length)), e = String(t); return c ? c.call(n, e, r) : n.slice(r, r + e.length) === e } }) }, function (t, n, r) { "use strict"; r(28)("strike", function (t) { return function () { return t(this, "strike", "", "") } }) }, function (t, n, r) { "use strict"; r(28)("sub", function (t) { return function () { return t(this, "sub", "", "") } }) }, function (t, n, r) { "use strict"; r(28)("sup", function (t) { return function () { return t(this, "sup", "", "") } }) }, function (t, n, r) { "use strict"; r(84)("trim", function (t) { return function () { return t(this, 3) } }) }, function (t, n, r) { "use strict"; var e = r(3), u = r(30), i = r(10), o = r(1), c = r(27), f = r(69).KEY, a = r(4), s = r(118), l = r(83), h = r(79), v = r(7), p = r(195), d = r(160), y = r(218), g = r(123), b = r(2), x = r(5), m = r(17), S = r(33), w = r(53), _ = r(75), O = r(72), E = r(184), M = r(31), P = r(127), j = r(11), F = r(74), A = M.f, I = j.f, L = E.f, N = e.Symbol, T = e.JSON, k = T && T.stringify, R = "prototype", C = v("_hidden"), D = v("toPrimitive"), G = {}.propertyIsEnumerable, W = s("symbol-registry"), U = s("symbols"), V = s("op-symbols"), B = Object[R], q = "function" == typeof N && !!P.f, z = e.QObject, K = !z || !z[R] || !z[R].findChild, H = i && a(function () { return 7 != O(I({}, "a", { get: function () { return I(this, "a", { value: 7 }).a } })).a }) ? function (t, n, r) { var e = A(B, n); e && delete B[n], I(t, n, r), e && t !== B && I(B, n, e) } : I, J = function (t) { var n = U[t] = O(N[R]); return n._k = t, n }, $ = q && "symbol" == typeof N.iterator ? function (t) { return "symbol" == typeof t } : function (t) { return t instanceof N }, Y = function (t, n, r) { return t === B && Y(V, n, r), b(t), n = w(n, !0), b(r), u(U, n) ? (r.enumerable ? (u(t, C) && t[C][n] && (t[C][n] = !1), r = O(r, { enumerable: _(0, !1) })) : (u(t, C) || I(t, C, _(1, {})), t[C][n] = !0), H(t, n, r)) : I(t, n, r) }, X = function (t, n) { b(t); for (var r, e = y(n = S(n)), i = 0, o = e.length; i < o;)Y(t, r = e[i++], n[r]); return t }, Q = function (t) { var n = G.call(this, t = w(t, !0)); return !(this === B && u(U, t) && !u(V, t)) && (!(n || !u(this, t) || !u(U, t) || u(this, C) && this[C][t]) || n) }, Z = function (t, n) { if (t = S(t), n = w(n, !0), t !== B || !u(U, n) || u(V, n)) { var r = A(t, n); return !r || !u(U, n) || u(t, C) && t[C][n] || (r.enumerable = !0), r } }, tt = function (t) { for (var n, r = L(S(t)), e = [], i = 0; r.length > i;)u(U, n = r[i++]) || n == C || n == f || e.push(n); return e }, nt = function (t) { for (var n, r = t === B, e = L(r ? V : S(t)), i = [], o = 0; e.length > o;)!u(U, n = e[o++]) || r && !u(B, n) || i.push(U[n]); return i }; q || (c((N = function () { if (this instanceof N) throw TypeError("Symbol is not a constructor!"); var n = h(0 < arguments.length ? arguments[0] : void 0), r = function (t) { this === B && r.call(V, t), u(this, C) && u(this[C], n) && (this[C][n] = !1), H(this, n, _(1, t)) }; return i && K && H(B, n, { configurable: !0, set: r }), J(n) })[R], "toString", function () { return this._k }), M.f = Z, j.f = Y, r(73).f = E.f = tt, r(117).f = Q, P.f = nt, i && !r(68) && c(B, "propertyIsEnumerable", Q, !0), p.f = function (t) { return J(v(t)) }), o(o.G + o.W + o.F * !q, { Symbol: N }); for (var rt = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), et = 0; rt.length > et;)v(rt[et++]); for (var it = F(v.store), ot = 0; it.length > ot;)d(it[ot++]); o(o.S + o.F * !q, "Symbol", { for: function (t) { return u(W, t += "") ? W[t] : W[t] = N(t) }, keyFor: function (t) { if (!$(t)) throw TypeError(t + " is not a symbol!"); for (var n in W) if (W[n] === t) return n }, useSetter: function () { K = !0 }, useSimple: function () { K = !1 } }), o(o.S + o.F * !q, "Object", { create: function (t, n) { return void 0 === n ? O(t) : X(O(t), n) }, defineProperty: Y, defineProperties: X, getOwnPropertyDescriptor: Z, getOwnPropertyNames: tt, getOwnPropertySymbols: nt }); var ut = a(function () { P.f(1) }); o(o.S + o.F * ut, "Object", { getOwnPropertySymbols: function (t) { return P.f(m(t)) } }), T && o(o.S + o.F * (!q || a(function () { var t = N(); return "[null]" != k([t]) || "{}" != k({ a: t }) || "{}" != k(Object(t)) })), "JSON", { stringify: function (t) { for (var n, r, e = [t], i = 1; arguments.length > i;)e.push(arguments[i++]); if (r = n = e[1], (x(n) || void 0 !== t) && !$(t)) return g(n) || (n = function (t, n) { if ("function" == typeof r && (n = r.call(this, t, n)), !$(n)) return n }), e[1] = n, k.apply(T, e) } }), N[R][D] || r(26)(N[R], D, N[R].valueOf), l(N, "Symbol"), l(Math, "Math", !0), l(e.JSON, "JSON", !0) }, function (t, n, r) { "use strict"; var e = r(1), i = r(132), o = r(159), a = r(2), s = r(78), l = r(8), u = r(5), c = r(3).ArrayBuffer, h = r(119), v = o.ArrayBuffer, p = o.DataView, f = i.ABV && c.isView, d = v.prototype.slice, y = i.VIEW, g = "ArrayBuffer"; e(e.G + e.W + e.F * (c !== v), { ArrayBuffer: v }), e(e.S + e.F * !i.CONSTR, g, { isView: function (t) { return f && f(t) || u(t) && y in t } }), e(e.P + e.U + e.F * r(4)(function () { return !new v(2).slice(1, void 0).byteLength }), g, { slice: function (t, n) { if (void 0 !== d && void 0 === n) return d.call(a(this), t); for (var r = a(this).byteLength, e = s(t, r), i = s(void 0 === n ? r : n, r), o = new (h(this, v))(l(i - e)), u = new p(this), c = new p(o), f = 0; e < i;)c.setUint8(f++, u.getUint8(e++)); return o } }), r(77)(g) }, function (t, n, r) { var e = r(1); e(e.G + e.W + e.F * !r(132).ABV, { DataView: r(159).DataView }) }, function (t, n, r) { r(57)("Float32", 4, function (e) { return function (t, n, r) { return e(this, t, n, r) } }) }, function (t, n, r) { r(57)("Float64", 8, function (e) { return function (t, n, r) { return e(this, t, n, r) } }) }, function (t, n, r) { r(57)("Int16", 2, function (e) { return function (t, n, r) { return e(this, t, n, r) } }) }, function (t, n, r) { r(57)("Int32", 4, function (e) { return function (t, n, r) { return e(this, t, n, r) } }) }, function (t, n, r) { r(57)("Int8", 1, function (e) { return function (t, n, r) { return e(this, t, n, r) } }) }, function (t, n, r) { r(57)("Uint16", 2, function (e) { return function (t, n, r) { return e(this, t, n, r) } }) }, function (t, n, r) { r(57)("Uint32", 4, function (e) { return function (t, n, r) { return e(this, t, n, r) } }) }, function (t, n, r) { r(57)("Uint8", 1, function (e) { return function (t, n, r) { return e(this, t, n, r) } }) }, function (t, n, r) { r(57)("Uint8", 1, function (e) { return function (t, n, r) { return e(this, t, n, r) } }, !0) }, function (t, n, r) { "use strict"; var e = r(172), i = r(80); r(121)("WeakSet", function (t) { return function () { return t(this, 0 < arguments.length ? arguments[0] : void 0) } }, { add: function (t) { return e.def(i(this, "WeakSet"), t, !0) } }, e, !1, !0) }, function (t, n, r) { "use strict"; var e = r(1), i = r(173), o = r(17), u = r(8), c = r(21), f = r(138); e(e.P, "Array", { flatMap: function (t) { var n, r, e = o(this); return c(t), n = u(e.length), r = f(e, 0), i(r, e, e, n, 0, 1, t, arguments[1]), r } }), r(67)("flatMap") }, function (t, n, r) { "use strict"; var e = r(1), i = r(173), o = r(17), u = r(8), c = r(49), f = r(138); e(e.P, "Array", { flatten: function () { var t = arguments[0], n = o(this), r = u(n.length), e = f(n, 0); return i(e, n, n, r, 0, void 0 === t ? 1 : c(t)), e } }), r(67)("flatten") }, function (t, n, r) { "use strict"; var e = r(1), i = r(120)(!0); e(e.P, "Array", { includes: function (t) { return i(this, t, 1 < arguments.length ? arguments[1] : void 0) } }), r(67)("includes") }, function (t, n, r) { var e = r(1), i = r(150)(), o = r(3).process, u = "process" == r(45)(o); e(e.G, { asap: function (t) { var n = u && o.domain; i(n ? n.bind(t) : t) } }) }, function (t, n, r) { var e = r(1), i = r(45); e(e.S, "Error", { isError: function (t) { return "Error" === i(t) } }) }, function (t, n, r) { var e = r(1); e(e.G, { global: r(3) }) }, function (t, n, r) { r(129)("Map") }, function (t, n, r) { r(130)("Map") }, function (t, n, r) { var e = r(1); e(e.P + e.R, "Map", { toJSON: r(171)("Map") }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { clamp: function (t, n, r) { return Math.min(r, Math.max(n, t)) } }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { DEG_PER_RAD: Math.PI / 180 }) }, function (t, n, r) { var e = r(1), i = 180 / Math.PI; e(e.S, "Math", { degrees: function (t) { return t * i } }) }, function (t, n, r) { var e = r(1), o = r(181), u = r(179); e(e.S, "Math", { fscale: function (t, n, r, e, i) { return u(o(t, n, r, e, i)) } }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { iaddh: function (t, n, r, e) { var i = t >>> 0, o = r >>> 0; return (n >>> 0) + (e >>> 0) + ((i & o | (i | o) & ~(i + o >>> 0)) >>> 31) | 0 } }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { imulh: function (t, n) { var r = +t, e = +n, i = 65535 & r, o = 65535 & e, u = r >> 16, c = e >> 16, f = (u * o >>> 0) + (i * o >>> 16); return u * c + (f >> 16) + ((i * c >>> 0) + (65535 & f) >> 16) } }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { isubh: function (t, n, r, e) { var i = t >>> 0, o = r >>> 0; return (n >>> 0) - (e >>> 0) - ((~i & o | ~(i ^ o) & i - o >>> 0) >>> 31) | 0 } }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { RAD_PER_DEG: 180 / Math.PI }) }, function (t, n, r) { var e = r(1), i = Math.PI / 180; e(e.S, "Math", { radians: function (t) { return t * i } }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { scale: r(181) }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { signbit: function (t) { return (t = +t) != t ? t : 0 == t ? 1 / t == 1 / 0 : 0 < t } }) }, function (t, n, r) { var e = r(1); e(e.S, "Math", { umulh: function (t, n) { var r = +t, e = +n, i = 65535 & r, o = 65535 & e, u = r >>> 16, c = e >>> 16, f = (u * o >>> 0) + (i * o >>> 16); return u * c + (f >>> 16) + ((i * c >>> 0) + (65535 & f) >>> 16) } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(17), o = r(21), u = r(11); r(10) && e(e.P + r(126), "Object", { __defineGetter__: function (t, n) { u.f(i(this), t, { get: o(n), enumerable: !0, configurable: !0 }) } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(17), o = r(21), u = r(11); r(10) && e(e.P + r(126), "Object", { __defineSetter__: function (t, n) { u.f(i(this), t, { set: o(n), enumerable: !0, configurable: !0 }) } }) }, function (t, n, r) { var e = r(1), i = r(186)(!0); e(e.S, "Object", { entries: function (t) { return i(t) } }) }, function (t, n, r) { var e = r(1), f = r(187), a = r(33), s = r(31), l = r(139); e(e.S, "Object", { getOwnPropertyDescriptors: function (t) { for (var n, r, e = a(t), i = s.f, o = f(e), u = {}, c = 0; o.length > c;)void 0 !== (r = i(e, n = o[c++])) && l(u, n, r); return u } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(17), o = r(53), u = r(32), c = r(31).f; r(10) && e(e.P + r(126), "Object", { __lookupGetter__: function (t) { var n, r = i(this), e = o(t, !0); do { if (n = c(r, e)) return n.get } while (r = u(r)) } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(17), o = r(53), u = r(32), c = r(31).f; r(10) && e(e.P + r(126), "Object", { __lookupSetter__: function (t) { var n, r = i(this), e = o(t, !0); do { if (n = c(r, e)) return n.set } while (r = u(r)) } }) }, function (t, n, r) { var e = r(1), i = r(186)(!1); e(e.S, "Object", { values: function (t) { return i(t) } }) }, function (t, n, r) { "use strict"; var e = r(1), o = r(3), u = r(46), i = r(150)(), c = r(7)("observable"), f = r(21), a = r(2), s = r(70), l = r(76), h = r(26), v = r(71), p = v.RETURN, d = function (t) { return null == t ? void 0 : f(t) }, y = function (t) { var n = t._c; n && (t._c = void 0, n()) }, g = function (t) { return void 0 === t._o }, b = function (t) { g(t) || (t._o = void 0, y(t)) }, x = function (t, n) { a(t), this._c = void 0, this._o = t, t = new m(this); try { var r = n(t), e = r; null != r && ("function" == typeof r.unsubscribe ? r = function () { e.unsubscribe() } : f(r), this._c = r) } catch (n) { return void t.error(n) } g(this) && y(this) }; x.prototype = l({}, { unsubscribe: function () { b(this) } }); var m = function (t) { this._s = t }; m.prototype = l({}, { next: function (t) { var n = this._s; if (!g(n)) { var r = n._o; try { var e = d(r.next); if (e) return e.call(r, t) } catch (t) { try { b(n) } finally { throw t } } } }, error: function (t) { var n = this._s; if (g(n)) throw t; var r = n._o; n._o = void 0; try { var e = d(r.error); if (!e) throw t; t = e.call(r, t) } catch (t) { try { y(n) } finally { throw t } } return y(n), t }, complete: function (t) { var n = this._s; if (!g(n)) { var r = n._o; n._o = void 0; try { var e = d(r.complete); t = e ? e.call(r, t) : void 0 } catch (t) { try { y(n) } finally { throw t } } return y(n), t } } }); var S = function (t) { s(this, S, "Observable", "_f")._f = f(t) }; l(S.prototype, { subscribe: function (t) { return new x(t, this._f) }, forEach: function (e) { var i = this; return new (u.Promise || o.Promise)(function (t, n) { f(e); var r = i.subscribe({ next: function (t) { try { return e(t) } catch (t) { n(t), r.unsubscribe() } }, error: n, complete: t }) }) } }), l(S, { from: function (t) { var n = "function" == typeof this ? this : S, r = d(a(t)[c]); if (r) { var e = a(r.call(t)); return e.constructor === n ? e : new n(function (t) { return e.subscribe(t) }) } return new n(function (n) { var r = !1; return i(function () { if (!r) { try { if (v(t, !1, function (t) { if (n.next(t), r) return p }) === p) return } catch (t) { if (r) throw t; return void n.error(t) } n.complete() } }), function () { r = !0 } }) }, of: function () { for (var t = 0, n = arguments.length, e = new Array(n); t < n;)e[t] = arguments[t++]; return new ("function" == typeof this ? this : S)(function (n) { var r = !1; return i(function () { if (!r) { for (var t = 0; t < e.length; ++t)if (n.next(e[t]), r) return; n.complete() } }), function () { r = !0 } }) } }), h(S.prototype, c, function () { return this }), e(e.G, { Observable: S }), r(77)("Observable") }, function (t, n, r) { "use strict"; var e = r(1), i = r(46), o = r(3), u = r(119), c = r(191); e(e.P + e.R, "Promise", { finally: function (n) { var r = u(this, i.Promise || o.Promise), t = "function" == typeof n; return this.then(t ? function (t) { return c(r, n()).then(function () { return t }) } : n, t ? function (t) { return c(r, n()).then(function () { throw t }) } : n) } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(151), o = r(190); e(e.S, "Promise", { try: function (t) { var n = i.f(this), r = o(t); return (r.e ? n.reject : n.resolve)(r.v), n.promise } }) }, function (t, n, r) { var e = r(56), i = r(2), o = e.key, u = e.set; e.exp({ defineMetadata: function (t, n, r, e) { u(t, n, i(r), o(e)) } }) }, function (t, n, r) { var e = r(56), o = r(2), u = e.key, c = e.map, f = e.store; e.exp({ deleteMetadata: function (t, n) { var r = arguments.length < 3 ? void 0 : u(arguments[2]), e = c(o(n), r, !1); if (void 0 === e || !e.delete(t)) return !1; if (e.size) return !0; var i = f.get(n); return i.delete(r), !!i.size || f.delete(n) } }) }, function (t, n, r) { var o = r(199), u = r(167), e = r(56), i = r(2), c = r(32), f = e.keys, a = e.key, s = function (t, n) { var r = f(t, n), e = c(t); if (null === e) return r; var i = s(e, n); return i.length ? r.length ? u(new o(r.concat(i))) : i : r }; e.exp({ getMetadataKeys: function (t) { return s(i(t), arguments.length < 2 ? void 0 : a(arguments[1])) } }) }, function (t, n, r) { var e = r(56), i = r(2), o = r(32), u = e.has, c = e.get, f = e.key, a = function (t, n, r) { if (u(t, n, r)) return c(t, n, r); var e = o(n); return null !== e ? a(t, e, r) : void 0 }; e.exp({ getMetadata: function (t, n) { return a(t, i(n), arguments.length < 3 ? void 0 : f(arguments[2])) } }) }, function (t, n, r) { var e = r(56), i = r(2), o = e.keys, u = e.key; e.exp({ getOwnMetadataKeys: function (t) { return o(i(t), arguments.length < 2 ? void 0 : u(arguments[1])) } }) }, function (t, n, r) { var e = r(56), i = r(2), o = e.get, u = e.key; e.exp({ getOwnMetadata: function (t, n) { return o(t, i(n), arguments.length < 3 ? void 0 : u(arguments[2])) } }) }, function (t, n, r) { var e = r(56), i = r(2), o = r(32), u = e.has, c = e.key, f = function (t, n, r) { if (u(t, n, r)) return !0; var e = o(n); return null !== e && f(t, e, r) }; e.exp({ hasMetadata: function (t, n) { return f(t, i(n), arguments.length < 3 ? void 0 : c(arguments[2])) } }) }, function (t, n, r) { var e = r(56), i = r(2), o = e.has, u = e.key; e.exp({ hasOwnMetadata: function (t, n) { return o(t, i(n), arguments.length < 3 ? void 0 : u(arguments[2])) } }) }, function (t, n, r) { var e = r(56), i = r(2), o = r(21), u = e.key, c = e.set; e.exp({ metadata: function (r, e) { return function (t, n) { c(r, e, (void 0 !== n ? i : o)(t), u(n)) } } }) }, function (t, n, r) { r(129)("Set") }, function (t, n, r) { r(130)("Set") }, function (t, n, r) { var e = r(1); e(e.P + e.R, "Set", { toJSON: r(171)("Set") }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(131)(!0); e(e.P, "String", { at: function (t) { return i(this, t) } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(51), o = r(8), u = r(124), c = r(115), f = RegExp.prototype, a = function (t, n) { this._r = t, this._s = n }; r(146)(a, "RegExp String", function () { var t = this._r.exec(this._s); return { value: t, done: null === t } }), e(e.P, "String", { matchAll: function (t) { if (i(this), !u(t)) throw TypeError(t + " is not a regexp!"); var n = String(this), r = "flags" in f ? String(t.flags) : c.call(t), e = new RegExp(t.source, ~r.indexOf("g") ? r : "g" + r); return e.lastIndex = o(t.lastIndex), new a(e, n) } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(193), o = r(133), u = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o); e(e.P + e.F * u, "String", { padEnd: function (t) { return i(this, t, 1 < arguments.length ? arguments[1] : void 0, !1) } }) }, function (t, n, r) { "use strict"; var e = r(1), i = r(193), o = r(133), u = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o); e(e.P + e.F * u, "String", { padStart: function (t) { return i(this, t, 1 < arguments.length ? arguments[1] : void 0, !0) } }) }, function (t, n, r) { "use strict"; r(84)("trimLeft", function (t) { return function () { return t(this, 1) } }, "trimStart") }, function (t, n, r) { "use strict"; r(84)("trimRight", function (t) { return function () { return t(this, 2) } }, "trimEnd") }, function (t, n, r) { r(160)("asyncIterator") }, function (t, n, r) { r(160)("observable") }, function (t, n, r) { var e = r(1); e(e.S, "System", { global: r(3) }) }, function (t, n, r) { r(129)("WeakMap") }, function (t, n, r) { r(130)("WeakMap") }, function (t, n, r) { r(129)("WeakSet") }, function (t, n, r) { r(130)("WeakSet") }, function (t, n, r) { for (var e = r(162), i = r(74), o = r(27), u = r(3), c = r(26), f = r(82), a = r(7), s = a("iterator"), l = a("toStringTag"), h = f.Array, v = { CSSRuleList: !0, CSSStyleDeclaration: !1, CSSValueList: !1, ClientRectList: !1, DOMRectList: !1, DOMStringList: !1, DOMTokenList: !0, DataTransferItemList: !1, FileList: !1, HTMLAllCollection: !1, HTMLCollection: !1, HTMLFormElement: !1, HTMLSelectElement: !1, MediaList: !0, MimeTypeArray: !1, NamedNodeMap: !1, NodeList: !0, PaintRequestList: !1, Plugin: !1, PluginArray: !1, SVGLengthList: !1, SVGNumberList: !1, SVGPathSegList: !1, SVGPointList: !1, SVGStringList: !1, SVGTransformList: !1, SourceBufferList: !1, StyleSheetList: !0, TextTrackCueList: !1, TextTrackList: !1, TouchList: !1 }, p = i(v), d = 0; d < p.length; d++) { var y, g = p[d], b = v[g], x = u[g], m = x && x.prototype; if (m && (m[s] || c(m, s, h), m[l] || c(m, l, g), f[g] = h, b)) for (y in e) m[y] || o(m, y, e[y], !0) } }, function (t, n, r) { var e = r(1), i = r(158); e(e.G + e.B, { setImmediate: i.set, clearImmediate: i.clear }) }, function (t, n, r) { var e = r(3), i = r(1), o = r(133), u = [].slice, c = /MSIE .\./.test(o), f = function (i) { return function (t, n) { var r = 2 < arguments.length, e = !!r && u.call(arguments, 2); return i(r ? function () { ("function" == typeof t ? t : Function(t)).apply(this, e) } : t, n) } }; i(i.G + i.B + i.F * c, { setTimeout: f(e.setTimeout), setInterval: f(e.setInterval) }) }, function (t, n, r) { r(341), r(280), r(282), r(281), r(284), r(286), r(291), r(285), r(283), r(293), r(292), r(288), r(289), r(287), r(279), r(290), r(294), r(295), r(247), r(249), r(248), r(297), r(296), r(267), r(277), r(278), r(268), r(269), r(270), r(271), r(272), r(273), r(274), r(275), r(276), r(250), r(251), r(252), r(253), r(254), r(255), r(256), r(257), r(258), r(259), r(260), r(261), r(262), r(263), r(264), r(265), r(266), r(328), r(333), r(340), r(331), r(323), r(324), r(329), r(334), r(336), r(319), r(320), r(321), r(322), r(325), r(326), r(327), r(330), r(332), r(335), r(337), r(338), r(339), r(242), r(244), r(243), r(246), r(245), r(231), r(229), r(235), r(232), r(238), r(240), r(228), r(234), r(225), r(239), r(223), r(237), r(236), r(230), r(233), r(222), r(224), r(227), r(226), r(241), r(162), r(313), r(197), r(318), r(198), r(314), r(315), r(316), r(317), r(298), r(196), r(199), r(200), r(353), r(342), r(343), r(348), r(351), r(352), r(346), r(349), r(347), r(350), r(344), r(345), r(299), r(300), r(301), r(302), r(303), r(306), r(304), r(305), r(307), r(308), r(309), r(310), r(312), r(311), r(356), r(354), r(355), r(397), r(400), r(399), r(401), r(402), r(398), r(403), r(404), r(378), r(381), r(377), r(375), r(376), r(379), r(380), r(362), r(396), r(361), r(395), r(407), r(409), r(360), r(394), r(406), r(408), r(359), r(405), r(358), r(363), r(364), r(365), r(366), r(367), r(369), r(368), r(370), r(371), r(372), r(374), r(373), r(383), r(384), r(385), r(386), r(388), r(387), r(390), r(389), r(391), r(392), r(393), r(357), r(382), r(412), r(411), r(410), t.exports = r(46) }, function (t, n) { t.exports = function (t, n) { if ("string" == typeof n) return t.insertAdjacentHTML("afterend", n); var r = t.nextSibling; return r ? t.parentNode.insertBefore(n, r) : t.parentNode.appendChild(n) } }])</script>
<script src="/./main.a5fda8.js"></script>
<script>!function () { var e, t; e = "/slider.27463f.js", t = document.createElement("script"), document.getElementsByTagName("body")[0].appendChild(t), t.setAttribute("src", e) }()</script>
<script >
  console.log("成功！");
</script>



<!--  -->

<script>
  /* 标签页标题切换 */
  var originTitle = document.title;
  var titleTime;
  document.addEventListener("visibilitychange", function () {
    if (document.hidden) {
      document.title = "(つェ⊂) 我藏好了哦~ " + originTitle;
      clearTimeout(titleTime);
    } else {
      document.title = "(*´∇｀*) 被你发现啦~ " + originTitle;
      titleTime = setTimeout(function () {
        document.title = originTitle;
      }, 2000);
    }
  });
</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 50%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li>
      
        
      
      <li style="width: 50%" q-on="click: openSlider(e, 'friends')"><a href="javascript:void(0)" q-class="active:friends">友链</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find something…">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">ts</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">框架</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">样式</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">js</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">结构+样式</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">vue3</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">博客搭建</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">博客</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">vue2</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">项目</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">移动端</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">aplayer</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">vue</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            缺失模块。<br/>1、请确保node版本大于6.2<br/>2、在博客根目录（注意不是yilia-plus根目录）执行以下命令：<br/> npm i hexo-generator-json-content --save<br/><br/>
            3、在根目录_config.yml里添加配置：
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: false
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    
    	<section class="tools-section tools-section-friends" q-show="friends">
  		
        <ul class="search-ul">
          
            <li class="search-li">
              <a href="https://clear-liquid.github.io" target="_blank" 
                class="search-title" >
                
                  <img src="https://zhousiwei.gitee.io/ibooks/favicon.ico">
                
                試毅-思伟_技术笔记
              </a>
            </li>
          
            <li class="search-li">
              <a href="https://github.com/JoeyBling" target="_blank" 
                class="search-title" >
                
                  <i class="icon-link icon"></i>
                
                GitHub
              </a>
            </li>
          
            <li class="search-li">
              <a href="https://gitee.com/mu-ce" target="_blank" 
                class="search-title" >
                
                  <i class="icon-link icon"></i>
                
                码云
              </a>
            </li>
          
        </ul>
  		
    	</section>
    

    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>

  
<script type="text/javascript" src="/plugins/TweenMax/TweenMax.min.js"></script>
<script type="text/javascript" src="/plugins/TweenMax/HoverImg.js"></script>

<script>


  var hoverEffect = {
    "subNav": ".left-col .social a"
  }


  for (var x in hoverEffect) {
    // 初始化data-img属性值
    let $em = document.querySelectorAll(hoverEffect[x]);
    $em.forEach(($a) => {
      //console.log($a.href);
      if (isImageType($a.href)) {
        $a.setAttribute("data-img", $a.href)
      }
    })
    // 实现悬停元素预览图片效果
    let $a = document.querySelectorAll(hoverEffect[x] + "[data-img]");
    $a.forEach(($em) => {
      new HoverImgFx1($em)
    })
  }

</script>

  
<script type="text/javascript" src="/plugins/activate-power-mode/activate-power-mode.js"></script>
<script>
  POWERMODE.colorful = true; // make power mode colorful
  POWERMODE.shake = false; // turn off shake
  document.body.addEventListener('input', POWERMODE);
</script>

  
  <!-- <script async type="text/javascript" size="90" alpha="0.2" zIndex="0" src="/plugins/ribbon.js/ribbon.min.js"></script> -->
  
  
    <script type="text/javascript" src="/plugins/live2d-widget.js/L2Dwidget.min.js"></script>
<script type="text/javascript">
  /**
   * 完整配置请参考：https://l2dwidget.js.org/docs/class/src/index.js~L2Dwidget.html#instance-method-init
   */
  var pluginModelPath = "assets/", // 模型的文件路径，无需更改
    pluginRootPath = "/live2d_models/"; // 插件的路径，无需更改
  //特定的模型json文件名称
  var modelPathJson = {
    "epsilon2_1": "Epsilon2.1",
    "gf": "Gantzert_Felixander",
    "haru/01": "haru01",
    "haru/02": "haru02",
    "nietzsche": "nietzche"
  }

  
    var modelName = "miku";
  

  var modelJsonPath = "";
  if (modelPathJson[modelName]) {
    modelJsonPath = pluginRootPath + modelName + "/" + pluginModelPath + modelPathJson[modelName] +
      ".model.json";
  } else {
    modelJsonPath = pluginRootPath + modelName + "/" + pluginModelPath + modelName + ".model.json";
  }
  L2Dwidget.init({
    model: {
      jsonPath: modelJsonPath
    },
    display: {
       position: "right", 
       width: 145, 
       height: 320, 
       hOffset: 50, 
      
    },
    mobile: {
       show: false, 
       scale: 0.6 
    },
    react: {
       opacity: 1 
    }
  })

</script>

  
  
  <script type="text/javascript" src="/lib/snow.js"></script>
  <script type="text/javascript" src="/lib/jquery-2.1.4.min.js"></script>
  <script>
    snow.down();
    $(window).resize(function() {
      $("canvas").css("z-index","500").remove();
      snow.down();
    });
  </script>
  
</body>

</html>
